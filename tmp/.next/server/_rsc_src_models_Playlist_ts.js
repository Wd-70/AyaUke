"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_src_models_Playlist_ts";
exports.ids = ["_rsc_src_models_Playlist_ts"];
exports.modules = {

/***/ "(rsc)/./src/models/Playlist.ts":
/*!********************************!*\
  !*** ./src/models/Playlist.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst playlistSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    userId: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: 'User',\n        required: true\n    },\n    channelId: {\n        type: String,\n        required: true\n    },\n    name: {\n        type: String,\n        required: true,\n        maxlength: 100\n    },\n    description: {\n        type: String,\n        maxlength: 500,\n        default: ''\n    },\n    coverImage: {\n        type: String,\n        default: null\n    },\n    tags: [\n        {\n            type: String,\n            maxlength: 20\n        }\n    ],\n    songs: [\n        {\n            songId: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: 'SongDetail',\n                required: true\n            },\n            addedAt: {\n                type: Date,\n                default: Date.now\n            },\n            order: {\n                type: Number,\n                required: true\n            }\n        }\n    ],\n    // 공유 기능 관련\n    shareId: {\n        type: String,\n        required: true,\n        unique: true,\n        default: ()=>(0,crypto__WEBPACK_IMPORTED_MODULE_1__.randomUUID)()\n    },\n    isPublic: {\n        type: Boolean,\n        default: false\n    },\n    shareSettings: {\n        allowCopy: {\n            type: Boolean,\n            default: true\n        },\n        requireLogin: {\n            type: Boolean,\n            default: false\n        },\n        expiresAt: {\n            type: Date,\n            default: null\n        }\n    },\n    shareHistory: [\n        {\n            shareId: {\n                type: String,\n                required: true\n            },\n            createdAt: {\n                type: Date,\n                default: Date.now\n            },\n            revokedAt: {\n                type: Date,\n                required: true\n            }\n        }\n    ]\n}, {\n    timestamps: true,\n    toJSON: {\n        virtuals: true\n    },\n    toObject: {\n        virtuals: true\n    }\n});\n// 인덱스\nplaylistSchema.index({\n    channelId: 1,\n    name: 1\n});\nplaylistSchema.index({\n    userId: 1,\n    createdAt: -1\n});\nplaylistSchema.index({\n    tags: 1\n});\nplaylistSchema.index({\n    'songs.songId': 1\n});\n// shareId는 unique: true로 이미 인덱스가 생성됨\nplaylistSchema.index({\n    isPublic: 1\n});\n// 가상 필드 - 안전한 처리\nplaylistSchema.virtual('songCount').get(function() {\n    try {\n        return Array.isArray(this.songs) ? this.songs.length : 0;\n    } catch (error) {\n        return 0;\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Playlist || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Playlist', playlistSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1BsYXlsaXN0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQStCO0FBQ0k7QUErQm5DLE1BQU1FLGlCQUFpQixJQUFJRix3REFBZSxDQUFZO0lBQ3BESSxRQUFRO1FBQ05DLE1BQU1MLHdEQUFlLENBQUNNLEtBQUssQ0FBQ0MsUUFBUTtRQUNwQ0MsS0FBSztRQUNMQyxVQUFVO0lBQ1o7SUFDQUMsV0FBVztRQUNUTCxNQUFNTTtRQUNORixVQUFVO0lBQ1o7SUFDQUcsTUFBTTtRQUNKUCxNQUFNTTtRQUNORixVQUFVO1FBQ1ZJLFdBQVc7SUFDYjtJQUNBQyxhQUFhO1FBQ1hULE1BQU1NO1FBQ05FLFdBQVc7UUFDWEUsU0FBUztJQUNYO0lBQ0FDLFlBQVk7UUFDVlgsTUFBTU07UUFDTkksU0FBUztJQUNYO0lBQ0FFLE1BQU07UUFBQztZQUNMWixNQUFNTTtZQUNORSxXQUFXO1FBQ2I7S0FBRTtJQUNGSyxPQUFPO1FBQUM7WUFDTkMsUUFBUTtnQkFDTmQsTUFBTUwsd0RBQWUsQ0FBQ00sS0FBSyxDQUFDQyxRQUFRO2dCQUNwQ0MsS0FBSztnQkFDTEMsVUFBVTtZQUNaO1lBQ0FXLFNBQVM7Z0JBQ1BmLE1BQU1nQjtnQkFDTk4sU0FBU00sS0FBS0MsR0FBRztZQUNuQjtZQUNBQyxPQUFPO2dCQUNMbEIsTUFBTW1CO2dCQUNOZixVQUFVO1lBQ1o7UUFDRjtLQUFFO0lBQ0YsV0FBVztJQUNYZ0IsU0FBUztRQUNQcEIsTUFBTU07UUFDTkYsVUFBVTtRQUNWaUIsUUFBUTtRQUNSWCxTQUFTLElBQU1kLGtEQUFVQTtJQUMzQjtJQUNBMEIsVUFBVTtRQUNSdEIsTUFBTXVCO1FBQ05iLFNBQVM7SUFDWDtJQUNBYyxlQUFlO1FBQ2JDLFdBQVc7WUFDVHpCLE1BQU11QjtZQUNOYixTQUFTO1FBQ1g7UUFDQWdCLGNBQWM7WUFDWjFCLE1BQU11QjtZQUNOYixTQUFTO1FBQ1g7UUFDQWlCLFdBQVc7WUFDVDNCLE1BQU1nQjtZQUNOTixTQUFTO1FBQ1g7SUFDRjtJQUNBa0IsY0FBYztRQUFDO1lBQ2JSLFNBQVM7Z0JBQ1BwQixNQUFNTTtnQkFDTkYsVUFBVTtZQUNaO1lBQ0F5QixXQUFXO2dCQUNUN0IsTUFBTWdCO2dCQUNOTixTQUFTTSxLQUFLQyxHQUFHO1lBQ25CO1lBQ0FhLFdBQVc7Z0JBQ1Q5QixNQUFNZ0I7Z0JBQ05aLFVBQVU7WUFDWjtRQUNGO0tBQUU7QUFDSixHQUFHO0lBQ0QyQixZQUFZO0lBQ1pDLFFBQVE7UUFBRUMsVUFBVTtJQUFLO0lBQ3pCQyxVQUFVO1FBQUVELFVBQVU7SUFBSztBQUM3QjtBQUVBLE1BQU07QUFDTnBDLGVBQWVzQyxLQUFLLENBQUM7SUFBRTlCLFdBQVc7SUFBR0UsTUFBTTtBQUFFO0FBQzdDVixlQUFlc0MsS0FBSyxDQUFDO0lBQUVwQyxRQUFRO0lBQUc4QixXQUFXLENBQUM7QUFBRTtBQUNoRGhDLGVBQWVzQyxLQUFLLENBQUM7SUFBRXZCLE1BQU07QUFBRTtBQUMvQmYsZUFBZXNDLEtBQUssQ0FBQztJQUFFLGdCQUFnQjtBQUFFO0FBQ3pDLHFDQUFxQztBQUNyQ3RDLGVBQWVzQyxLQUFLLENBQUM7SUFBRWIsVUFBVTtBQUFFO0FBRW5DLGlCQUFpQjtBQUNqQnpCLGVBQWV1QyxPQUFPLENBQUMsYUFBYUMsR0FBRyxDQUFDO0lBQ3RDLElBQUk7UUFDRixPQUFPQyxNQUFNQyxPQUFPLENBQUMsSUFBSSxDQUFDMUIsS0FBSyxJQUFJLElBQUksQ0FBQ0EsS0FBSyxDQUFDMkIsTUFBTSxHQUFHO0lBQ3pELEVBQUUsT0FBT0MsT0FBTztRQUNkLE9BQU87SUFDVDtBQUNGO0FBRUEsaUVBQWU5Qyx3REFBZSxDQUFDZ0QsUUFBUSxJQUFJaEQscURBQWMsQ0FBWSxZQUFZRSxlQUFlQSxFQUFBIiwic291cmNlcyI6WyIvbW50L2YvRGF0YS9HaXQvY2xhdWRlLWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL21vZGVscy9QbGF5bGlzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXG5pbXBvcnQgeyByYW5kb21VVUlEIH0gZnJvbSAnY3J5cHRvJ1xuXG5leHBvcnQgaW50ZXJmYWNlIElQbGF5bGlzdCBleHRlbmRzIG1vbmdvb3NlLkRvY3VtZW50IHtcbiAgdXNlcklkOiBtb25nb29zZS5UeXBlcy5PYmplY3RJZFxuICBjaGFubmVsSWQ6IHN0cmluZ1xuICBuYW1lOiBzdHJpbmdcbiAgZGVzY3JpcHRpb24/OiBzdHJpbmdcbiAgY292ZXJJbWFnZT86IHN0cmluZ1xuICB0YWdzOiBzdHJpbmdbXVxuICBzb25nczogQXJyYXk8e1xuICAgIHNvbmdJZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWRcbiAgICBhZGRlZEF0OiBEYXRlXG4gICAgb3JkZXI6IG51bWJlclxuICB9PlxuICAvLyDqs7XsnKAg6riw64qlIOq0gOugqFxuICBzaGFyZUlkOiBzdHJpbmdcbiAgaXNQdWJsaWM6IGJvb2xlYW5cbiAgc2hhcmVTZXR0aW5nczoge1xuICAgIGFsbG93Q29weTogYm9vbGVhblxuICAgIHJlcXVpcmVMb2dpbjogYm9vbGVhblxuICAgIGV4cGlyZXNBdD86IERhdGVcbiAgfVxuICBzaGFyZUhpc3Rvcnk6IEFycmF5PHtcbiAgICBzaGFyZUlkOiBzdHJpbmdcbiAgICBjcmVhdGVkQXQ6IERhdGVcbiAgICByZXZva2VkQXQ6IERhdGVcbiAgfT5cbiAgY3JlYXRlZEF0OiBEYXRlXG4gIHVwZGF0ZWRBdDogRGF0ZVxufVxuXG5jb25zdCBwbGF5bGlzdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWE8SVBsYXlsaXN0Pih7XG4gIHVzZXJJZDoge1xuICAgIHR5cGU6IG1vbmdvb3NlLlNjaGVtYS5UeXBlcy5PYmplY3RJZCxcbiAgICByZWY6ICdVc2VyJyxcbiAgICByZXF1aXJlZDogdHJ1ZVxuICB9LFxuICBjaGFubmVsSWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWVcbiAgfSxcbiAgbmFtZToge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICBtYXhsZW5ndGg6IDEwMFxuICB9LFxuICBkZXNjcmlwdGlvbjoge1xuICAgIHR5cGU6IFN0cmluZyxcbiAgICBtYXhsZW5ndGg6IDUwMCxcbiAgICBkZWZhdWx0OiAnJ1xuICB9LFxuICBjb3ZlckltYWdlOiB7XG4gICAgdHlwZTogU3RyaW5nLFxuICAgIGRlZmF1bHQ6IG51bGxcbiAgfSxcbiAgdGFnczogW3tcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgbWF4bGVuZ3RoOiAyMFxuICB9XSxcbiAgc29uZ3M6IFt7XG4gICAgc29uZ0lkOiB7XG4gICAgICB0eXBlOiBtb25nb29zZS5TY2hlbWEuVHlwZXMuT2JqZWN0SWQsXG4gICAgICByZWY6ICdTb25nRGV0YWlsJyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICBhZGRlZEF0OiB7XG4gICAgICB0eXBlOiBEYXRlLFxuICAgICAgZGVmYXVsdDogRGF0ZS5ub3dcbiAgICB9LFxuICAgIG9yZGVyOiB7XG4gICAgICB0eXBlOiBOdW1iZXIsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH1cbiAgfV0sXG4gIC8vIOqzteycoCDquLDriqUg6rSA66CoXG4gIHNoYXJlSWQ6IHtcbiAgICB0eXBlOiBTdHJpbmcsXG4gICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgdW5pcXVlOiB0cnVlLFxuICAgIGRlZmF1bHQ6ICgpID0+IHJhbmRvbVVVSUQoKVxuICB9LFxuICBpc1B1YmxpYzoge1xuICAgIHR5cGU6IEJvb2xlYW4sXG4gICAgZGVmYXVsdDogZmFsc2VcbiAgfSxcbiAgc2hhcmVTZXR0aW5nczoge1xuICAgIGFsbG93Q29weToge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IHRydWVcbiAgICB9LFxuICAgIHJlcXVpcmVMb2dpbjoge1xuICAgICAgdHlwZTogQm9vbGVhbixcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXG4gICAgfSxcbiAgICBleHBpcmVzQXQ6IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICBkZWZhdWx0OiBudWxsXG4gICAgfVxuICB9LFxuICBzaGFyZUhpc3Rvcnk6IFt7XG4gICAgc2hhcmVJZDoge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICB9LFxuICAgIGNyZWF0ZWRBdDoge1xuICAgICAgdHlwZTogRGF0ZSxcbiAgICAgIGRlZmF1bHQ6IERhdGUubm93XG4gICAgfSxcbiAgICByZXZva2VkQXQ6IHtcbiAgICAgIHR5cGU6IERhdGUsXG4gICAgICByZXF1aXJlZDogdHJ1ZVxuICAgIH1cbiAgfV1cbn0sIHtcbiAgdGltZXN0YW1wczogdHJ1ZSxcbiAgdG9KU09OOiB7IHZpcnR1YWxzOiB0cnVlIH0sXG4gIHRvT2JqZWN0OiB7IHZpcnR1YWxzOiB0cnVlIH1cbn0pXG5cbi8vIOyduOuNseyKpFxucGxheWxpc3RTY2hlbWEuaW5kZXgoeyBjaGFubmVsSWQ6IDEsIG5hbWU6IDEgfSlcbnBsYXlsaXN0U2NoZW1hLmluZGV4KHsgdXNlcklkOiAxLCBjcmVhdGVkQXQ6IC0xIH0pXG5wbGF5bGlzdFNjaGVtYS5pbmRleCh7IHRhZ3M6IDEgfSlcbnBsYXlsaXN0U2NoZW1hLmluZGV4KHsgJ3NvbmdzLnNvbmdJZCc6IDEgfSlcbi8vIHNoYXJlSWTripQgdW5pcXVlOiB0cnVl66GcIOydtOuvuCDsnbjrjbHsiqTqsIAg7IOd7ISx65CoXG5wbGF5bGlzdFNjaGVtYS5pbmRleCh7IGlzUHVibGljOiAxIH0pXG5cbi8vIOqwgOyDgSDtlYTrk5wgLSDslYjsoITtlZwg7LKY66asXG5wbGF5bGlzdFNjaGVtYS52aXJ0dWFsKCdzb25nQ291bnQnKS5nZXQoZnVuY3Rpb24oKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodGhpcy5zb25ncykgPyB0aGlzLnNvbmdzLmxlbmd0aCA6IDBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gMFxuICB9XG59KVxuXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuUGxheWxpc3QgfHwgbW9uZ29vc2UubW9kZWw8SVBsYXlsaXN0PignUGxheWxpc3QnLCBwbGF5bGlzdFNjaGVtYSkiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyYW5kb21VVUlEIiwicGxheWxpc3RTY2hlbWEiLCJTY2hlbWEiLCJ1c2VySWQiLCJ0eXBlIiwiVHlwZXMiLCJPYmplY3RJZCIsInJlZiIsInJlcXVpcmVkIiwiY2hhbm5lbElkIiwiU3RyaW5nIiwibmFtZSIsIm1heGxlbmd0aCIsImRlc2NyaXB0aW9uIiwiZGVmYXVsdCIsImNvdmVySW1hZ2UiLCJ0YWdzIiwic29uZ3MiLCJzb25nSWQiLCJhZGRlZEF0IiwiRGF0ZSIsIm5vdyIsIm9yZGVyIiwiTnVtYmVyIiwic2hhcmVJZCIsInVuaXF1ZSIsImlzUHVibGljIiwiQm9vbGVhbiIsInNoYXJlU2V0dGluZ3MiLCJhbGxvd0NvcHkiLCJyZXF1aXJlTG9naW4iLCJleHBpcmVzQXQiLCJzaGFyZUhpc3RvcnkiLCJjcmVhdGVkQXQiLCJyZXZva2VkQXQiLCJ0aW1lc3RhbXBzIiwidG9KU09OIiwidmlydHVhbHMiLCJ0b09iamVjdCIsImluZGV4IiwidmlydHVhbCIsImdldCIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsImVycm9yIiwibW9kZWxzIiwiUGxheWxpc3QiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Playlist.ts\n");

/***/ })

};
;