"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "_rsc_src_models_Playlist_ts";
exports.ids = ["_rsc_src_models_Playlist_ts"];
exports.modules = {

/***/ "(rsc)/./src/models/Playlist.ts":
/*!********************************!*\
  !*** ./src/models/Playlist.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! crypto */ \"crypto\");\n/* harmony import */ var crypto__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(crypto__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst playlistSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    userId: {\n        type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n        ref: 'User',\n        required: true\n    },\n    channelId: {\n        type: String,\n        required: true\n    },\n    name: {\n        type: String,\n        required: true,\n        maxlength: 100\n    },\n    description: {\n        type: String,\n        maxlength: 500,\n        default: ''\n    },\n    coverImage: {\n        type: String,\n        default: null\n    },\n    tags: [\n        {\n            type: String,\n            maxlength: 20\n        }\n    ],\n    songs: [\n        {\n            songId: {\n                type: (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema).Types.ObjectId,\n                ref: 'SongDetail',\n                required: true\n            },\n            addedAt: {\n                type: Date,\n                default: Date.now\n            },\n            order: {\n                type: Number,\n                required: true\n            }\n        }\n    ],\n    // 공유 기능 관련\n    shareId: {\n        type: String,\n        required: true,\n        unique: true,\n        default: ()=>(0,crypto__WEBPACK_IMPORTED_MODULE_1__.randomUUID)()\n    },\n    isPublic: {\n        type: Boolean,\n        default: false\n    },\n    shareSettings: {\n        allowCopy: {\n            type: Boolean,\n            default: true\n        },\n        requireLogin: {\n            type: Boolean,\n            default: false\n        },\n        expiresAt: {\n            type: Date,\n            default: null\n        }\n    },\n    shareHistory: [\n        {\n            shareId: {\n                type: String,\n                required: true\n            },\n            createdAt: {\n                type: Date,\n                default: Date.now\n            },\n            revokedAt: {\n                type: Date,\n                required: true\n            }\n        }\n    ]\n}, {\n    timestamps: true,\n    toJSON: {\n        virtuals: true\n    },\n    toObject: {\n        virtuals: true\n    }\n});\n// 인덱스\nplaylistSchema.index({\n    channelId: 1,\n    name: 1\n});\nplaylistSchema.index({\n    userId: 1,\n    createdAt: -1\n});\nplaylistSchema.index({\n    tags: 1\n});\nplaylistSchema.index({\n    'songs.songId': 1\n});\n// shareId는 unique: true로 이미 인덱스가 생성됨\nplaylistSchema.index({\n    isPublic: 1\n});\n// 가상 필드 - 안전한 처리\nplaylistSchema.virtual('songCount').get(function() {\n    try {\n        return Array.isArray(this.songs) ? this.songs.length : 0;\n    } catch (error) {\n        return 0;\n    }\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Playlist || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('Playlist', playlistSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1BsYXlsaXN0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQStCO0FBQ0k7QUErQm5DLE1BQU1FLGlCQUFpQixJQUFJRix3REFBZSxDQUFZO0lBQ3BESSxRQUFRO1FBQ05DLE1BQU1MLHdEQUFlLENBQUNNLEtBQUssQ0FBQ0MsUUFBUTtRQUNwQ0MsS0FBSztRQUNMQyxVQUFVO0lBQ1o7SUFDQUMsV0FBVztRQUNUTCxNQUFNTTtRQUNORixVQUFVO0lBQ1o7SUFDQUcsTUFBTTtRQUNKUCxNQUFNTTtRQUNORixVQUFVO1FBQ1ZJLFdBQVc7SUFDYjtJQUNBQyxhQUFhO1FBQ1hULE1BQU1NO1FBQ05FLFdBQVc7UUFDWEUsU0FBUztJQUNYO0lBQ0FDLFlBQVk7UUFDVlgsTUFBTU07UUFDTkksU0FBUztJQUNYO0lBQ0FFLE1BQU07UUFBQztZQUNMWixNQUFNTTtZQUNORSxXQUFXO1FBQ2I7S0FBRTtJQUNGSyxPQUFPO1FBQUM7WUFDTkMsUUFBUTtnQkFDTmQsTUFBTUwsd0RBQWUsQ0FBQ00sS0FBSyxDQUFDQyxRQUFRO2dCQUNwQ0MsS0FBSztnQkFDTEMsVUFBVTtZQUNaO1lBQ0FXLFNBQVM7Z0JBQ1BmLE1BQU1nQjtnQkFDTk4sU0FBU00sS0FBS0MsR0FBRztZQUNuQjtZQUNBQyxPQUFPO2dCQUNMbEIsTUFBTW1CO2dCQUNOZixVQUFVO1lBQ1o7UUFDRjtLQUFFO0lBQ0YsV0FBVztJQUNYZ0IsU0FBUztRQUNQcEIsTUFBTU07UUFDTkYsVUFBVTtRQUNWaUIsUUFBUTtRQUNSWCxTQUFTLElBQU1kLGtEQUFVQTtJQUMzQjtJQUNBMEIsVUFBVTtRQUNSdEIsTUFBTXVCO1FBQ05iLFNBQVM7SUFDWDtJQUNBYyxlQUFlO1FBQ2JDLFdBQVc7WUFDVHpCLE1BQU11QjtZQUNOYixTQUFTO1FBQ1g7UUFDQWdCLGNBQWM7WUFDWjFCLE1BQU11QjtZQUNOYixTQUFTO1FBQ1g7UUFDQWlCLFdBQVc7WUFDVDNCLE1BQU1nQjtZQUNOTixTQUFTO1FBQ1g7SUFDRjtJQUNBa0IsY0FBYztRQUFDO1lBQ2JSLFNBQVM7Z0JBQ1BwQixNQUFNTTtnQkFDTkYsVUFBVTtZQUNaO1lBQ0F5QixXQUFXO2dCQUNUN0IsTUFBTWdCO2dCQUNOTixTQUFTTSxLQUFLQyxHQUFHO1lBQ25CO1lBQ0FhLFdBQVc7Z0JBQ1Q5QixNQUFNZ0I7Z0JBQ05aLFVBQVU7WUFDWjtRQUNGO0tBQUU7QUFDSixHQUFHO0lBQ0QyQixZQUFZO0lBQ1pDLFFBQVE7UUFBRUMsVUFBVTtJQUFLO0lBQ3pCQyxVQUFVO1FBQUVELFVBQVU7SUFBSztBQUM3QjtBQUVBLE1BQU07QUFDTnBDLGVBQWVzQyxLQUFLLENBQUM7SUFBRTlCLFdBQVc7SUFBR0UsTUFBTTtBQUFFO0FBQzdDVixlQUFlc0MsS0FBSyxDQUFDO0lBQUVwQyxRQUFRO0lBQUc4QixXQUFXLENBQUM7QUFBRTtBQUNoRGhDLGVBQWVzQyxLQUFLLENBQUM7SUFBRXZCLE1BQU07QUFBRTtBQUMvQmYsZUFBZXNDLEtBQUssQ0FBQztJQUFFLGdCQUFnQjtBQUFFO0FBQ3pDLHFDQUFxQztBQUNyQ3RDLGVBQWVzQyxLQUFLLENBQUM7SUFBRWIsVUFBVTtBQUFFO0FBRW5DLGlCQUFpQjtBQUNqQnpCLGVBQWV1QyxPQUFPLENBQUMsYUFBYUMsR0FBRyxDQUFDO0lBQ3RDLElBQUk7UUFDRixPQUFPQyxNQUFNQyxPQUFPLENBQUMsSUFBSSxDQUFDMUIsS0FBSyxJQUFJLElBQUksQ0FBQ0EsS0FBSyxDQUFDMkIsTUFBTSxHQUFHO0lBQ3pELEVBQUUsT0FBT0MsT0FBTztRQUNkLE9BQU87SUFDVDtBQUNGO0FBRUEsaUVBQWU5Qyx3REFBZSxDQUFDZ0QsUUFBUSxJQUFJaEQscURBQWMsQ0FBWSxZQUFZRSxlQUFlQSxFQUFBIiwic291cmNlcyI6WyIvbW50L2YvRGF0YS9HaXQvY2xhdWRlLWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL21vZGVscy9QbGF5bGlzdC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXHJcbmltcG9ydCB7IHJhbmRvbVVVSUQgfSBmcm9tICdjcnlwdG8nXHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIElQbGF5bGlzdCBleHRlbmRzIG1vbmdvb3NlLkRvY3VtZW50IHtcclxuICB1c2VySWQ6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkXHJcbiAgY2hhbm5lbElkOiBzdHJpbmdcclxuICBuYW1lOiBzdHJpbmdcclxuICBkZXNjcmlwdGlvbj86IHN0cmluZ1xyXG4gIGNvdmVySW1hZ2U/OiBzdHJpbmdcclxuICB0YWdzOiBzdHJpbmdbXVxyXG4gIHNvbmdzOiBBcnJheTx7XHJcbiAgICBzb25nSWQ6IG1vbmdvb3NlLlR5cGVzLk9iamVjdElkXHJcbiAgICBhZGRlZEF0OiBEYXRlXHJcbiAgICBvcmRlcjogbnVtYmVyXHJcbiAgfT5cclxuICAvLyDqs7XsnKAg6riw64qlIOq0gOugqFxyXG4gIHNoYXJlSWQ6IHN0cmluZ1xyXG4gIGlzUHVibGljOiBib29sZWFuXHJcbiAgc2hhcmVTZXR0aW5nczoge1xyXG4gICAgYWxsb3dDb3B5OiBib29sZWFuXHJcbiAgICByZXF1aXJlTG9naW46IGJvb2xlYW5cclxuICAgIGV4cGlyZXNBdD86IERhdGVcclxuICB9XHJcbiAgc2hhcmVIaXN0b3J5OiBBcnJheTx7XHJcbiAgICBzaGFyZUlkOiBzdHJpbmdcclxuICAgIGNyZWF0ZWRBdDogRGF0ZVxyXG4gICAgcmV2b2tlZEF0OiBEYXRlXHJcbiAgfT5cclxuICBjcmVhdGVkQXQ6IERhdGVcclxuICB1cGRhdGVkQXQ6IERhdGVcclxufVxyXG5cclxuY29uc3QgcGxheWxpc3RTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hPElQbGF5bGlzdD4oe1xyXG4gIHVzZXJJZDoge1xyXG4gICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVmOiAnVXNlcicsXHJcbiAgICByZXF1aXJlZDogdHJ1ZVxyXG4gIH0sXHJcbiAgY2hhbm5lbElkOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZVxyXG4gIH0sXHJcbiAgbmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICBtYXhsZW5ndGg6IDEwMFxyXG4gIH0sXHJcbiAgZGVzY3JpcHRpb246IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIG1heGxlbmd0aDogNTAwLFxyXG4gICAgZGVmYXVsdDogJydcclxuICB9LFxyXG4gIGNvdmVySW1hZ2U6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGRlZmF1bHQ6IG51bGxcclxuICB9LFxyXG4gIHRhZ3M6IFt7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBtYXhsZW5ndGg6IDIwXHJcbiAgfV0sXHJcbiAgc29uZ3M6IFt7XHJcbiAgICBzb25nSWQ6IHtcclxuICAgICAgdHlwZTogbW9uZ29vc2UuU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgICByZWY6ICdTb25nRGV0YWlsJyxcclxuICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgIH0sXHJcbiAgICBhZGRlZEF0OiB7XHJcbiAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgIGRlZmF1bHQ6IERhdGUubm93XHJcbiAgICB9LFxyXG4gICAgb3JkZXI6IHtcclxuICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgfVxyXG4gIH1dLFxyXG4gIC8vIOqzteycoCDquLDriqUg6rSA66CoXHJcbiAgc2hhcmVJZDoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB1bmlxdWU6IHRydWUsXHJcbiAgICBkZWZhdWx0OiAoKSA9PiByYW5kb21VVUlEKClcclxuICB9LFxyXG4gIGlzUHVibGljOiB7XHJcbiAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgZGVmYXVsdDogZmFsc2VcclxuICB9LFxyXG4gIHNoYXJlU2V0dGluZ3M6IHtcclxuICAgIGFsbG93Q29weToge1xyXG4gICAgICB0eXBlOiBCb29sZWFuLFxyXG4gICAgICBkZWZhdWx0OiB0cnVlXHJcbiAgICB9LFxyXG4gICAgcmVxdWlyZUxvZ2luOiB7XHJcbiAgICAgIHR5cGU6IEJvb2xlYW4sXHJcbiAgICAgIGRlZmF1bHQ6IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgZXhwaXJlc0F0OiB7XHJcbiAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgIGRlZmF1bHQ6IG51bGxcclxuICAgIH1cclxuICB9LFxyXG4gIHNoYXJlSGlzdG9yeTogW3tcclxuICAgIHNoYXJlSWQ6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgfSxcclxuICAgIGNyZWF0ZWRBdDoge1xyXG4gICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICBkZWZhdWx0OiBEYXRlLm5vd1xyXG4gICAgfSxcclxuICAgIHJldm9rZWRBdDoge1xyXG4gICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgfVxyXG4gIH1dXHJcbn0sIHtcclxuICB0aW1lc3RhbXBzOiB0cnVlLFxyXG4gIHRvSlNPTjogeyB2aXJ0dWFsczogdHJ1ZSB9LFxyXG4gIHRvT2JqZWN0OiB7IHZpcnR1YWxzOiB0cnVlIH1cclxufSlcclxuXHJcbi8vIOyduOuNseyKpFxyXG5wbGF5bGlzdFNjaGVtYS5pbmRleCh7IGNoYW5uZWxJZDogMSwgbmFtZTogMSB9KVxyXG5wbGF5bGlzdFNjaGVtYS5pbmRleCh7IHVzZXJJZDogMSwgY3JlYXRlZEF0OiAtMSB9KVxyXG5wbGF5bGlzdFNjaGVtYS5pbmRleCh7IHRhZ3M6IDEgfSlcclxucGxheWxpc3RTY2hlbWEuaW5kZXgoeyAnc29uZ3Muc29uZ0lkJzogMSB9KVxyXG4vLyBzaGFyZUlk64qUIHVuaXF1ZTogdHJ1ZeuhnCDsnbTrr7gg7J24642x7Iqk6rCAIOyDneyEseuQqFxyXG5wbGF5bGlzdFNjaGVtYS5pbmRleCh7IGlzUHVibGljOiAxIH0pXHJcblxyXG4vLyDqsIDsg4Eg7ZWE65OcIC0g7JWI7KCE7ZWcIOyymOumrFxyXG5wbGF5bGlzdFNjaGVtYS52aXJ0dWFsKCdzb25nQ291bnQnKS5nZXQoZnVuY3Rpb24oKSB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBBcnJheS5pc0FycmF5KHRoaXMuc29uZ3MpID8gdGhpcy5zb25ncy5sZW5ndGggOiAwXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIHJldHVybiAwXHJcbiAgfVxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWxzLlBsYXlsaXN0IHx8IG1vbmdvb3NlLm1vZGVsPElQbGF5bGlzdD4oJ1BsYXlsaXN0JywgcGxheWxpc3RTY2hlbWEpIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmFuZG9tVVVJRCIsInBsYXlsaXN0U2NoZW1hIiwiU2NoZW1hIiwidXNlcklkIiwidHlwZSIsIlR5cGVzIiwiT2JqZWN0SWQiLCJyZWYiLCJyZXF1aXJlZCIsImNoYW5uZWxJZCIsIlN0cmluZyIsIm5hbWUiLCJtYXhsZW5ndGgiLCJkZXNjcmlwdGlvbiIsImRlZmF1bHQiLCJjb3ZlckltYWdlIiwidGFncyIsInNvbmdzIiwic29uZ0lkIiwiYWRkZWRBdCIsIkRhdGUiLCJub3ciLCJvcmRlciIsIk51bWJlciIsInNoYXJlSWQiLCJ1bmlxdWUiLCJpc1B1YmxpYyIsIkJvb2xlYW4iLCJzaGFyZVNldHRpbmdzIiwiYWxsb3dDb3B5IiwicmVxdWlyZUxvZ2luIiwiZXhwaXJlc0F0Iiwic2hhcmVIaXN0b3J5IiwiY3JlYXRlZEF0IiwicmV2b2tlZEF0IiwidGltZXN0YW1wcyIsInRvSlNPTiIsInZpcnR1YWxzIiwidG9PYmplY3QiLCJpbmRleCIsInZpcnR1YWwiLCJnZXQiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJlcnJvciIsIm1vZGVscyIsIlBsYXlsaXN0IiwibW9kZWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/models/Playlist.ts\n");

/***/ })

};
;