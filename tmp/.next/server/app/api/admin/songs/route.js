/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/songs/route";
exports.ids = ["app/api/admin/songs/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fsongs%2Froute&page=%2Fapi%2Fadmin%2Fsongs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fsongs%2Froute.ts&appDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fsongs%2Froute&page=%2Fapi%2Fadmin%2Fsongs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fsongs%2Froute.ts&appDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _mnt_f_Data_Git_claude_code_ayauke_page_ayauke_page_src_app_api_admin_songs_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/admin/songs/route.ts */ \"(rsc)/./src/app/api/admin/songs/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/songs/route\",\n        pathname: \"/api/admin/songs\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/songs/route\"\n    },\n    resolvedPagePath: \"/mnt/f/Data/Git/claude-code/ayauke-page/ayauke-page/src/app/api/admin/songs/route.ts\",\n    nextConfigOutput,\n    userland: _mnt_f_Data_Git_claude_code_ayauke_page_ayauke_page_src_app_api_admin_songs_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRnNvbmdzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZhZG1pbiUyRnNvbmdzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGYWRtaW4lMkZzb25ncyUyRnJvdXRlLnRzJmFwcERpcj0lMkZtbnQlMkZmJTJGRGF0YSUyRkdpdCUyRmNsYXVkZS1jb2RlJTJGYXlhdWtlLXBhZ2UlMkZheWF1a2UtcGFnZSUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGbW50JTJGZiUyRkRhdGElMkZHaXQlMkZjbGF1ZGUtY29kZSUyRmF5YXVrZS1wYWdlJTJGYXlhdWtlLXBhZ2UmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ29DO0FBQ2pIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvbW50L2YvRGF0YS9HaXQvY2xhdWRlLWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL2FwcC9hcGkvYWRtaW4vc29uZ3Mvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FkbWluL3NvbmdzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWRtaW4vc29uZ3NcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL2FkbWluL3NvbmdzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL21udC9mL0RhdGEvR2l0L2NsYXVkZS1jb2RlL2F5YXVrZS1wYWdlL2F5YXVrZS1wYWdlL3NyYy9hcHAvYXBpL2FkbWluL3NvbmdzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fsongs%2Froute&page=%2Fapi%2Fadmin%2Fsongs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fsongs%2Froute.ts&appDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/admin/songs/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/admin/songs/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/next */ \"(rsc)/./node_modules/next-auth/next/index.js\");\n/* harmony import */ var _lib_authOptions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/authOptions */ \"(rsc)/./src/lib/authOptions.ts\");\n/* harmony import */ var _lib_googleSheets__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/googleSheets */ \"(rsc)/./src/lib/googleSheets.ts\");\n/* harmony import */ var _lib_permissions__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/permissions */ \"(rsc)/./src/lib/permissions.ts\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n/* harmony import */ var _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/models/SongDetail */ \"(rsc)/./src/models/SongDetail.ts\");\n\n\n\n\n\n\n\nasync function GET(request) {\n    try {\n        // ÎÖ∏Îûò Ï°∞Ìöå Í∂åÌïú Ï≤¥ÌÅ¨\n        const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_authOptions__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session || !(0,_lib_permissions__WEBPACK_IMPORTED_MODULE_4__.hasPermission)(session.user.role, _lib_permissions__WEBPACK_IMPORTED_MODULE_4__.Permission.SONGS_VIEW)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'ÎÖ∏Îûò Í¥ÄÎ¶¨ Í∂åÌïúÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.'\n            }, {\n                status: 403\n            });\n        }\n        // MongoDBÏóêÏÑú Í≥° Îç∞Ïù¥ÌÑ∞ ÏßÅÏ†ë Í∞ÄÏ†∏Ïò§Í∏∞ (Íµ¨Í∏ÄÏãúÌä∏ Ï†úÏô∏)\n        const { songDetails } = await (0,_lib_googleSheets__WEBPACK_IMPORTED_MODULE_3__.fetchSongDetailsFromMongo)();\n        // SongDetailÏùÑ Song ÌòïÌÉúÎ°ú Î≥ÄÌôòÌïòÏó¨ Í¥ÄÎ¶¨Ïö© Îç∞Ïù¥ÌÑ∞ ÏÉùÏÑ±\n        const songs = songDetails.map((detail)=>({\n                id: detail._id.toString(),\n                title: detail.title,\n                artist: detail.artist,\n                titleAlias: detail.titleAlias,\n                artistAlias: detail.artistAlias,\n                language: detail.language || 'Korean',\n                mrLinks: detail.mrLinks || [],\n                lyrics: detail.lyrics || '',\n                personalNotes: detail.personalNotes || '',\n                tags: detail.searchTags || [],\n                keyAdjustment: detail.keyAdjustment,\n                selectedMRIndex: detail.selectedMRIndex || 0,\n                createdAt: detail.createdAt,\n                updatedAt: detail.updatedAt,\n                source: 'mongodb'\n            }));\n        // Í¥ÄÎ¶¨Ïö© Îç∞Ïù¥ÌÑ∞ Î≥ÄÌôò Î∞è ÌÜµÍ≥Ñ Í≥ÑÏÇ∞\n        const songsWithStatus = songs.map((song)=>{\n            let status = 'complete';\n            // MR ÎßÅÌÅ¨ ÏÉÅÌÉú ÌôïÏù∏\n            const hasMR = song.mrLinks && song.mrLinks.length > 0;\n            // Í∞ÄÏÇ¨ ÏÉÅÌÉú ÌôïÏù∏\n            const hasLyrics = song.lyrics && song.lyrics.trim().length > 0;\n            // ÏÉÅÌÉú Í≤∞Ï†ï\n            if (!hasMR && !hasLyrics) {\n                status = 'incomplete';\n            } else if (!hasMR) {\n                status = 'missing-mr';\n            } else if (!hasLyrics) {\n                status = 'missing-lyrics';\n            }\n            return {\n                id: song.id,\n                title: song.titleAlias || song.title,\n                artist: song.artistAlias || song.artist,\n                originalTitle: song.title,\n                originalArtist: song.artist,\n                language: song.language || 'Unknown',\n                tags: song.tags || [],\n                mrLinks: song.mrLinks || [],\n                hasLyrics: hasLyrics,\n                lyrics: song.lyrics || '',\n                sungCount: 0,\n                likedCount: 0,\n                addedDate: song.createdAt || new Date(),\n                status: status,\n                keyAdjustment: song.keyAdjustment,\n                selectedMRIndex: song.selectedMRIndex || 0,\n                personalNotes: song.personalNotes || '',\n                source: 'mongodb'\n            };\n        });\n        // ÌÜµÍ≥Ñ Í≥ÑÏÇ∞\n        const stats = {\n            total: songsWithStatus.length,\n            complete: songsWithStatus.filter((s)=>s.status === 'complete').length,\n            missingMR: songsWithStatus.filter((s)=>s.status === 'missing-mr' || s.status === 'incomplete').length,\n            missingLyrics: songsWithStatus.filter((s)=>s.status === 'missing-lyrics' || s.status === 'incomplete').length,\n            incomplete: songsWithStatus.filter((s)=>s.status === 'incomplete').length,\n            languages: {\n                Korean: songsWithStatus.filter((s)=>s.language === 'Korean').length,\n                English: songsWithStatus.filter((s)=>s.language === 'English').length,\n                Japanese: songsWithStatus.filter((s)=>s.language === 'Japanese').length,\n                Chinese: songsWithStatus.filter((s)=>s.language === 'Chinese').length,\n                Other: songsWithStatus.filter((s)=>![\n                        'Korean',\n                        'English',\n                        'Japanese',\n                        'Chinese'\n                    ].includes(s.language)).length\n            }\n        };\n        console.log(`üìä Í¥ÄÎ¶¨Ïûê Î™©Î°ù: MongoDBÏóêÏÑú ${songsWithStatus.length}Í≥° Î°úÎìú`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            songs: songsWithStatus,\n            stats: stats\n        });\n    } catch (error) {\n        console.error('‚ùå Í¥ÄÎ¶¨Ïûê ÎÖ∏Îûò Î™©Î°ù Ï°∞Ìöå Ïò§Î•ò:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'ÎÖ∏Îûò Î™©Î°ùÏùÑ Î∂àÎü¨Ïò§Îäî Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_authOptions__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Î°úÍ∑∏Ïù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§.'\n            }, {\n                status: 401\n            });\n        }\n        const body = await request.json();\n        const { action, songIds, data, songData } = body;\n        // ÏûëÏóÖÎ≥Ñ Í∂åÌïú Ï≤¥ÌÅ¨\n        const userRole = session.user.role;\n        switch(action){\n            case 'bulk-edit':\n                if (!(0,_lib_permissions__WEBPACK_IMPORTED_MODULE_4__.hasPermission)(userRole, _lib_permissions__WEBPACK_IMPORTED_MODULE_4__.Permission.SONGS_EDIT)) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'ÎÖ∏Îûò Ìé∏Ïßë Í∂åÌïúÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.'\n                    }, {\n                        status: 403\n                    });\n                }\n                return await handleBulkEdit(songIds, data);\n            case 'add-tags':\n                if (!(0,_lib_permissions__WEBPACK_IMPORTED_MODULE_4__.hasPermission)(userRole, _lib_permissions__WEBPACK_IMPORTED_MODULE_4__.Permission.SONGS_EDIT)) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'ÎÖ∏Îûò Ìé∏Ïßë Í∂åÌïúÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.'\n                    }, {\n                        status: 403\n                    });\n                }\n                return await handleAddTags(songIds, data);\n            case 'edit-song':\n                if (!(0,_lib_permissions__WEBPACK_IMPORTED_MODULE_4__.hasPermission)(userRole, _lib_permissions__WEBPACK_IMPORTED_MODULE_4__.Permission.SONGS_EDIT)) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'ÎÖ∏Îûò Ìé∏Ïßë Í∂åÌïúÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.'\n                    }, {\n                        status: 403\n                    });\n                }\n                return await handleEditSong(songIds[0], data);\n            case 'auto-search-mr':\n                if (!(0,_lib_permissions__WEBPACK_IMPORTED_MODULE_4__.hasPermission)(userRole, _lib_permissions__WEBPACK_IMPORTED_MODULE_4__.Permission.SONGS_EDIT)) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'ÎÖ∏Îûò Ìé∏Ïßë Í∂åÌïúÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.'\n                    }, {\n                        status: 403\n                    });\n                }\n                break;\n            case 'add-lyrics':\n                if (!(0,_lib_permissions__WEBPACK_IMPORTED_MODULE_4__.hasPermission)(userRole, _lib_permissions__WEBPACK_IMPORTED_MODULE_4__.Permission.SONGS_EDIT)) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'ÎÖ∏Îûò Ìé∏Ïßë Í∂åÌïúÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.'\n                    }, {\n                        status: 403\n                    });\n                }\n                break;\n            case 'add-song':\n                if (!(0,_lib_permissions__WEBPACK_IMPORTED_MODULE_4__.hasPermission)(userRole, _lib_permissions__WEBPACK_IMPORTED_MODULE_4__.Permission.SONGS_CREATE)) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'ÎÖ∏Îûò ÏÉùÏÑ± Í∂åÌïúÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.'\n                    }, {\n                        status: 403\n                    });\n                }\n                return await handleAddSong(songData);\n            case 'create':\n                if (!(0,_lib_permissions__WEBPACK_IMPORTED_MODULE_4__.hasPermission)(userRole, _lib_permissions__WEBPACK_IMPORTED_MODULE_4__.Permission.SONGS_CREATE)) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'ÎÖ∏Îûò ÏÉùÏÑ± Í∂åÌïúÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.'\n                    }, {\n                        status: 403\n                    });\n                }\n                break;\n            case 'delete-songs':\n                if (!(0,_lib_permissions__WEBPACK_IMPORTED_MODULE_4__.hasPermission)(userRole, _lib_permissions__WEBPACK_IMPORTED_MODULE_4__.Permission.SONGS_DELETE)) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'ÎÖ∏Îûò ÏÇ≠Ï†ú Í∂åÌïúÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.'\n                    }, {\n                        status: 403\n                    });\n                }\n                return await handleDeleteSongs(songIds, session.user.channelId, data?.reason);\n            case 'delete':\n                if (!(0,_lib_permissions__WEBPACK_IMPORTED_MODULE_4__.hasPermission)(userRole, _lib_permissions__WEBPACK_IMPORTED_MODULE_4__.Permission.SONGS_DELETE)) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'ÎÖ∏Îûò ÏÇ≠Ï†ú Í∂åÌïúÏù¥ ÌïÑÏöîÌï©ÎãàÎã§.'\n                    }, {\n                        status: 403\n                    });\n                }\n                break;\n            default:\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: 'Ïïå Ïàò ÏóÜÎäî ÏûëÏóÖÏûÖÎãàÎã§.'\n                }, {\n                    status: 400\n                });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: `${action} ÏûëÏóÖÏù¥ ÏôÑÎ£åÎêòÏóàÏäµÎãàÎã§.`,\n            affectedCount: songIds?.length || 0\n        });\n    } catch (error) {\n        console.error('‚ùå ÏùºÍ¥Ñ ÏûëÏóÖ Ïò§Î•ò:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'ÏùºÍ¥Ñ ÏûëÏóÖ Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n        }, {\n            status: 500\n        });\n    }\n}\n// ÏÉà Í≥° Ï∂îÍ∞Ä Ìï®Ïàò\nasync function handleAddSong(songData) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n        // Ï§ëÎ≥µ Ï≤¥ÌÅ¨ (Ï†úÎ™©+ÏïÑÌã∞Ïä§Ìä∏ Î≥µÌï© uniqueÏù¥ÎØÄÎ°ú Îëò Îã§ ÌôïÏù∏)\n        const existingSong = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n            title: songData.title,\n            artist: songData.artist\n        });\n        if (existingSong) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Í∞ôÏùÄ Ï†úÎ™©Í≥º ÏïÑÌã∞Ïä§Ìä∏Ïùò Í≥°Ïù¥ Ïù¥ÎØ∏ Ï°¥Ïû¨Ìï©ÎãàÎã§.'\n            }, {\n                status: 400\n            });\n        }\n        // MR ÎßÅÌÅ¨Î•º Ïò¨Î∞îÎ•∏ ÌòïÏãùÏúºÎ°ú Î≥ÄÌôò\n        const mrLinks = songData.mrLinks?.map((url)=>({\n                url\n            })) || [];\n        // ÏÉà Í≥° ÏÉùÏÑ±\n        const newSong = new _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"]({\n            title: songData.title,\n            artist: songData.artist,\n            language: songData.language,\n            lyrics: songData.lyrics || '',\n            mrLinks: mrLinks,\n            searchTags: songData.tags || [],\n            personalNotes: '',\n            sungCount: 0,\n            // ÏÉà ÌïÑÎìúÎì§ (Î™ÖÏãúÏ†ÅÏúºÎ°ú ÏÑ§Ï†ï)\n            status: 'active',\n            sourceType: 'admin'\n        });\n        await newSong.save();\n        console.log(`‚úÖ ÏÉà Í≥° Ï∂îÍ∞Ä: ${songData.title}`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: `${songData.title} Í≥°Ïù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§.`,\n            song: newSong\n        });\n    } catch (error) {\n        console.error('‚ùå ÏÉà Í≥° Ï∂îÍ∞Ä Ïò§Î•ò:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Í≥° Ï∂îÍ∞Ä Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n        }, {\n            status: 500\n        });\n    }\n}\n// ÏùºÍ¥Ñ Ìé∏Ïßë Ìï®Ïàò\nasync function handleBulkEdit(songIds, editData) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n        if (!songIds || songIds.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Ìé∏ÏßëÌï† Í≥°ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.'\n            }, {\n                status: 400\n            });\n        }\n        if (!editData || Object.keys(editData).length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Î≥ÄÍ≤ΩÌï† Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.'\n            }, {\n                status: 400\n            });\n        }\n        let modifiedCount = 0;\n        // ÏïÑÌã∞Ïä§Ìä∏ ÌïÑÎìúÍ∞Ä ÏûàÎäî Í≤ΩÏö∞ Í∞Å Í≥°Î≥ÑÎ°ú Ï≤òÎ¶¨ (alias Î°úÏßÅ ÎïåÎ¨∏Ïóê)\n        if (editData.artist) {\n            // ÏÑ†ÌÉùÎêú Í≥°Îì§ Ï°∞Ìöå\n            const songs = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].find({\n                _id: {\n                    $in: songIds\n                },\n                status: {\n                    $ne: 'deleted'\n                }\n            });\n            for (const song of songs){\n                const updateFields = {\n                    updatedAt: new Date()\n                };\n                // ÏïÑÌã∞Ïä§Ìä∏ alias Î°úÏßÅ\n                if (editData.artist === song.artist) {\n                    // ÏûÖÎ†•Îêú ÏïÑÌã∞Ïä§Ìä∏Í∞Ä ÏõêÎ≥∏Í≥º Í∞ôÏúºÎ©¥ alias Ï†úÍ±∞\n                    updateFields.artistAlias = null;\n                } else {\n                    // ÏûÖÎ†•Îêú ÏïÑÌã∞Ïä§Ìä∏Í∞Ä ÏõêÎ≥∏Í≥º Îã§Î•¥Î©¥ aliasÎ°ú ÏÑ§Ï†ï\n                    updateFields.artistAlias = editData.artist;\n                }\n                // ÌÇ§ Ï°∞Ï†à ÌïÑÎìú Ï≤òÎ¶¨\n                if (editData.keyAdjustment !== undefined) {\n                    if (editData.keyAdjustment === 999) {\n                        // ÌäπÏàòÍ∞í 999Îäî nullÎ°ú ÏÑ§Ï†ï (ÌÇ§ Ï°∞Ï†à Ìï¥Ï†ú)\n                        updateFields.keyAdjustment = null;\n                    } else {\n                        updateFields.keyAdjustment = editData.keyAdjustment;\n                    }\n                }\n                if (editData.language) {\n                    updateFields.language = editData.language;\n                }\n                // Í∞úÎ≥Ñ Í≥° ÏóÖÎç∞Ïù¥Ìä∏\n                const result = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].updateOne({\n                    _id: song._id\n                }, {\n                    $set: updateFields\n                });\n                if (result.modifiedCount > 0) {\n                    modifiedCount++;\n                }\n            }\n        } else {\n            // ÏïÑÌã∞Ïä§Ìä∏ ÌïÑÎìúÍ∞Ä ÏóÜÎäî Í≤ΩÏö∞ Í∏∞Ï°¥ Î∞©Ïãù ÏÇ¨Ïö©\n            const updateFields = {};\n            if (editData.keyAdjustment !== undefined) {\n                if (editData.keyAdjustment === 999) {\n                    // ÌäπÏàòÍ∞í 999Îäî nullÎ°ú ÏÑ§Ï†ï (ÌÇ§ Ï°∞Ï†à Ìï¥Ï†ú)\n                    updateFields.keyAdjustment = null;\n                } else {\n                    updateFields.keyAdjustment = editData.keyAdjustment;\n                }\n            }\n            if (editData.language) {\n                updateFields.language = editData.language;\n            }\n            updateFields.updatedAt = new Date();\n            const result = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].updateMany({\n                _id: {\n                    $in: songIds\n                },\n                status: {\n                    $ne: 'deleted'\n                }\n            }, {\n                $set: updateFields\n            });\n            modifiedCount = result.modifiedCount;\n        }\n        if (modifiedCount > 0) {\n            console.log(`‚úèÔ∏è ${modifiedCount}Í≥° ÏùºÍ¥Ñ Ìé∏Ïßë ÏôÑÎ£å`);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: `${modifiedCount}Í≥°Ïù¥ ÏùºÍ¥Ñ ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.`,\n            affectedCount: modifiedCount\n        });\n    } catch (error) {\n        console.error('‚ùå ÏùºÍ¥Ñ Ìé∏Ïßë Ïò§Î•ò:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'ÏùºÍ¥Ñ Ìé∏Ïßë Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n        }, {\n            status: 500\n        });\n    }\n}\n// Í∞úÎ≥Ñ Í≥° Ìé∏Ïßë Ìï®Ïàò\nasync function handleEditSong(songId, editData) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n        if (!songId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Ìé∏ÏßëÌï† Í≥°ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.'\n            }, {\n                status: 400\n            });\n        }\n        if (!editData || Object.keys(editData).length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Î≥ÄÍ≤ΩÌï† Ï†ïÎ≥¥Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.'\n            }, {\n                status: 400\n            });\n        }\n        // Í≥° Ï°∞Ìöå\n        const song = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n            _id: songId,\n            status: {\n                $ne: 'deleted'\n            }\n        });\n        if (!song) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Í≥°ÏùÑ Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.'\n            }, {\n                status: 404\n            });\n        }\n        // ÏóÖÎç∞Ïù¥Ìä∏Ìï† ÌïÑÎìú Íµ¨ÏÑ±\n        const updateFields = {\n            updatedAt: new Date()\n        };\n        // Ï†úÎ™© ÏóÖÎç∞Ïù¥Ìä∏\n        if (editData.title) {\n            updateFields.title = editData.title;\n        }\n        // ÏïÑÌã∞Ïä§Ìä∏ ÏóÖÎç∞Ïù¥Ìä∏ (alias Î°úÏßÅ Ï†ÅÏö©)\n        if (editData.artist !== undefined) {\n            if (editData.artist === song.artist) {\n                // ÏûÖÎ†•Îêú ÏïÑÌã∞Ïä§Ìä∏Í∞Ä ÏõêÎ≥∏Í≥º Í∞ôÏúºÎ©¥ alias Ï†úÍ±∞\n                updateFields.artistAlias = null;\n            } else {\n                // ÏûÖÎ†•Îêú ÏïÑÌã∞Ïä§Ìä∏Í∞Ä ÏõêÎ≥∏Í≥º Îã§Î•¥Î©¥ aliasÎ°ú ÏÑ§Ï†ï\n                updateFields.artistAlias = editData.artist;\n            }\n        }\n        // Ïñ∏Ïñ¥ ÏóÖÎç∞Ïù¥Ìä∏\n        if (editData.language) {\n            updateFields.language = editData.language;\n        }\n        // ÌÇ§ Ï°∞Ï†à ÏóÖÎç∞Ïù¥Ìä∏\n        if (editData.keyAdjustment !== undefined) {\n            updateFields.keyAdjustment = editData.keyAdjustment;\n        }\n        // Í∞ÄÏÇ¨ ÏóÖÎç∞Ïù¥Ìä∏\n        if (editData.lyrics !== undefined) {\n            updateFields.lyrics = editData.lyrics;\n        }\n        // MR ÎßÅÌÅ¨ ÏóÖÎç∞Ïù¥Ìä∏\n        if (editData.mrLinks !== undefined) {\n            updateFields.mrLinks = editData.mrLinks;\n        }\n        // ÏÑ†ÌÉùÎêú MR Ïù∏Îç±Ïä§ ÏóÖÎç∞Ïù¥Ìä∏\n        if (editData.selectedMRIndex !== undefined) {\n            updateFields.selectedMRIndex = editData.selectedMRIndex;\n        }\n        // ÌÉúÍ∑∏ ÏóÖÎç∞Ïù¥Ìä∏\n        if (editData.tags !== undefined) {\n            updateFields.searchTags = editData.tags;\n        }\n        // ÏóÖÎç∞Ïù¥Ìä∏ Ïã§Ìñâ\n        const result = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].updateOne({\n            _id: songId\n        }, {\n            $set: updateFields\n        });\n        if (result.modifiedCount > 0) {\n            console.log(`‚úèÔ∏è Í≥° Ìé∏Ïßë ÏôÑÎ£å: ${song.title}`);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: `Í≥°Ïù¥ ÏÑ±Í≥µÏ†ÅÏúºÎ°ú ÏàòÏ†ïÎêòÏóàÏäµÎãàÎã§.`,\n            affectedCount: result.modifiedCount\n        });\n    } catch (error) {\n        console.error('‚ùå Í∞úÎ≥Ñ Í≥° Ìé∏Ïßë Ïò§Î•ò:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Í≥° Ìé∏Ïßë Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n        }, {\n            status: 500\n        });\n    }\n}\n// ÌÉúÍ∑∏ Ï∂îÍ∞Ä Ìï®Ïàò\nasync function handleAddTags(songIds, tagData) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n        if (!songIds || songIds.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'ÌÉúÍ∑∏Î•º Ï∂îÍ∞ÄÌï† Í≥°ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.'\n            }, {\n                status: 400\n            });\n        }\n        if (!tagData?.tags || tagData.tags.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'Ï∂îÍ∞ÄÌï† ÌÉúÍ∑∏Î•º ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.'\n            }, {\n                status: 400\n            });\n        }\n        // Í∏∞Ï°¥ ÌÉúÍ∑∏Ïóê ÏÉà ÌÉúÍ∑∏ Ï∂îÍ∞Ä ($addToSetÏúºÎ°ú Ï§ëÎ≥µ Î∞©ÏßÄ)\n        const result = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].updateMany({\n            _id: {\n                $in: songIds\n            },\n            status: {\n                $ne: 'deleted'\n            }\n        }, {\n            $addToSet: {\n                searchTags: {\n                    $each: tagData.tags\n                }\n            },\n            $set: {\n                updatedAt: new Date()\n            }\n        });\n        if (result.modifiedCount > 0) {\n            console.log(`üè∑Ô∏è ${result.modifiedCount}Í≥°Ïóê ÌÉúÍ∑∏ Ï∂îÍ∞Ä ÏôÑÎ£å`);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: `${result.modifiedCount}Í≥°Ïóê ÌÉúÍ∑∏Í∞Ä Ï∂îÍ∞ÄÎêòÏóàÏäµÎãàÎã§.`,\n            affectedCount: result.modifiedCount\n        });\n    } catch (error) {\n        console.error('‚ùå ÌÉúÍ∑∏ Ï∂îÍ∞Ä Ïò§Î•ò:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'ÌÉúÍ∑∏ Ï∂îÍ∞Ä Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n        }, {\n            status: 500\n        });\n    }\n}\n// Í≥° ÏÇ≠Ï†ú Ìï®Ïàò (ÏÜåÌîÑÌä∏ ÏÇ≠Ï†ú)\nasync function handleDeleteSongs(songIds, deletedBy, reason) {\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n        if (!songIds || songIds.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'ÏÇ≠Ï†úÌï† Í≥°ÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî.'\n            }, {\n                status: 400\n            });\n        }\n        // Ï°¥Ïû¨ÌïòÎäî Í≥°Îì§ ÌôïÏù∏\n        const existingSongs = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].find({\n            _id: {\n                $in: songIds\n            },\n            status: {\n                $ne: 'deleted'\n            }\n        });\n        if (existingSongs.length === 0) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: 'ÏÇ≠Ï†úÌï† Ïàò ÏûàÎäî Í≥°Ïù¥ ÏóÜÏäµÎãàÎã§.'\n            }, {\n                status: 400\n            });\n        }\n        // ÏÜåÌîÑÌä∏ ÏÇ≠Ï†ú Ïã§Ìñâ\n        const result = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].updateMany({\n            _id: {\n                $in: songIds\n            },\n            status: {\n                $ne: 'deleted'\n            }\n        }, {\n            $set: {\n                status: 'deleted',\n                deletedAt: new Date(),\n                deletedBy: deletedBy,\n                deleteReason: reason || 'Í¥ÄÎ¶¨ÏûêÏóê ÏùòÌïú ÏÇ≠Ï†ú'\n            }\n        });\n        if (result.modifiedCount > 0) {\n            console.log(`üóëÔ∏è ${result.modifiedCount}Í≥° ÏÇ≠Ï†ú`);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: `${result.modifiedCount}Í≥°Ïù¥ ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§.`,\n            affectedCount: result.modifiedCount\n        });\n    } catch (error) {\n        console.error('‚ùå Í≥° ÏÇ≠Ï†ú Ïò§Î£å:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: 'Í≥° ÏÇ≠Ï†ú Ï§ë Ïò§Î•òÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hZG1pbi9zb25ncy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBd0Q7QUFDTjtBQUNGO0FBQ2U7QUFDUztBQUNsQztBQUNPO0FBRXRDLGVBQWVRLElBQUlDLE9BQW9CO0lBQzVDLElBQUk7UUFDRixjQUFjO1FBQ2QsTUFBTUMsVUFBVSxNQUFNVCxnRUFBZ0JBLENBQUNDLHlEQUFXQTtRQUNsRCxJQUFJLENBQUNRLFdBQVcsQ0FBQ04sK0RBQWFBLENBQUNNLFFBQVFDLElBQUksQ0FBQ0MsSUFBSSxFQUFjUCx3REFBVUEsQ0FBQ1EsVUFBVSxHQUFHO1lBQ3BGLE9BQU9iLHFEQUFZQSxDQUFDYyxJQUFJLENBQ3RCO2dCQUFFQyxTQUFTO2dCQUFPQyxPQUFPO1lBQW1CLEdBQzVDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFHQSxvQ0FBb0M7UUFDcEMsTUFBTSxFQUFFQyxXQUFXLEVBQUUsR0FBRyxNQUFNZiw0RUFBeUJBO1FBRXZELHVDQUF1QztRQUN2QyxNQUFNZ0IsUUFBUUQsWUFBWUUsR0FBRyxDQUFDQyxDQUFBQSxTQUFXO2dCQUN2Q0MsSUFBSUQsT0FBT0UsR0FBRyxDQUFDQyxRQUFRO2dCQUN2QkMsT0FBT0osT0FBT0ksS0FBSztnQkFDbkJDLFFBQVFMLE9BQU9LLE1BQU07Z0JBQ3JCQyxZQUFZTixPQUFPTSxVQUFVO2dCQUM3QkMsYUFBYVAsT0FBT08sV0FBVztnQkFDL0JDLFVBQVVSLE9BQU9RLFFBQVEsSUFBSTtnQkFDN0JDLFNBQVNULE9BQU9TLE9BQU8sSUFBSSxFQUFFO2dCQUM3QkMsUUFBUVYsT0FBT1UsTUFBTSxJQUFJO2dCQUN6QkMsZUFBZVgsT0FBT1csYUFBYSxJQUFJO2dCQUN2Q0MsTUFBTVosT0FBT2EsVUFBVSxJQUFJLEVBQUU7Z0JBQzdCQyxlQUFlZCxPQUFPYyxhQUFhO2dCQUNuQ0MsaUJBQWlCZixPQUFPZSxlQUFlLElBQUk7Z0JBQzNDQyxXQUFXaEIsT0FBT2dCLFNBQVM7Z0JB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LWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL2FwcC9hcGkvYWRtaW4vc29uZ3Mvcm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcclxuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aC9uZXh0JztcclxuaW1wb3J0IHsgYXV0aE9wdGlvbnMgfSBmcm9tICdAL2xpYi9hdXRoT3B0aW9ucyc7XHJcbmltcG9ydCB7IGZldGNoU29uZ0RldGFpbHNGcm9tTW9uZ28gfSBmcm9tICdAL2xpYi9nb29nbGVTaGVldHMnO1xyXG5pbXBvcnQgeyBoYXNQZXJtaXNzaW9uLCBQZXJtaXNzaW9uLCBVc2VyUm9sZSB9IGZyb20gJ0AvbGliL3Blcm1pc3Npb25zJztcclxuaW1wb3J0IGRiQ29ubmVjdCBmcm9tICdAL2xpYi9tb25nb2RiJztcclxuaW1wb3J0IFNvbmdEZXRhaWwgZnJvbSAnQC9tb2RlbHMvU29uZ0RldGFpbCc7XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIOuFuOuemCDsobDtmowg6raM7ZWcIOyytO2BrFxyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xyXG4gICAgaWYgKCFzZXNzaW9uIHx8ICFoYXNQZXJtaXNzaW9uKHNlc3Npb24udXNlci5yb2xlIGFzIFVzZXJSb2xlLCBQZXJtaXNzaW9uLlNPTkdTX1ZJRVcpKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ+uFuOuemCDqtIDrpqwg6raM7ZWc7J20IO2VhOyalO2VqeuLiOuLpC4nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMyB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgXHJcbiAgICAvLyBNb25nb0RC7JeQ7IScIOqzoSDrjbDsnbTthLAg7KeB7KCRIOqwgOyguOyYpOq4sCAo6rWs6riA7Iuc7Yq4IOygnOyZuClcclxuICAgIGNvbnN0IHsgc29uZ0RldGFpbHMgfSA9IGF3YWl0IGZldGNoU29uZ0RldGFpbHNGcm9tTW9uZ28oKTtcclxuICAgIFxyXG4gICAgLy8gU29uZ0RldGFpbOydhCBTb25nIO2Yle2DnOuhnCDrs4DtmZjtlZjsl6wg6rSA66as7JqpIOuNsOydtO2EsCDsg53shLFcclxuICAgIGNvbnN0IHNvbmdzID0gc29uZ0RldGFpbHMubWFwKGRldGFpbCA9PiAoe1xyXG4gICAgICBpZDogZGV0YWlsLl9pZC50b1N0cmluZygpLFxyXG4gICAgICB0aXRsZTogZGV0YWlsLnRpdGxlLFxyXG4gICAgICBhcnRpc3Q6IGRldGFpbC5hcnRpc3QsXHJcbiAgICAgIHRpdGxlQWxpYXM6IGRldGFpbC50aXRsZUFsaWFzLFxyXG4gICAgICBhcnRpc3RBbGlhczogZGV0YWlsLmFydGlzdEFsaWFzLFxyXG4gICAgICBsYW5ndWFnZTogZGV0YWlsLmxhbmd1YWdlIHx8ICdLb3JlYW4nLFxyXG4gICAgICBtckxpbmtzOiBkZXRhaWwubXJMaW5rcyB8fCBbXSxcclxuICAgICAgbHlyaWNzOiBkZXRhaWwubHlyaWNzIHx8ICcnLFxyXG4gICAgICBwZXJzb25hbE5vdGVzOiBkZXRhaWwucGVyc29uYWxOb3RlcyB8fCAnJyxcclxuICAgICAgdGFnczogZGV0YWlsLnNlYXJjaFRhZ3MgfHwgW10sXHJcbiAgICAgIGtleUFkanVzdG1lbnQ6IGRldGFpbC5rZXlBZGp1c3RtZW50LCAvLyDtgqQg7KGw7KCIIOuNsOydtO2EsCDstpTqsIBcclxuICAgICAgc2VsZWN0ZWRNUkluZGV4OiBkZXRhaWwuc2VsZWN0ZWRNUkluZGV4IHx8IDAsIC8vIOyEoO2DneuQnCBNUiDsnbjrjbHsiqQg7LaU6rCAXHJcbiAgICAgIGNyZWF0ZWRBdDogZGV0YWlsLmNyZWF0ZWRBdCxcclxuICAgICAgdXBkYXRlZEF0OiBkZXRhaWwudXBkYXRlZEF0LFxyXG4gICAgICBzb3VyY2U6ICdtb25nb2RiJyBhcyBjb25zdFxyXG4gICAgfSkpO1xyXG4gICAgXHJcbiAgICAvLyDqtIDrpqzsmqkg642w7J207YSwIOuzgO2ZmCDrsI8g7Ya16rOEIOqzhOyCsFxyXG4gICAgY29uc3Qgc29uZ3NXaXRoU3RhdHVzID0gc29uZ3MubWFwKHNvbmcgPT4ge1xyXG4gICAgICBsZXQgc3RhdHVzOiAnY29tcGxldGUnIHwgJ21pc3NpbmctbXInIHwgJ21pc3NpbmctbHlyaWNzJyB8ICdpbmNvbXBsZXRlJyA9ICdjb21wbGV0ZSc7XHJcbiAgICAgIFxyXG4gICAgICAvLyBNUiDrp4Htgawg7IOB7YOcIO2ZleyduFxyXG4gICAgICBjb25zdCBoYXNNUiA9IHNvbmcubXJMaW5rcyAmJiBzb25nLm1yTGlua3MubGVuZ3RoID4gMDtcclxuICAgICAgXHJcbiAgICAgIC8vIOqwgOyCrCDsg4Htg5wg7ZmV7J24XHJcbiAgICAgIGNvbnN0IGhhc0x5cmljcyA9IHNvbmcubHlyaWNzICYmIHNvbmcubHlyaWNzLnRyaW0oKS5sZW5ndGggPiAwO1xyXG4gICAgICBcclxuICAgICAgLy8g7IOB7YOcIOqysOyglVxyXG4gICAgICBpZiAoIWhhc01SICYmICFoYXNMeXJpY3MpIHtcclxuICAgICAgICBzdGF0dXMgPSAnaW5jb21wbGV0ZSc7XHJcbiAgICAgIH0gZWxzZSBpZiAoIWhhc01SKSB7XHJcbiAgICAgICAgc3RhdHVzID0gJ21pc3NpbmctbXInO1xyXG4gICAgICB9IGVsc2UgaWYgKCFoYXNMeXJpY3MpIHtcclxuICAgICAgICBzdGF0dXMgPSAnbWlzc2luZy1seXJpY3MnO1xyXG4gICAgICB9XHJcblxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGlkOiBzb25nLmlkLFxyXG4gICAgICAgIHRpdGxlOiBzb25nLnRpdGxlQWxpYXMgfHwgc29uZy50aXRsZSwgLy8g67OE7Lmt7J20IOyeiOycvOuptCDrs4Tsua0g7IKs7JqpXHJcbiAgICAgICAgYXJ0aXN0OiBzb25nLmFydGlzdEFsaWFzIHx8IHNvbmcuYXJ0aXN0LCAvLyDrs4Tsua3snbQg7J6I7Jy866m0IOuzhOy5rSDsgqzsmqlcclxuICAgICAgICBvcmlnaW5hbFRpdGxlOiBzb25nLnRpdGxlLFxyXG4gICAgICAgIG9yaWdpbmFsQXJ0aXN0OiBzb25nLmFydGlzdCxcclxuICAgICAgICBsYW5ndWFnZTogc29uZy5sYW5ndWFnZSB8fCAnVW5rbm93bicsXHJcbiAgICAgICAgdGFnczogc29uZy50YWdzIHx8IFtdLFxyXG4gICAgICAgIG1yTGlua3M6IHNvbmcubXJMaW5rcyB8fCBbXSxcclxuICAgICAgICBoYXNMeXJpY3M6IGhhc0x5cmljcyxcclxuICAgICAgICBseXJpY3M6IHNvbmcubHlyaWNzIHx8ICcnLFxyXG4gICAgICAgIHN1bmdDb3VudDogMCwgLy8gVE9ETzog67aA66W4IO2an+yImCDrjbDsnbTthLAg7Jew64+ZXHJcbiAgICAgICAgbGlrZWRDb3VudDogMCwgLy8gVE9ETzog7KKL7JWE7JqUIOuNsOydtO2EsCDsl7Drj5lcclxuICAgICAgICBhZGRlZERhdGU6IHNvbmcuY3JlYXRlZEF0IHx8IG5ldyBEYXRlKCksXHJcbiAgICAgICAgc3RhdHVzOiBzdGF0dXMsXHJcbiAgICAgICAga2V5QWRqdXN0bWVudDogc29uZy5rZXlBZGp1c3RtZW50LCAvLyBNb25nb0RC7JeQ7IScIOyLpOygnCDtgqQg7KGw7KCIIOuNsOydtO2EsCDsgqzsmqlcclxuICAgICAgICBzZWxlY3RlZE1SSW5kZXg6IHNvbmcuc2VsZWN0ZWRNUkluZGV4IHx8IDAsIC8vIE1vbmdvRELsl5DshJwg7Iuk7KCcIOyEoO2DneuQnCBNUiDsnbjrjbHsiqQg7IKs7JqpXHJcbiAgICAgICAgcGVyc29uYWxOb3Rlczogc29uZy5wZXJzb25hbE5vdGVzIHx8ICcnLFxyXG4gICAgICAgIHNvdXJjZTogJ21vbmdvZGInXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyDthrXqs4Qg6rOE7IKwXHJcbiAgICBjb25zdCBzdGF0cyA9IHtcclxuICAgICAgdG90YWw6IHNvbmdzV2l0aFN0YXR1cy5sZW5ndGgsXHJcbiAgICAgIGNvbXBsZXRlOiBzb25nc1dpdGhTdGF0dXMuZmlsdGVyKHMgPT4gcy5zdGF0dXMgPT09ICdjb21wbGV0ZScpLmxlbmd0aCxcclxuICAgICAgbWlzc2luZ01SOiBzb25nc1dpdGhTdGF0dXMuZmlsdGVyKHMgPT4gcy5zdGF0dXMgPT09ICdtaXNzaW5nLW1yJyB8fCBzLnN0YXR1cyA9PT0gJ2luY29tcGxldGUnKS5sZW5ndGgsIC8vIE1SIOyXhuydjCArIOuvuOyZhOyEsVxyXG4gICAgICBtaXNzaW5nTHlyaWNzOiBzb25nc1dpdGhTdGF0dXMuZmlsdGVyKHMgPT4gcy5zdGF0dXMgPT09ICdtaXNzaW5nLWx5cmljcycgfHwgcy5zdGF0dXMgPT09ICdpbmNvbXBsZXRlJykubGVuZ3RoLCAvLyDqsIDsgqwg7JeG7J2MICsg66+47JmE7ISxXHJcbiAgICAgIGluY29tcGxldGU6IHNvbmdzV2l0aFN0YXR1cy5maWx0ZXIocyA9PiBzLnN0YXR1cyA9PT0gJ2luY29tcGxldGUnKS5sZW5ndGgsXHJcbiAgICAgIGxhbmd1YWdlczoge1xyXG4gICAgICAgIEtvcmVhbjogc29uZ3NXaXRoU3RhdHVzLmZpbHRlcihzID0+IHMubGFuZ3VhZ2UgPT09ICdLb3JlYW4nKS5sZW5ndGgsXHJcbiAgICAgICAgRW5nbGlzaDogc29uZ3NXaXRoU3RhdHVzLmZpbHRlcihzID0+IHMubGFuZ3VhZ2UgPT09ICdFbmdsaXNoJykubGVuZ3RoLFxyXG4gICAgICAgIEphcGFuZXNlOiBzb25nc1dpdGhTdGF0dXMuZmlsdGVyKHMgPT4gcy5sYW5ndWFnZSA9PT0gJ0phcGFuZXNlJykubGVuZ3RoLFxyXG4gICAgICAgIENoaW5lc2U6IHNvbmdzV2l0aFN0YXR1cy5maWx0ZXIocyA9PiBzLmxhbmd1YWdlID09PSAnQ2hpbmVzZScpLmxlbmd0aCxcclxuICAgICAgICBPdGhlcjogc29uZ3NXaXRoU3RhdHVzLmZpbHRlcihzID0+ICFbJ0tvcmVhbicsICdFbmdsaXNoJywgJ0phcGFuZXNlJywgJ0NoaW5lc2UnXS5pbmNsdWRlcyhzLmxhbmd1YWdlKSkubGVuZ3RoXHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc29sZS5sb2coYPCfk4og6rSA66as7J6QIOuqqeuhnTogTW9uZ29EQuyXkOyEnCAke3NvbmdzV2l0aFN0YXR1cy5sZW5ndGh96rOhIOuhnOuTnGApO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgIHNvbmdzOiBzb25nc1dpdGhTdGF0dXMsXHJcbiAgICAgIHN0YXRzOiBzdGF0c1xyXG4gICAgfSk7XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwg6rSA66as7J6QIOuFuOuemCDrqqnroZ0g7KGw7ZqMIOyYpOulmDonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn64W4656YIOuqqeuhneydhCDrtojrn6zsmKTripQg7KSRIOyYpOulmOqwgCDrsJzsg53tlojsirXri4jri6QuJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XHJcbiAgICBpZiAoIXNlc3Npb24pIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn66Gc6re47J247J20IO2VhOyalO2VqeuLiOuLpC4nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xyXG4gICAgY29uc3QgeyBhY3Rpb24sIHNvbmdJZHMsIGRhdGEsIHNvbmdEYXRhIH0gPSBib2R5O1xyXG4gICAgXHJcbiAgICAvLyDsnpHsl4Xrs4Qg6raM7ZWcIOyytO2BrFxyXG4gICAgY29uc3QgdXNlclJvbGUgPSBzZXNzaW9uLnVzZXIucm9sZSBhcyBVc2VyUm9sZTtcclxuICAgIFxyXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcclxuICAgICAgY2FzZSAnYnVsay1lZGl0JzpcclxuICAgICAgICBpZiAoIWhhc1Blcm1pc3Npb24odXNlclJvbGUsIFBlcm1pc3Npb24uU09OR1NfRURJVCkpIHtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICfrhbjrnpgg7Y647KeRIOq2jO2VnOydtCDtlYTsmpTtlanri4jri6QuJyB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNDAzIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhd2FpdCBoYW5kbGVCdWxrRWRpdChzb25nSWRzLCBkYXRhKTtcclxuICAgICAgICBcclxuICAgICAgY2FzZSAnYWRkLXRhZ3MnOlxyXG4gICAgICAgIGlmICghaGFzUGVybWlzc2lvbih1c2VyUm9sZSwgUGVybWlzc2lvbi5TT05HU19FRElUKSkge1xyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ+uFuOuemCDtjrjsp5Eg6raM7ZWc7J20IO2VhOyalO2VqeuLiOuLpC4nIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDMgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGF3YWl0IGhhbmRsZUFkZFRhZ3Moc29uZ0lkcywgZGF0YSk7XHJcbiAgICAgICAgXHJcbiAgICAgIGNhc2UgJ2VkaXQtc29uZyc6XHJcbiAgICAgICAgaWYgKCFoYXNQZXJtaXNzaW9uKHVzZXJSb2xlLCBQZXJtaXNzaW9uLlNPTkdTX0VESVQpKSB7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn64W4656YIO2OuOynkSDqtoztlZzsnbQg7ZWE7JqU7ZWp64uI64ukLicgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDQwMyB9XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXdhaXQgaGFuZGxlRWRpdFNvbmcoc29uZ0lkc1swXSwgZGF0YSk7XHJcbiAgICAgICAgXHJcbiAgICAgIGNhc2UgJ2F1dG8tc2VhcmNoLW1yJzpcclxuICAgICAgICBpZiAoIWhhc1Blcm1pc3Npb24odXNlclJvbGUsIFBlcm1pc3Npb24uU09OR1NfRURJVCkpIHtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICfrhbjrnpgg7Y647KeRIOq2jO2VnOydtCDtlYTsmpTtlanri4jri6QuJyB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNDAzIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRPRE86IFlvdVR1YmUgQVBJ66W8IOyCrOyaqe2VnCBNUiDsnpDrj5kg6rKA7IOJIOq1rO2YhFxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAgIFxyXG4gICAgICBjYXNlICdhZGQtbHlyaWNzJzpcclxuICAgICAgICBpZiAoIWhhc1Blcm1pc3Npb24odXNlclJvbGUsIFBlcm1pc3Npb24uU09OR1NfRURJVCkpIHtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICfrhbjrnpgg7Y647KeRIOq2jO2VnOydtCDtlYTsmpTtlanri4jri6QuJyB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNDAzIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFRPRE86IOqwgOyCrCDsnbzqtIQg7LaU6rCAIOq1rO2YhFxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICAgIFxyXG4gICAgICBjYXNlICdhZGQtc29uZyc6XHJcbiAgICAgICAgaWYgKCFoYXNQZXJtaXNzaW9uKHVzZXJSb2xlLCBQZXJtaXNzaW9uLlNPTkdTX0NSRUFURSkpIHtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICfrhbjrnpgg7IOd7ISxIOq2jO2VnOydtCDtlYTsmpTtlanri4jri6QuJyB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNDAzIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhd2FpdCBoYW5kbGVBZGRTb25nKHNvbmdEYXRhKTtcclxuICAgICAgICBcclxuICAgICAgY2FzZSAnY3JlYXRlJzpcclxuICAgICAgICBpZiAoIWhhc1Blcm1pc3Npb24odXNlclJvbGUsIFBlcm1pc3Npb24uU09OR1NfQ1JFQVRFKSkge1xyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ+uFuOuemCDsg53shLEg6raM7ZWc7J20IO2VhOyalO2VqeuLiOuLpC4nIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDMgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gVE9ETzog7IOIIOuFuOuemCDstpTqsIAg6rWs7ZiEXHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgXHJcbiAgICAgIGNhc2UgJ2RlbGV0ZS1zb25ncyc6XHJcbiAgICAgICAgaWYgKCFoYXNQZXJtaXNzaW9uKHVzZXJSb2xlLCBQZXJtaXNzaW9uLlNPTkdTX0RFTEVURSkpIHtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICfrhbjrnpgg7IKt7KCcIOq2jO2VnOydtCDtlYTsmpTtlanri4jri6QuJyB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNDAzIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhd2FpdCBoYW5kbGVEZWxldGVTb25ncyhzb25nSWRzLCBzZXNzaW9uLnVzZXIuY2hhbm5lbElkLCBkYXRhPy5yZWFzb24pO1xyXG4gICAgICAgIFxyXG4gICAgICBjYXNlICdkZWxldGUnOlxyXG4gICAgICAgIGlmICghaGFzUGVybWlzc2lvbih1c2VyUm9sZSwgUGVybWlzc2lvbi5TT05HU19ERUxFVEUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn64W4656YIOyCreygnCDqtoztlZzsnbQg7ZWE7JqU7ZWp64uI64ukLicgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDQwMyB9XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBUT0RPOiDqs6Eg7IKt7KCcIOq1rO2YhCAo7Iug7KSR7ZWY6rKMISlcclxuICAgICAgICBicmVhaztcclxuICAgICAgICBcclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ+yVjCDsiJgg7JeG64qUIOyekeyXheyeheuLiOuLpC4nIH0sXHJcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiBgJHthY3Rpb259IOyekeyXheydtCDsmYTro4zrkJjsl4jsirXri4jri6QuYCxcclxuICAgICAgYWZmZWN0ZWRDb3VudDogc29uZ0lkcz8ubGVuZ3RoIHx8IDBcclxuICAgIH0pO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIOydvOq0hCDsnpHsl4Ug7Jik66WYOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICfsnbzqtIQg7J6R7JeFIOykkSDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLicgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuLy8g7IOIIOqzoSDstpTqsIAg7ZWo7IiYXHJcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUFkZFNvbmcoc29uZ0RhdGE6IHtcclxuICB0aXRsZTogc3RyaW5nO1xyXG4gIGFydGlzdDogc3RyaW5nO1xyXG4gIGxhbmd1YWdlOiBzdHJpbmc7XHJcbiAgbHlyaWNzPzogc3RyaW5nO1xyXG4gIG1yTGlua3M/OiBzdHJpbmdbXTtcclxuICB0YWdzPzogc3RyaW5nW107XHJcbn0pIHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XHJcbiAgICBcclxuICAgIC8vIOykkeuztSDssrTtgawgKOygnOuqqSvslYTti7DsiqTtirgg67O17ZWpIHVuaXF1ZeydtOuvgOuhnCDrkZgg64ukIO2ZleyduClcclxuICAgIGNvbnN0IGV4aXN0aW5nU29uZyA9IGF3YWl0IFNvbmdEZXRhaWwuZmluZE9uZSh7XHJcbiAgICAgIHRpdGxlOiBzb25nRGF0YS50aXRsZSxcclxuICAgICAgYXJ0aXN0OiBzb25nRGF0YS5hcnRpc3RcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBpZiAoZXhpc3RpbmdTb25nKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ+qwmeydgCDsoJzrqqnqs7wg7JWE7Yuw7Iqk7Yq47J2YIOqzoeydtCDsnbTrr7gg7KG07J6s7ZWp64uI64ukLicgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTVIg66eB7YGs66W8IOyYrOuwlOuluCDtmJXsi53snLzroZwg67OA7ZmYXHJcbiAgICBjb25zdCBtckxpbmtzID0gc29uZ0RhdGEubXJMaW5rcz8ubWFwKHVybCA9PiAoeyB1cmwgfSkpIHx8IFtdO1xyXG4gICAgXHJcbiAgICAvLyDsg4gg6rOhIOyDneyEsVxyXG4gICAgY29uc3QgbmV3U29uZyA9IG5ldyBTb25nRGV0YWlsKHtcclxuICAgICAgdGl0bGU6IHNvbmdEYXRhLnRpdGxlLFxyXG4gICAgICBhcnRpc3Q6IHNvbmdEYXRhLmFydGlzdCxcclxuICAgICAgbGFuZ3VhZ2U6IHNvbmdEYXRhLmxhbmd1YWdlLFxyXG4gICAgICBseXJpY3M6IHNvbmdEYXRhLmx5cmljcyB8fCAnJyxcclxuICAgICAgbXJMaW5rczogbXJMaW5rcyxcclxuICAgICAgc2VhcmNoVGFnczogc29uZ0RhdGEudGFncyB8fCBbXSxcclxuICAgICAgcGVyc29uYWxOb3RlczogJycsXHJcbiAgICAgIHN1bmdDb3VudDogMCxcclxuICAgICAgLy8g7IOIIO2VhOuTnOuTpCAo66qF7Iuc7KCB7Jy866GcIOyEpOyglSlcclxuICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcclxuICAgICAgc291cmNlVHlwZTogJ2FkbWluJ1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGF3YWl0IG5ld1Nvbmcuc2F2ZSgpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIOyDiCDqs6Eg7LaU6rCAOiAke3NvbmdEYXRhLnRpdGxlfWApO1xyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiBgJHtzb25nRGF0YS50aXRsZX0g6rOh7J20IOyEseqzteyggeycvOuhnCDstpTqsIDrkJjsl4jsirXri4jri6QuYCxcclxuICAgICAgc29uZzogbmV3U29uZ1xyXG4gICAgfSk7XHJcbiAgICBcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIOyDiCDqs6Eg7LaU6rCAIOyYpOulmDonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn6rOhIOy2lOqwgCDspJEg7Jik66WY6rCAIOuwnOyDne2WiOyKteuLiOuLpC4nIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIOydvOq0hCDtjrjsp5Eg7ZWo7IiYXHJcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZUJ1bGtFZGl0KHNvbmdJZHM6IHN0cmluZ1tdLCBlZGl0RGF0YToge1xyXG4gIGFydGlzdD86IHN0cmluZztcclxuICBrZXlBZGp1c3RtZW50PzogbnVtYmVyO1xyXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xyXG59KSB7XHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG4gICAgXHJcbiAgICBpZiAoIXNvbmdJZHMgfHwgc29uZ0lkcy5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn7Y647KeR7ZWgIOqzoeydhCDshKDtg53tlbTso7zshLjsmpQuJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIWVkaXREYXRhIHx8IE9iamVjdC5rZXlzKGVkaXREYXRhKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn67OA6rK97ZWgIOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBsZXQgbW9kaWZpZWRDb3VudCA9IDA7XHJcbiAgICBcclxuICAgIC8vIOyVhO2LsOyKpO2KuCDtlYTrk5zqsIAg7J6I64qUIOqyveyasCDqsIEg6rOh67OE66GcIOyymOumrCAoYWxpYXMg66Gc7KeBIOuVjOusuOyXkClcclxuICAgIGlmIChlZGl0RGF0YS5hcnRpc3QpIHtcclxuICAgICAgLy8g7ISg7YOd65CcIOqzoeuTpCDsobDtmoxcclxuICAgICAgY29uc3Qgc29uZ3MgPSBhd2FpdCBTb25nRGV0YWlsLmZpbmQoe1xyXG4gICAgICAgIF9pZDogeyAkaW46IHNvbmdJZHMgfSxcclxuICAgICAgICBzdGF0dXM6IHsgJG5lOiAnZGVsZXRlZCcgfVxyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGZvciAoY29uc3Qgc29uZyBvZiBzb25ncykge1xyXG4gICAgICAgIGNvbnN0IHVwZGF0ZUZpZWxkczogYW55ID0ge1xyXG4gICAgICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBcclxuICAgICAgICAvLyDslYTti7DsiqTtirggYWxpYXMg66Gc7KeBXHJcbiAgICAgICAgaWYgKGVkaXREYXRhLmFydGlzdCA9PT0gc29uZy5hcnRpc3QpIHtcclxuICAgICAgICAgIC8vIOyeheugpeuQnCDslYTti7DsiqTtirjqsIAg7JuQ67O46rO8IOqwmeycvOuptCBhbGlhcyDsoJzqsbBcclxuICAgICAgICAgIHVwZGF0ZUZpZWxkcy5hcnRpc3RBbGlhcyA9IG51bGw7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIOyeheugpeuQnCDslYTti7DsiqTtirjqsIAg7JuQ67O46rO8IOuLpOultOuptCBhbGlhc+uhnCDshKTsoJVcclxuICAgICAgICAgIHVwZGF0ZUZpZWxkcy5hcnRpc3RBbGlhcyA9IGVkaXREYXRhLmFydGlzdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g7YKkIOyhsOygiCDtlYTrk5wg7LKY66asXHJcbiAgICAgICAgaWYgKGVkaXREYXRhLmtleUFkanVzdG1lbnQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgaWYgKGVkaXREYXRhLmtleUFkanVzdG1lbnQgPT09IDk5OSkge1xyXG4gICAgICAgICAgICAvLyDtirnsiJjqsJIgOTk564qUIG51bGzroZwg7ISk7KCVICjtgqQg7KGw7KCIIO2VtOygnClcclxuICAgICAgICAgICAgdXBkYXRlRmllbGRzLmtleUFkanVzdG1lbnQgPSBudWxsO1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdXBkYXRlRmllbGRzLmtleUFkanVzdG1lbnQgPSBlZGl0RGF0YS5rZXlBZGp1c3RtZW50O1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICBpZiAoZWRpdERhdGEubGFuZ3VhZ2UpIHtcclxuICAgICAgICAgIHVwZGF0ZUZpZWxkcy5sYW5ndWFnZSA9IGVkaXREYXRhLmxhbmd1YWdlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyDqsJzrs4Qg6rOhIOyXheuNsOydtO2KuFxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFNvbmdEZXRhaWwudXBkYXRlT25lKFxyXG4gICAgICAgICAgeyBfaWQ6IHNvbmcuX2lkIH0sXHJcbiAgICAgICAgICB7ICRzZXQ6IHVwZGF0ZUZpZWxkcyB9XHJcbiAgICAgICAgKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAocmVzdWx0Lm1vZGlmaWVkQ291bnQgPiAwKSB7XHJcbiAgICAgICAgICBtb2RpZmllZENvdW50Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyDslYTti7DsiqTtirgg7ZWE65Oc6rCAIOyXhuuKlCDqsr3smrAg6riw7KG0IOuwqeyLnSDsgqzsmqlcclxuICAgICAgY29uc3QgdXBkYXRlRmllbGRzOiBhbnkgPSB7fTtcclxuICAgICAgXHJcbiAgICAgIGlmIChlZGl0RGF0YS5rZXlBZGp1c3RtZW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZiAoZWRpdERhdGEua2V5QWRqdXN0bWVudCA9PT0gOTk5KSB7XHJcbiAgICAgICAgICAvLyDtirnsiJjqsJIgOTk564qUIG51bGzroZwg7ISk7KCVICjtgqQg7KGw7KCIIO2VtOygnClcclxuICAgICAgICAgIHVwZGF0ZUZpZWxkcy5rZXlBZGp1c3RtZW50ID0gbnVsbDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgdXBkYXRlRmllbGRzLmtleUFkanVzdG1lbnQgPSBlZGl0RGF0YS5rZXlBZGp1c3RtZW50O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKGVkaXREYXRhLmxhbmd1YWdlKSB7XHJcbiAgICAgICAgdXBkYXRlRmllbGRzLmxhbmd1YWdlID0gZWRpdERhdGEubGFuZ3VhZ2U7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIHVwZGF0ZUZpZWxkcy51cGRhdGVkQXQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU29uZ0RldGFpbC51cGRhdGVNYW55KFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIF9pZDogeyAkaW46IHNvbmdJZHMgfSxcclxuICAgICAgICAgIHN0YXR1czogeyAkbmU6ICdkZWxldGVkJyB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB7XHJcbiAgICAgICAgICAkc2V0OiB1cGRhdGVGaWVsZHNcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICBtb2RpZmllZENvdW50ID0gcmVzdWx0Lm1vZGlmaWVkQ291bnQ7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChtb2RpZmllZENvdW50ID4gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg4pyP77iPICR7bW9kaWZpZWRDb3VudH3qs6Eg7J286rSEIO2OuOynkSDsmYTro4xgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogYCR7bW9kaWZpZWRDb3VudH3qs6HsnbQg7J286rSEIOyImOygleuQmOyXiOyKteuLiOuLpC5gLFxyXG4gICAgICBhZmZlY3RlZENvdW50OiBtb2RpZmllZENvdW50XHJcbiAgICB9KTtcclxuICAgIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwg7J286rSEIO2OuOynkSDsmKTrpZg6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ+ydvOq0hCDtjrjsp5Eg7KSRIOyYpOulmOqwgCDrsJzsg53tlojsirXri4jri6QuJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyDqsJzrs4Qg6rOhIO2OuOynkSDtlajsiJhcclxuYXN5bmMgZnVuY3Rpb24gaGFuZGxlRWRpdFNvbmcoc29uZ0lkOiBzdHJpbmcsIGVkaXREYXRhOiB7XHJcbiAgdGl0bGU/OiBzdHJpbmc7XHJcbiAgYXJ0aXN0Pzogc3RyaW5nO1xyXG4gIGxhbmd1YWdlPzogc3RyaW5nO1xyXG4gIGtleUFkanVzdG1lbnQ/OiBudW1iZXIgfCBudWxsO1xyXG4gIGx5cmljcz86IHN0cmluZztcclxuICBtckxpbmtzPzogYW55W107XHJcbiAgdGFncz86IHN0cmluZ1tdO1xyXG4gIHNlbGVjdGVkTVJJbmRleD86IG51bWJlcjtcclxufSkge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcclxuICAgIFxyXG4gICAgaWYgKCFzb25nSWQpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn7Y647KeR7ZWgIOqzoeydhCDshKDtg53tlbTso7zshLjsmpQuJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIWVkaXREYXRhIHx8IE9iamVjdC5rZXlzKGVkaXREYXRhKS5sZW5ndGggPT09IDApIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn67OA6rK97ZWgIOygleuztOulvCDsnoXroKXtlbTso7zshLjsmpQuJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDqs6Eg7KGw7ZqMXHJcbiAgICBjb25zdCBzb25nID0gYXdhaXQgU29uZ0RldGFpbC5maW5kT25lKHtcclxuICAgICAgX2lkOiBzb25nSWQsXHJcbiAgICAgIHN0YXR1czogeyAkbmU6ICdkZWxldGVkJyB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaWYgKCFzb25nKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ+qzoeydhCDssL7snYQg7IiYIOyXhuyKteuLiOuLpC4nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOyXheuNsOydtO2KuO2VoCDtlYTrk5wg6rWs7ISxXHJcbiAgICBjb25zdCB1cGRhdGVGaWVsZHM6IGFueSA9IHtcclxuICAgICAgdXBkYXRlZEF0OiBuZXcgRGF0ZSgpXHJcbiAgICB9O1xyXG4gICAgXHJcbiAgICAvLyDsoJzrqqkg7JeF642w7J207Yq4XHJcbiAgICBpZiAoZWRpdERhdGEudGl0bGUpIHtcclxuICAgICAgdXBkYXRlRmllbGRzLnRpdGxlID0gZWRpdERhdGEudGl0bGU7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOyVhO2LsOyKpO2KuCDsl4XrjbDsnbTtirggKGFsaWFzIOuhnOyngSDsoIHsmqkpXHJcbiAgICBpZiAoZWRpdERhdGEuYXJ0aXN0ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgaWYgKGVkaXREYXRhLmFydGlzdCA9PT0gc29uZy5hcnRpc3QpIHtcclxuICAgICAgICAvLyDsnoXroKXrkJwg7JWE7Yuw7Iqk7Yq46rCAIOybkOuzuOqzvCDqsJnsnLzrqbQgYWxpYXMg7KCc6rGwXHJcbiAgICAgICAgdXBkYXRlRmllbGRzLmFydGlzdEFsaWFzID0gbnVsbDtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyDsnoXroKXrkJwg7JWE7Yuw7Iqk7Yq46rCAIOybkOuzuOqzvCDri6TrpbTrqbQgYWxpYXProZwg7ISk7KCVXHJcbiAgICAgICAgdXBkYXRlRmllbGRzLmFydGlzdEFsaWFzID0gZWRpdERhdGEuYXJ0aXN0O1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOyWuOyWtCDsl4XrjbDsnbTtirhcclxuICAgIGlmIChlZGl0RGF0YS5sYW5ndWFnZSkge1xyXG4gICAgICB1cGRhdGVGaWVsZHMubGFuZ3VhZ2UgPSBlZGl0RGF0YS5sYW5ndWFnZTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g7YKkIOyhsOygiCDsl4XrjbDsnbTtirhcclxuICAgIGlmIChlZGl0RGF0YS5rZXlBZGp1c3RtZW50ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdXBkYXRlRmllbGRzLmtleUFkanVzdG1lbnQgPSBlZGl0RGF0YS5rZXlBZGp1c3RtZW50O1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDqsIDsgqwg7JeF642w7J207Yq4XHJcbiAgICBpZiAoZWRpdERhdGEubHlyaWNzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdXBkYXRlRmllbGRzLmx5cmljcyA9IGVkaXREYXRhLmx5cmljcztcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gTVIg66eB7YGsIOyXheuNsOydtO2KuFxyXG4gICAgaWYgKGVkaXREYXRhLm1yTGlua3MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB1cGRhdGVGaWVsZHMubXJMaW5rcyA9IGVkaXREYXRhLm1yTGlua3M7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOyEoO2DneuQnCBNUiDsnbjrjbHsiqQg7JeF642w7J207Yq4XHJcbiAgICBpZiAoZWRpdERhdGEuc2VsZWN0ZWRNUkluZGV4ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgdXBkYXRlRmllbGRzLnNlbGVjdGVkTVJJbmRleCA9IGVkaXREYXRhLnNlbGVjdGVkTVJJbmRleDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g7YOc6re4IOyXheuNsOydtO2KuFxyXG4gICAgaWYgKGVkaXREYXRhLnRhZ3MgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICB1cGRhdGVGaWVsZHMuc2VhcmNoVGFncyA9IGVkaXREYXRhLnRhZ3M7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOyXheuNsOydtO2KuCDsi6TtlolcclxuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFNvbmdEZXRhaWwudXBkYXRlT25lKFxyXG4gICAgICB7IF9pZDogc29uZ0lkIH0sXHJcbiAgICAgIHsgJHNldDogdXBkYXRlRmllbGRzIH1cclxuICAgICk7XHJcbiAgICBcclxuICAgIGlmIChyZXN1bHQubW9kaWZpZWRDb3VudCA+IDApIHtcclxuICAgICAgY29uc29sZS5sb2coYOKcj++4jyDqs6Eg7Y647KeRIOyZhOujjDogJHtzb25nLnRpdGxlfWApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICBtZXNzYWdlOiBg6rOh7J20IOyEseqzteyggeycvOuhnCDsiJjsoJXrkJjsl4jsirXri4jri6QuYCxcclxuICAgICAgYWZmZWN0ZWRDb3VudDogcmVzdWx0Lm1vZGlmaWVkQ291bnRcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDqsJzrs4Qg6rOhIO2OuOynkSDsmKTrpZg6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ+qzoSDtjrjsp5Eg7KSRIOyYpOulmOqwgCDrsJzsg53tlojsirXri4jri6QuJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG4vLyDtg5zqt7gg7LaU6rCAIO2VqOyImFxyXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVBZGRUYWdzKHNvbmdJZHM6IHN0cmluZ1tdLCB0YWdEYXRhOiB7XHJcbiAgdGFnczogc3RyaW5nW107XHJcbn0pIHtcclxuICB0cnkge1xyXG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XHJcbiAgICBcclxuICAgIGlmICghc29uZ0lkcyB8fCBzb25nSWRzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICftg5zqt7jrpbwg7LaU6rCA7ZWgIOqzoeydhCDshKDtg53tlbTso7zshLjsmpQuJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIXRhZ0RhdGE/LnRhZ3MgfHwgdGFnRGF0YS50YWdzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICfstpTqsIDtlaAg7YOc6re466W8IOyeheugpe2VtOyjvOyEuOyalC4nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOq4sOyhtCDtg5zqt7jsl5Ag7IOIIO2DnOq3uCDstpTqsIAgKCRhZGRUb1NldOycvOuhnCDspJHrs7Ug67Cp7KeAKVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU29uZ0RldGFpbC51cGRhdGVNYW55KFxyXG4gICAgICB7XHJcbiAgICAgICAgX2lkOiB7ICRpbjogc29uZ0lkcyB9LFxyXG4gICAgICAgIHN0YXR1czogeyAkbmU6ICdkZWxldGVkJyB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICAkYWRkVG9TZXQ6IHtcclxuICAgICAgICAgIHNlYXJjaFRhZ3M6IHsgJGVhY2g6IHRhZ0RhdGEudGFncyB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICk7XHJcbiAgICBcclxuICAgIGlmIChyZXN1bHQubW9kaWZpZWRDb3VudCA+IDApIHtcclxuICAgICAgY29uc29sZS5sb2coYPCfj7fvuI8gJHtyZXN1bHQubW9kaWZpZWRDb3VudH3qs6Hsl5Ag7YOc6re4IOy2lOqwgCDsmYTro4xgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogYCR7cmVzdWx0Lm1vZGlmaWVkQ291bnR96rOh7JeQIO2DnOq3uOqwgCDstpTqsIDrkJjsl4jsirXri4jri6QuYCxcclxuICAgICAgYWZmZWN0ZWRDb3VudDogcmVzdWx0Lm1vZGlmaWVkQ291bnRcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCDtg5zqt7gg7LaU6rCAIOyYpOulmDonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn7YOc6re4IOy2lOqwgCDspJEg7Jik66WY6rCAIOuwnOyDne2WiOyKteuLiOuLpC4nIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn1cclxuXHJcbi8vIOqzoSDsgq3soJwg7ZWo7IiYICjshoztlITtirgg7IKt7KCcKVxyXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVEZWxldGVTb25ncyhzb25nSWRzOiBzdHJpbmdbXSwgZGVsZXRlZEJ5OiBzdHJpbmcsIHJlYXNvbj86IHN0cmluZykge1xyXG4gIHRyeSB7XHJcbiAgICBhd2FpdCBkYkNvbm5lY3QoKTtcclxuICAgIFxyXG4gICAgaWYgKCFzb25nSWRzIHx8IHNvbmdJZHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ+yCreygnO2VoCDqs6HsnYQg7ISg7YOd7ZW07KO87IS47JqULicgfSxcclxuICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g7KG07J6s7ZWY64qUIOqzoeuTpCDtmZXsnbhcclxuICAgIGNvbnN0IGV4aXN0aW5nU29uZ3MgPSBhd2FpdCBTb25nRGV0YWlsLmZpbmQoe1xyXG4gICAgICBfaWQ6IHsgJGluOiBzb25nSWRzIH0sXHJcbiAgICAgIHN0YXR1czogeyAkbmU6ICdkZWxldGVkJyB9XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgaWYgKGV4aXN0aW5nU29uZ3MubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ+yCreygnO2VoCDsiJgg7J6I64qUIOqzoeydtCDsl4bsirXri4jri6QuJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDshoztlITtirgg7IKt7KCcIOyLpO2WiVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgU29uZ0RldGFpbC51cGRhdGVNYW55KFxyXG4gICAgICB7XHJcbiAgICAgICAgX2lkOiB7ICRpbjogc29uZ0lkcyB9LFxyXG4gICAgICAgIHN0YXR1czogeyAkbmU6ICdkZWxldGVkJyB9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICBzdGF0dXM6ICdkZWxldGVkJyxcclxuICAgICAgICAgIGRlbGV0ZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICAgIGRlbGV0ZWRCeTogZGVsZXRlZEJ5LFxyXG4gICAgICAgICAgZGVsZXRlUmVhc29uOiByZWFzb24gfHwgJ+q0gOumrOyekOyXkCDsnZjtlZwg7IKt7KCcJ1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgKTtcclxuICAgIFxyXG4gICAgaWYgKHJlc3VsdC5tb2RpZmllZENvdW50ID4gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+Xke+4jyAke3Jlc3VsdC5tb2RpZmllZENvdW50feqzoSDsgq3soJxgKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgbWVzc2FnZTogYCR7cmVzdWx0Lm1vZGlmaWVkQ291bnR96rOh7J20IOyCreygnOuQmOyXiOyKteuLiOuLpC5gLFxyXG4gICAgICBhZmZlY3RlZENvdW50OiByZXN1bHQubW9kaWZpZWRDb3VudFxyXG4gICAgfSk7XHJcbiAgICBcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIOqzoSDsgq3soJwg7Jik66OMOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICfqs6Eg7IKt7KCcIOykkSDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLicgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJnZXRTZXJ2ZXJTZXNzaW9uIiwiYXV0aE9wdGlvbnMiLCJmZXRjaFNvbmdEZXRhaWxzRnJvbU1vbmdvIiwiaGFzUGVybWlzc2lvbiIsIlBlcm1pc3Npb24iLCJkYkNvbm5lY3QiLCJTb25nRGV0YWlsIiwiR0VUIiwicmVxdWVzdCIsInNlc3Npb24iLCJ1c2VyIiwicm9sZSIsIlNPTkdTX1ZJRVciLCJqc29uIiwic3VjY2VzcyIsImVycm9yIiwic3RhdHVzIiwic29uZ0RldGFpbHMiLCJzb25ncyIsIm1hcCIsImRldGFpbCIsImlkIiwiX2lkIiwidG9TdHJpbmciLCJ0aXRsZSIsImFydGlzdCIsInRpdGxlQWxpYXMiLCJhcnRpc3RBbGlhcyIsImxhbmd1YWdlIiwibXJMaW5rcyIsImx5cmljcyIsInBlcnNvbmFsTm90ZXMiLCJ0YWdzIiwic2VhcmNoVGFncyIsImtleUFkanVzdG1lbnQiLCJzZWxlY3RlZE1SSW5kZXgiLCJjcmVhdGVkQXQiLCJ1cGRhdGVkQXQiLCJzb3VyY2UiLCJzb25nc1dpdGhTdGF0dXMiLCJzb25nIiwiaGFzTVIiLCJsZW5ndGgiLCJoYXNMeXJpY3MiLCJ0cmltIiwib3JpZ2luYWxUaXRsZSIsIm9yaWdpbmFsQXJ0aXN0Iiwic3VuZ0NvdW50IiwibGlrZWRDb3VudCIsImFkZGVkRGF0ZSIsIkRhdGUiLCJzdGF0cyIsInRvdGFsIiwiY29tcGxldGUiLCJmaWx0ZXIiLCJzIiwibWlzc2luZ01SIiwibWlzc2luZ0x5cmljcyIsImluY29tcGxldGUiLCJsYW5ndWFnZXMiLCJLb3JlYW4iLCJFbmdsaXNoIiwiSmFwYW5lc2UiLCJDaGluZXNlIiwiT3RoZXIiLCJpbmNsdWRlcyIsImNvbnNvbGUiLCJsb2ciLCJQT1NUIiwiYm9keSIsImFjdGlvbiIsInNvbmdJZHMiLCJkYXRhIiwic29uZ0RhdGEiLCJ1c2VyUm9sZSIsIlNPTkdTX0VESVQiLCJoYW5kbGVCdWxrRWRpdCIsImhhbmRsZUFkZFRhZ3MiLCJoYW5kbGVFZGl0U29uZyIsIlNPTkdTX0NSRUFURSIsImhhbmRsZUFkZFNvbmciLCJTT05HU19ERUxFVEUiLCJoYW5kbGVEZWxldGVTb25ncyIsImNoYW5uZWxJZCIsInJlYXNvbiIsIm1lc3NhZ2UiLCJhZmZlY3RlZENvdW50IiwiZXhpc3RpbmdTb25nIiwiZmluZE9uZSIsInVybCIsIm5ld1NvbmciLCJzb3VyY2VUeXBlIiwic2F2ZSIsImVkaXREYXRhIiwiT2JqZWN0Iiwia2V5cyIsIm1vZGlmaWVkQ291bnQiLCJmaW5kIiwiJGluIiwiJG5lIiwidXBkYXRlRmllbGRzIiwidW5kZWZpbmVkIiwicmVzdWx0IiwidXBkYXRlT25lIiwiJHNldCIsInVwZGF0ZU1hbnkiLCJzb25nSWQiLCJ0YWdEYXRhIiwiJGFkZFRvU2V0IiwiJGVhY2giLCJkZWxldGVkQnkiLCJleGlzdGluZ1NvbmdzIiwiZGVsZXRlZEF0IiwiZGVsZXRlUmVhc29uIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/admin/songs/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/adminChannels.ts":
/*!**********************************!*\
  !*** ./src/lib/adminChannels.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AYAUKE_ADMIN_CHANNELS: () => (/* binding */ AYAUKE_ADMIN_CHANNELS),\n/* harmony export */   AYAUKE_ADMIN_CHANNEL_IDS: () => (/* binding */ AYAUKE_ADMIN_CHANNEL_IDS),\n/* harmony export */   SUPER_ADMIN_CHANNELS: () => (/* binding */ SUPER_ADMIN_CHANNELS),\n/* harmony export */   SUPER_ADMIN_CHANNEL_IDS: () => (/* binding */ SUPER_ADMIN_CHANNEL_IDS),\n/* harmony export */   getAdminInfo: () => (/* binding */ getAdminInfo),\n/* harmony export */   getAyaukeAdminInfo: () => (/* binding */ getAyaukeAdminInfo),\n/* harmony export */   getStaticUserRole: () => (/* binding */ getStaticUserRole),\n/* harmony export */   getSuperAdminInfo: () => (/* binding */ getSuperAdminInfo),\n/* harmony export */   isAdminChannel: () => (/* binding */ isAdminChannel),\n/* harmony export */   isAyaukeAdminChannel: () => (/* binding */ isAyaukeAdminChannel),\n/* harmony export */   isSuperAdminChannel: () => (/* binding */ isSuperAdminChannel)\n/* harmony export */ });\n/* harmony import */ var _permissions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./permissions */ \"(rsc)/./src/lib/permissions.ts\");\n\n// ÏµúÍ≥† Í¥ÄÎ¶¨Ïûê Í∂åÌïúÏùÑ Í∞ÄÏßÑ ÏπòÏßÄÏßÅ Ï±ÑÎÑê ID Î™©Î°ù (ÌïòÎìúÏΩîÎî©)\nconst SUPER_ADMIN_CHANNEL_IDS = [\n    'd6017f757614569add71b0bc83a81382'\n];\n// ÏïÑÏïºÏö∞ÏºÄ Í¥ÄÎ¶¨Ïûê Í∂åÌïúÏùÑ Í∞ÄÏßÑ ÏπòÏßÄÏßÅ Ï±ÑÎÑê ID Î™©Î°ù (ÌïòÎìúÏΩîÎî©)\nconst AYAUKE_ADMIN_CHANNEL_IDS = [\n    'abe8aa82baf3d3ef54ad8468ee73e7fc'\n];\n// ÏµúÍ≥† Í¥ÄÎ¶¨Ïûê Ï±ÑÎÑê Ï†ïÎ≥¥\nconst SUPER_ADMIN_CHANNELS = {\n    'd6017f757614569add71b0bc83a81382': {\n        name: 'Í∞úÎ∞úÏûê',\n        role: 'Í∞úÎ∞ú Í¥ÄÎ¶¨Ïûê'\n    }\n};\n// ÏïÑÏïºÏö∞ÏºÄ Í¥ÄÎ¶¨Ïûê Ï±ÑÎÑê Ï†ïÎ≥¥  \nconst AYAUKE_ADMIN_CHANNELS = {\n    'abe8aa82baf3d3ef54ad8468ee73e7fc': {\n        name: 'ÏïÑÏïºÏö∞ÏºÄ',\n        role: 'ÎÖ∏ÎûòÏ±Ö Í¥ÄÎ¶¨Ïûê'\n    }\n};\nfunction isSuperAdminChannel(channelId) {\n    if (!channelId) return false;\n    return SUPER_ADMIN_CHANNEL_IDS.includes(channelId);\n}\nfunction isAyaukeAdminChannel(channelId) {\n    if (!channelId) return false;\n    return AYAUKE_ADMIN_CHANNEL_IDS.includes(channelId);\n}\nfunction getSuperAdminInfo(channelId) {\n    if (!channelId || !isSuperAdminChannel(channelId)) return null;\n    return SUPER_ADMIN_CHANNELS[channelId] || null;\n}\nfunction getAyaukeAdminInfo(channelId) {\n    if (!channelId || !isAyaukeAdminChannel(channelId)) return null;\n    return AYAUKE_ADMIN_CHANNELS[channelId] || null;\n}\nfunction getStaticUserRole(channelId) {\n    if (!channelId) return _permissions__WEBPACK_IMPORTED_MODULE_0__.UserRole.USER;\n    if (isSuperAdminChannel(channelId)) {\n        return _permissions__WEBPACK_IMPORTED_MODULE_0__.UserRole.SUPER_ADMIN;\n    }\n    if (isAyaukeAdminChannel(channelId)) {\n        return _permissions__WEBPACK_IMPORTED_MODULE_0__.UserRole.AYAUKE_ADMIN;\n    }\n    return _permissions__WEBPACK_IMPORTED_MODULE_0__.UserRole.USER;\n}\n// ÌïòÏúÑ Ìò∏ÌôòÏÑ±ÏùÑ ÏúÑÌïú Ìï®ÏàòÎì§ (ÎÇòÏ§ëÏóê Ï†úÍ±∞)\nfunction isAdminChannel(channelId) {\n    return isSuperAdminChannel(channelId) || isAyaukeAdminChannel(channelId);\n}\nfunction getAdminInfo(channelId) {\n    return getSuperAdminInfo(channelId) || getAyaukeAdminInfo(channelId);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FkbWluQ2hhbm5lbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXdDO0FBRXhDLG9DQUFvQztBQUM3QixNQUFNQywwQkFBMEI7SUFDckM7Q0FDRCxDQUFTO0FBRVYsc0NBQXNDO0FBQy9CLE1BQU1DLDJCQUEyQjtJQUN0QztDQUNELENBQVM7QUFFVixlQUFlO0FBQ1IsTUFBTUMsdUJBQXVCO0lBQ2xDLG9DQUFvQztRQUNsQ0MsTUFBTTtRQUNOQyxNQUFNO0lBQ1I7QUFDRixFQUFVO0FBRVYsbUJBQW1CO0FBQ1osTUFBTUMsd0JBQXdCO0lBQ25DLG9DQUFvQztRQUNsQ0YsTUFBTTtRQUNOQyxNQUFNO0lBQ1I7QUFDRixFQUFVO0FBRUgsU0FBU0Usb0JBQW9CQyxTQUFvQztJQUN0RSxJQUFJLENBQUNBLFdBQVcsT0FBTztJQUN2QixPQUFPUCx3QkFBd0JRLFFBQVEsQ0FBQ0Q7QUFDMUM7QUFFTyxTQUFTRSxxQkFBcUJGLFNBQW9DO0lBQ3ZFLElBQUksQ0FBQ0EsV0FBVyxPQUFPO0lBQ3ZCLE9BQU9OLHlCQUF5Qk8sUUFBUSxDQUFDRDtBQUMzQztBQUVPLFNBQVNHLGtCQUFrQkgsU0FBb0M7SUFDcEUsSUFBSSxDQUFDQSxhQUFhLENBQUNELG9CQUFvQkMsWUFBWSxPQUFPO0lBQzFELE9BQU9MLG9CQUFvQixDQUFDSyxVQUErQyxJQUFJO0FBQ2pGO0FBRU8sU0FBU0ksbUJBQW1CSixTQUFvQztJQUNyRSxJQUFJLENBQUNBLGFBQWEsQ0FBQ0UscUJBQXFCRixZQUFZLE9BQU87SUFDM0QsT0FBT0YscUJBQXFCLENBQUNFLFVBQWdELElBQUk7QUFDbkY7QUFFTyxTQUFTSyxrQkFBa0JMLFNBQW9DO0lBQ3BFLElBQUksQ0FBQ0EsV0FBVyxPQUFPUixrREFBUUEsQ0FBQ2MsSUFBSTtJQUVwQyxJQUFJUCxvQkFBb0JDLFlBQVk7UUFDbEMsT0FBT1Isa0RBQVFBLENBQUNlLFdBQVc7SUFDN0I7SUFFQSxJQUFJTCxxQkFBcUJGLFlBQVk7UUFDbkMsT0FBT1Isa0RBQVFBLENBQUNnQixZQUFZO0lBQzlCO0lBRUEsT0FBT2hCLGtEQUFRQSxDQUFDYyxJQUFJO0FBQ3RCO0FBRUEsMEJBQTBCO0FBQ25CLFNBQVNHLGVBQWVULFNBQW9DO0lBQ2pFLE9BQU9ELG9CQUFvQkMsY0FBY0UscUJBQXFCRjtBQUNoRTtBQUVPLFNBQVNVLGFBQWFWLFNBQW9DO0lBQy9ELE9BQU9HLGtCQUFrQkgsY0FBY0ksbUJBQW1CSjtBQUM1RCIsInNvdXJjZXMiOlsiL21udC9mL0RhdGEvR2l0L2NsYXVkZS1jb2RlL2F5YXVrZS1wYWdlL2F5YXVrZS1wYWdlL3NyYy9saWIvYWRtaW5DaGFubmVscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyUm9sZSB9IGZyb20gJy4vcGVybWlzc2lvbnMnXHJcblxyXG4vLyDstZzqs6Ag6rSA66as7J6QIOq2jO2VnOydhCDqsIDsp4Qg7LmY7KeA7KeBIOyxhOuEkCBJRCDrqqnroZ0gKO2VmOuTnOy9lOuUqSlcclxuZXhwb3J0IGNvbnN0IFNVUEVSX0FETUlOX0NIQU5ORUxfSURTID0gW1xyXG4gICdkNjAxN2Y3NTc2MTQ1NjlhZGQ3MWIwYmM4M2E4MTM4MicsIC8vIOyCrOyaqeyekCAo6rCc67Cc7J6QKVxyXG5dIGFzIGNvbnN0XHJcblxyXG4vLyDslYTslbzsmrDsvIAg6rSA66as7J6QIOq2jO2VnOydhCDqsIDsp4Qg7LmY7KeA7KeBIOyxhOuEkCBJRCDrqqnroZ0gKO2VmOuTnOy9lOuUqSlcclxuZXhwb3J0IGNvbnN0IEFZQVVLRV9BRE1JTl9DSEFOTkVMX0lEUyA9IFtcclxuICAnYWJlOGFhODJiYWYzZDNlZjU0YWQ4NDY4ZWU3M2U3ZmMnLCAvLyDslYTslbzsmrDsvIAgKOuFuOuemOyxhSDqtIDrpqzsnpApXHJcbl0gYXMgY29uc3RcclxuXHJcbi8vIOy1nOqzoCDqtIDrpqzsnpAg7LGE64SQIOygleuztFxyXG5leHBvcnQgY29uc3QgU1VQRVJfQURNSU5fQ0hBTk5FTFMgPSB7XHJcbiAgJ2Q2MDE3Zjc1NzYxNDU2OWFkZDcxYjBiYzgzYTgxMzgyJzoge1xyXG4gICAgbmFtZTogJ+qwnOuwnOyekCcsXHJcbiAgICByb2xlOiAn6rCc67CcIOq0gOumrOyekCcsXHJcbiAgfSxcclxufSBhcyBjb25zdFxyXG5cclxuLy8g7JWE7JW87Jqw7LyAIOq0gOumrOyekCDssYTrhJAg7KCV67O0ICBcclxuZXhwb3J0IGNvbnN0IEFZQVVLRV9BRE1JTl9DSEFOTkVMUyA9IHtcclxuICAnYWJlOGFhODJiYWYzZDNlZjU0YWQ4NDY4ZWU3M2U3ZmMnOiB7XHJcbiAgICBuYW1lOiAn7JWE7JW87Jqw7LyAJyxcclxuICAgIHJvbGU6ICfrhbjrnpjssYUg6rSA66as7J6QJyxcclxuICB9LFxyXG59IGFzIGNvbnN0XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNTdXBlckFkbWluQ2hhbm5lbChjaGFubmVsSWQ6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcclxuICBpZiAoIWNoYW5uZWxJZCkgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIFNVUEVSX0FETUlOX0NIQU5ORUxfSURTLmluY2x1ZGVzKGNoYW5uZWxJZCBhcyBhbnkpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0F5YXVrZUFkbWluQ2hhbm5lbChjaGFubmVsSWQ6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcclxuICBpZiAoIWNoYW5uZWxJZCkgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIEFZQVVLRV9BRE1JTl9DSEFOTkVMX0lEUy5pbmNsdWRlcyhjaGFubmVsSWQgYXMgYW55KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VwZXJBZG1pbkluZm8oY2hhbm5lbElkOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKSB7XHJcbiAgaWYgKCFjaGFubmVsSWQgfHwgIWlzU3VwZXJBZG1pbkNoYW5uZWwoY2hhbm5lbElkKSkgcmV0dXJuIG51bGxcclxuICByZXR1cm4gU1VQRVJfQURNSU5fQ0hBTk5FTFNbY2hhbm5lbElkIGFzIGtleW9mIHR5cGVvZiBTVVBFUl9BRE1JTl9DSEFOTkVMU10gfHwgbnVsbFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXlhdWtlQWRtaW5JbmZvKGNoYW5uZWxJZDogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCkge1xyXG4gIGlmICghY2hhbm5lbElkIHx8ICFpc0F5YXVrZUFkbWluQ2hhbm5lbChjaGFubmVsSWQpKSByZXR1cm4gbnVsbFxyXG4gIHJldHVybiBBWUFVS0VfQURNSU5fQ0hBTk5FTFNbY2hhbm5lbElkIGFzIGtleW9mIHR5cGVvZiBBWUFVS0VfQURNSU5fQ0hBTk5FTFNdIHx8IG51bGxcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRpY1VzZXJSb2xlKGNoYW5uZWxJZDogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCk6IFVzZXJSb2xlIHtcclxuICBpZiAoIWNoYW5uZWxJZCkgcmV0dXJuIFVzZXJSb2xlLlVTRVJcclxuICBcclxuICBpZiAoaXNTdXBlckFkbWluQ2hhbm5lbChjaGFubmVsSWQpKSB7XHJcbiAgICByZXR1cm4gVXNlclJvbGUuU1VQRVJfQURNSU5cclxuICB9XHJcbiAgXHJcbiAgaWYgKGlzQXlhdWtlQWRtaW5DaGFubmVsKGNoYW5uZWxJZCkpIHtcclxuICAgIHJldHVybiBVc2VyUm9sZS5BWUFVS0VfQURNSU5cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIFVzZXJSb2xlLlVTRVJcclxufVxyXG5cclxuLy8g7ZWY7JyEIO2YuO2ZmOyEseydhCDsnITtlZwg7ZWo7IiY65OkICjrgpjspJHsl5Ag7KCc6rGwKVxyXG5leHBvcnQgZnVuY3Rpb24gaXNBZG1pbkNoYW5uZWwoY2hhbm5lbElkOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIGlzU3VwZXJBZG1pbkNoYW5uZWwoY2hhbm5lbElkKSB8fCBpc0F5YXVrZUFkbWluQ2hhbm5lbChjaGFubmVsSWQpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBZG1pbkluZm8oY2hhbm5lbElkOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKSB7XHJcbiAgcmV0dXJuIGdldFN1cGVyQWRtaW5JbmZvKGNoYW5uZWxJZCkgfHwgZ2V0QXlhdWtlQWRtaW5JbmZvKGNoYW5uZWxJZClcclxufSJdLCJuYW1lcyI6WyJVc2VyUm9sZSIsIlNVUEVSX0FETUlOX0NIQU5ORUxfSURTIiwiQVlBVUtFX0FETUlOX0NIQU5ORUxfSURTIiwiU1VQRVJfQURNSU5fQ0hBTk5FTFMiLCJuYW1lIiwicm9sZSIsIkFZQVVLRV9BRE1JTl9DSEFOTkVMUyIsImlzU3VwZXJBZG1pbkNoYW5uZWwiLCJjaGFubmVsSWQiLCJpbmNsdWRlcyIsImlzQXlhdWtlQWRtaW5DaGFubmVsIiwiZ2V0U3VwZXJBZG1pbkluZm8iLCJnZXRBeWF1a2VBZG1pbkluZm8iLCJnZXRTdGF0aWNVc2VyUm9sZSIsIlVTRVIiLCJTVVBFUl9BRE1JTiIsIkFZQVVLRV9BRE1JTiIsImlzQWRtaW5DaGFubmVsIiwiZ2V0QWRtaW5JbmZvIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/adminChannels.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/authOptions.ts":
/*!********************************!*\
  !*** ./src/lib/authOptions.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _lib_chzzkCookieManual__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/chzzkCookieManual */ \"(rsc)/./src/lib/chzzkCookieManual.ts\");\n/* harmony import */ var _lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/adminChannels */ \"(rsc)/./src/lib/adminChannels.ts\");\n/* harmony import */ var _lib_permissions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/permissions */ \"(rsc)/./src/lib/permissions.ts\");\n/* harmony import */ var _lib_userService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/userService */ \"(rsc)/./src/lib/userService.ts\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/models/User */ \"(rsc)/./src/models/User.ts\");\n/* harmony import */ var _models_UserActivity__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/models/UserActivity */ \"(rsc)/./src/models/UserActivity.ts\");\n/* harmony import */ var _lib_chzzkOAuthProvider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/chzzkOAuthProvider */ \"(rsc)/./src/lib/chzzkOAuthProvider.ts\");\n/* harmony import */ var _lib_titleSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/titleSystem */ \"(rsc)/./src/lib/titleSystem.ts\");\n\n\n\n\n\n\n\n\n\n\n// ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Î©îÎ™®Î¶¨ Ï∫êÏãú (5Î∂ÑÍ∞Ñ Ïú†Ìö®)\nconst userCache = new Map();\nconst CACHE_DURATION = 5 * 60 * 1000 // 5Î∂Ñ\n;\n// Ï∫êÏãúÎêú ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå\nasync function getCachedUser(channelId) {\n    const now = Date.now();\n    const cached = userCache.get(channelId);\n    // Ï∫êÏãúÍ∞Ä ÏûàÍ≥† ÏïÑÏßÅ Ïú†Ìö®ÌïòÎ©¥ Ï∫êÏãú ÏÇ¨Ïö©\n    if (cached && now - cached.timestamp < CACHE_DURATION) {\n        return cached.data;\n    }\n    // Ï∫êÏãúÍ∞Ä ÏóÜÍ±∞ÎÇò ÎßåÎ£åÎêòÏóàÏúºÎ©¥ DB Ï°∞Ìöå\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n        const user = await _models_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n            channelId\n        });\n        // Ï°∞Ìöå Í≤∞Í≥ºÎ•º Ï∫êÏãúÏóê Ï†ÄÏû•\n        userCache.set(channelId, {\n            data: user,\n            timestamp: now\n        });\n        return user;\n    } catch (error) {\n        // DB Ï°∞Ìöå Ïã§Ìå® Ïãú ÎßåÎ£åÎêú Ï∫êÏãúÎùºÎèÑ ÏûàÏúºÎ©¥ ÏÇ¨Ïö©\n        if (cached) {\n            console.log('DB Ï°∞Ìöå Ïã§Ìå®, ÎßåÎ£åÎêú Ï∫êÏãú ÏÇ¨Ïö©:', channelId);\n            return cached.data;\n        }\n        throw error;\n    }\n}\nconst authOptions = {\n    providers: [\n        (0,_lib_chzzkOAuthProvider__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n            clientId: process.env.CHZZK_CLIENT_ID,\n            clientSecret: process.env.CHZZK_CLIENT_SECRET\n        }),\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            id: \"chzzk-cookie\",\n            name: \"ÏπòÏßÄÏßÅ Ïø†ÌÇ§ Î°úÍ∑∏Ïù∏\",\n            credentials: {\n                cookies: {\n                    label: \"ÏπòÏßÄÏßÅ Ïø†ÌÇ§\",\n                    type: \"text\",\n                    placeholder: \"NID_AUT=...; NID_SES=...\"\n                }\n            },\n            async authorize (credentials) {\n                try {\n                    if (!credentials?.cookies) return null;\n                    const { client, userInfo } = await (0,_lib_chzzkCookieManual__WEBPACK_IMPORTED_MODULE_1__.createManualChzzkClient)('cookie-user', credentials.cookies);\n                    if (!userInfo || !userInfo.loggedIn) return null;\n                    let channelInfo = null;\n                    try {\n                        if (client.channel && typeof client.channel.info === 'function') {\n                            channelInfo = await client.channel.info(userInfo.userIdHash);\n                        }\n                    } catch (error) {\n                        console.log('Ï±ÑÎÑê Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞ Ïã§Ìå®:', error);\n                    }\n                    const channelId = channelInfo?.channelId || userInfo.userIdHash;\n                    const channelName = channelInfo?.channelName || userInfo.nickname || 'ÏπòÏßÄÏßÅ ÏÇ¨Ïö©Ïûê';\n                    const isAdmin = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__.isAdminChannel)(channelId);\n                    const adminInfo = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__.getAdminInfo)(channelId);\n                    const result = {\n                        id: userInfo.userIdHash,\n                        name: channelName,\n                        email: null,\n                        image: channelInfo?.channelImageUrl || null,\n                        naverId: null,\n                        channelId: channelId,\n                        channelName: channelName,\n                        channelImageUrl: channelInfo?.channelImageUrl || null,\n                        followerCount: channelInfo?.followerCount || null,\n                        isAdmin,\n                        adminRole: adminInfo?.role || null\n                    };\n                    try {\n                        await (0,_lib_userService__WEBPACK_IMPORTED_MODULE_4__.createOrUpdateUser)({\n                            channelId: channelId,\n                            channelName: channelName,\n                            profileImageUrl: channelInfo?.channelImageUrl\n                        });\n                    } catch (dbError) {\n                        console.error('ÏÇ¨Ïö©Ïûê DB Ï†ÄÏû• Ïò§Î•ò:', dbError);\n                    }\n                    return result;\n                } catch (error) {\n                    console.error('ÏπòÏßÄÏßÅ Ïø†ÌÇ§ Î°úÍ∑∏Ïù∏ Ïò§Î•ò:', error);\n                    return null;\n                }\n            }\n        })\n    ],\n    callbacks: {\n        async jwt ({ token, user, account }) {\n            if (user) {\n                // OAuth Î∞©Ïãù (ÏπòÏßÄÏßÅ Í≥µÏãù API)\n                if (account?.provider === 'chzzk') {\n                    const channelId = user.channelId || user.id;\n                    const channelName = user.channelName || user.name;\n                    const role = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__.getStaticUserRole)(channelId);\n                    const adminInfo = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__.getAdminInfo)(channelId);\n                    token.naverId = null;\n                    token.channelId = channelId;\n                    token.channelName = channelName;\n                    token.channelImageUrl = user.channelImageUrl || user.image;\n                    token.followerCount = user.followerCount;\n                    token.role = role;\n                    token.isAdmin = (0,_lib_permissions__WEBPACK_IMPORTED_MODULE_3__.roleToIsAdmin)(role) // ÌïòÏúÑ Ìò∏ÌôòÏÑ±\n                    ;\n                    token.adminRole = adminInfo?.role || null;\n                    // ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ DBÏóê Ï†ÄÏû•\n                    try {\n                        const dbUser = await (0,_lib_userService__WEBPACK_IMPORTED_MODULE_4__.createOrUpdateUser)({\n                            channelId: channelId,\n                            channelName: channelName,\n                            profileImageUrl: user.channelImageUrl || user.image\n                        });\n                        token.userId = dbUser._id.toString() // MongoDB ObjectIdÎ•º ÌÜ†ÌÅ∞Ïóê Ï†ÄÏû•\n                        ;\n                    } catch (dbError) {\n                        console.error('OAuth ÏÇ¨Ïö©Ïûê DB Ï†ÄÏû• Ïò§Î•ò:', dbError);\n                    }\n                } else {\n                    const role = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__.getStaticUserRole)(user.channelId);\n                    const adminInfo = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__.getAdminInfo)(user.channelId);\n                    token.naverId = user.naverId;\n                    token.channelId = user.channelId;\n                    token.channelName = user.channelName;\n                    token.channelImageUrl = user.channelImageUrl;\n                    token.followerCount = user.followerCount;\n                    token.role = role;\n                    token.isAdmin = (0,_lib_permissions__WEBPACK_IMPORTED_MODULE_3__.roleToIsAdmin)(role) // ÌïòÏúÑ Ìò∏ÌôòÏÑ±\n                    ;\n                    token.adminRole = adminInfo?.role || null;\n                    // Ïø†ÌÇ§ Î∞©ÏãùÏóêÏÑúÎèÑ DBÏóê ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï†ÄÏû•ÌïòÍ≥† ObjectId Í∞ÄÏ†∏Ïò§Í∏∞\n                    try {\n                        const dbUser = await (0,_lib_userService__WEBPACK_IMPORTED_MODULE_4__.createOrUpdateUser)({\n                            channelId: user.channelId,\n                            channelName: user.channelName,\n                            profileImageUrl: user.channelImageUrl\n                        });\n                        token.userId = dbUser._id.toString() // MongoDB ObjectIdÎ•º ÌÜ†ÌÅ∞Ïóê Ï†ÄÏû•\n                        ;\n                    } catch (dbError) {\n                        console.error('Ïø†ÌÇ§ Î∞©Ïãù ÏÇ¨Ïö©Ïûê DB Ï†ÄÏû• Ïò§Î•ò:', dbError);\n                    }\n                }\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token && session.user) {\n                // Í∏∞Î≥∏ ÌÜ†ÌÅ∞ Ï†ïÎ≥¥ ÏÑ§Ï†ï\n                session.user.id = token.userId // NextAuth ÌëúÏ§Ä ÌïÑÎìú\n                ;\n                session.user.naverId = token.naverId || null;\n                session.user.channelId = token.channelId;\n                session.user.userId = token.userId // MongoDB ObjectId Ï∂îÍ∞Ä\n                ;\n                session.user.followerCount = token.followerCount;\n                session.user.role = token.role;\n                session.user.isAdmin = token.isAdmin;\n                session.user.adminRole = token.adminRole;\n                // Í∏∞Î≥∏ ÏÑ∏ÏÖò Ï†ïÎ≥¥ Î®ºÏ†Ä ÏÑ§Ï†ï (ÌÜ†ÌÅ∞ Í∏∞Î∞ò)\n                session.user.channelName = token.channelName;\n                session.user.name = token.channelName;\n                session.user.channelImageUrl = token.channelImageUrl;\n                // Ï∫êÏãúÎêú ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞ (ÏÑ†ÌÉùÏ†Å ÏóÖÎç∞Ïù¥Ìä∏)\n                try {\n                    const user = await getCachedUser(token.channelId);\n                    if (user) {\n                        // DBÏóêÏÑú Í∞ÄÏ†∏Ïò® Ï†ïÎ≥¥Î°ú ÏóÖÎç∞Ïù¥Ìä∏ (Í∏∞Ï°¥ Ï†ïÎ≥¥ ÎçÆÏñ¥ÏîÄ)\n                        session.user.channelName = user.channelName;\n                        session.user.name = user.displayName || user.channelName;\n                        session.user.image = user.profileImageUrl || session.user.channelImageUrl;\n                        session.user.channelImageUrl = user.profileImageUrl || session.user.channelImageUrl;\n                        session.user.role = user.role // DBÏóêÏÑú Í∞ÄÏ†∏Ïò® ÏµúÏã† Í∂åÌïú ÏÇ¨Ïö©\n                        ;\n                        session.user.isAdmin = (0,_lib_permissions__WEBPACK_IMPORTED_MODULE_3__.roleToIsAdmin)(user.role);\n                        // ÏÑ†ÌÉùÎêú Ïπ≠Ìò∏ Ï†ïÎ≥¥ Ï∂îÍ∞Ä\n                        const selectedTitle = (0,_lib_titleSystem__WEBPACK_IMPORTED_MODULE_9__.getSelectedTitleInfo)(user);\n                        session.user.selectedTitle = selectedTitle;\n                    }\n                // DBÏóê ÏÇ¨Ïö©ÏûêÍ∞Ä ÏóÜÏúºÎ©¥ Í∏∞Î≥∏ Ï†ïÎ≥¥ Í∑∏ÎåÄÎ°ú ÏÇ¨Ïö©\n                } catch (error) {\n                    console.error('ÏÑ∏ÏÖò ÏΩúÎ∞±ÏóêÏÑú ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå Ïò§Î•ò:', error);\n                // DB Ïó∞Í≤∞ Ïã§Ìå® Ïãú Í∏∞Î≥∏ Ï†ïÎ≥¥(ÌÜ†ÌÅ∞ Í∏∞Î∞ò) Í∑∏ÎåÄÎ°ú ÏÇ¨Ïö©\n                // Î≥ÑÎèÑ Ï≤òÎ¶¨ Î∂àÌïÑÏöî - Ïù¥ÎØ∏ ÏúÑÏóêÏÑú Í∏∞Î≥∏Í∞í ÏÑ§Ï†ïÎê®\n                }\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: '/auth/signin',\n        error: '/auth/error'\n    },\n    session: {\n        strategy: \"jwt\"\n    },\n    secret: process.env.NEXTAUTH_SECRET,\n    debug: false\n};\n// Ï§ëÎ≥µ Ï≤¥ÌÅ¨Ïù∏ Î∞©ÏßÄÎ•º ÏúÑÌïú Î©îÎ™®Î¶¨ Ï∫êÏãú (userId:date -> timestamp)\nconst checkinCache = new Map();\n/**\r\n * ÏÑ∏ÏÖò ÏΩúÎ∞±ÏóêÏÑú ÏûêÎèôÏúºÎ°ú ÏùºÏùº Ï≤¥ÌÅ¨Ïù∏ Ï≤òÎ¶¨\r\n */ async function performDailyCheckin(user) {\n    try {\n        const today = new Date().toISOString().split('T')[0] // YYYY-MM-DD\n        ;\n        const now = new Date();\n        // Ïò§Îäò ÌôúÎèô Í∏∞Î°ùÏù¥ ÏûàÎäîÏßÄ ÌôïÏù∏ (ÏÑ∏ÏÖòÏóêÏÑúÎäî Ï≤´ Î∞©Î¨∏ ÏÉùÏÑ±Îßå)\n        let todayActivity = await _models_UserActivity__WEBPACK_IMPORTED_MODULE_7__[\"default\"].findOne({\n            userId: user._id,\n            date: today\n        });\n        // Ïò§Îäò ÌôúÎèô Í∏∞Î°ùÏù¥ Ïù¥ÎØ∏ ÏûàÏúºÎ©¥ ÏïÑÎ¨¥Í≤ÉÎèÑ ÌïòÏßÄ ÏïäÏùå\n        if (todayActivity) {\n            return;\n        }\n        // Í∏∞Ï°¥ ÏÇ¨Ïö©ÏûêÏùò activityStatsÍ∞Ä ÏóÜÏúºÎ©¥ Ï¥àÍ∏∞Ìôî\n        if (!user.activityStats) {\n            user.activityStats = {\n                totalLoginDays: 0,\n                currentStreak: 0,\n                longestStreak: 0,\n                lastVisitDate: null\n            };\n        }\n        // Ïò§Îäò Ï≤´ Î∞©Î¨∏ - ÏÉàÎ°úÏö¥ ÌôúÎèô Í∏∞Î°ù ÏÉùÏÑ±\n        todayActivity = new _models_UserActivity__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\n            userId: user._id,\n            date: today,\n            visitCount: 1,\n            firstVisitAt: now,\n            lastVisitAt: now\n        });\n        // Ïó∞ÏÜç Ï†ëÏÜçÏùº Í≥ÑÏÇ∞\n        const yesterday = new Date();\n        yesterday.setDate(yesterday.getDate() - 1);\n        const yesterdayStr = yesterday.toISOString().split('T')[0];\n        if (user.activityStats.lastVisitDate === yesterdayStr) {\n            // Ïñ¥Ï†ú Î∞©Î¨∏ÌñàÏúºÎ©¥ Ïó∞ÏÜç Ï†ëÏÜçÏùº Ï¶ùÍ∞Ä\n            user.activityStats.currentStreak += 1;\n        } else if (user.activityStats.lastVisitDate !== today) {\n            // Ïñ¥Ï†ú Î∞©Î¨∏ ÏïàÌñàÏúºÎ©¥ Ïó∞ÏÜç Ï†ëÏÜçÏùº Ï¥àÍ∏∞Ìôî (Ïò§ÎäòÎ∂ÄÌÑ∞ 1Ïùº)\n            user.activityStats.currentStreak = 1;\n        }\n        // ÏµúÏû• Ïó∞ÏÜç Ï†ëÏÜçÏùº Í∏∞Î°ù ÏóÖÎç∞Ïù¥Ìä∏\n        if (user.activityStats.currentStreak > user.activityStats.longestStreak) {\n            user.activityStats.longestStreak = user.activityStats.currentStreak;\n        }\n        // Ï¥ù Î°úÍ∑∏Ïù∏ ÎÇ† Ïàò Ï¶ùÍ∞Ä\n        user.activityStats.totalLoginDays += 1;\n        user.activityStats.lastVisitDate = today;\n        await todayActivity.save();\n        await user.save();\n        console.log(`üéØ Ï≤´ Î∞©Î¨∏ Í∏∞Î°ù ÏÉùÏÑ±: ${user.channelName} - Ïó∞ÏÜç ${user.activityStats.currentStreak}Ïùº`);\n    } catch (error) {\n        console.error('ÏûêÎèô Ï≤¥ÌÅ¨Ïù∏ Ï≤òÎ¶¨ Ïò§Î•ò:', error);\n    // ÏóêÎü¨Í∞Ä Î∞úÏÉùÌï¥ÎèÑ ÏÑ∏ÏÖò Ï≤òÎ¶¨Îäî Í≥ÑÏÜç ÏßÑÌñâ\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGNBQWNjLElBQUk7UUFDeEIsTUFBTWhGLEtBQUtnRixJQUFJO1FBRWY1RSxRQUFRQyxHQUFHLENBQUMsQ0FBQyxlQUFlLEVBQUVMLEtBQUs2QixXQUFXLENBQUMsTUFBTSxFQUFFN0IsS0FBS29FLGFBQWEsQ0FBQ0UsYUFBYSxDQUFDLENBQUMsQ0FBQztJQUM1RixFQUFFLE9BQU9uRSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxpQkFBaUJBO0lBQy9CLHdCQUF3QjtJQUMxQjtBQUNGIiwic291cmNlcyI6WyIvbW50L2YvRGF0YS9HaXQvY2xhdWRlLWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL2xpYi9hdXRoT3B0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFsc1wiXHJcbmltcG9ydCB7IGNyZWF0ZU1hbnVhbENoenprQ2xpZW50IH0gZnJvbSBcIkAvbGliL2NoenprQ29va2llTWFudWFsXCJcclxuaW1wb3J0IHsgaXNBZG1pbkNoYW5uZWwsIGdldEFkbWluSW5mbywgZ2V0U3RhdGljVXNlclJvbGUgfSBmcm9tIFwiQC9saWIvYWRtaW5DaGFubmVsc1wiXHJcbmltcG9ydCB7IHJvbGVUb0lzQWRtaW4gfSBmcm9tICdAL2xpYi9wZXJtaXNzaW9ucydcclxuaW1wb3J0IHsgY3JlYXRlT3JVcGRhdGVVc2VyIH0gZnJvbSAnQC9saWIvdXNlclNlcnZpY2UnXHJcbmltcG9ydCBkYkNvbm5lY3QgZnJvbSAnQC9saWIvbW9uZ29kYidcclxuaW1wb3J0IFVzZXIgZnJvbSAnQC9tb2RlbHMvVXNlcidcclxuaW1wb3J0IFVzZXJBY3Rpdml0eSBmcm9tICdAL21vZGVscy9Vc2VyQWN0aXZpdHknXHJcbmltcG9ydCBDaHp6a1Byb3ZpZGVyIGZyb20gJ0AvbGliL2NoenprT0F1dGhQcm92aWRlcidcclxuaW1wb3J0IHsgZ2V0U2VsZWN0ZWRUaXRsZUluZm8gfSBmcm9tICdAL2xpYi90aXRsZVN5c3RlbSdcclxuXHJcbi8vIOyCrOyaqeyekCDsoJXrs7Qg66mU66qo66asIOy6kOyLnCAoNeu2hOqwhCDsnKDtmqgpXHJcbmNvbnN0IHVzZXJDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCB7IGRhdGE6IGFueSwgdGltZXN0YW1wOiBudW1iZXIgfT4oKVxyXG5jb25zdCBDQUNIRV9EVVJBVElPTiA9IDUgKiA2MCAqIDEwMDAgLy8gNeu2hFxyXG5cclxuLy8g7LqQ7Iuc65CcIOyCrOyaqeyekCDsoJXrs7Qg7KGw7ZqMXHJcbmFzeW5jIGZ1bmN0aW9uIGdldENhY2hlZFVzZXIoY2hhbm5lbElkOiBzdHJpbmcpIHtcclxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpXHJcbiAgY29uc3QgY2FjaGVkID0gdXNlckNhY2hlLmdldChjaGFubmVsSWQpXHJcbiAgXHJcbiAgLy8g7LqQ7Iuc6rCAIOyeiOqzoCDslYTsp4Eg7Jyg7Zqo7ZWY66m0IOy6kOyLnCDsgqzsmqlcclxuICBpZiAoY2FjaGVkICYmIChub3cgLSBjYWNoZWQudGltZXN0YW1wKSA8IENBQ0hFX0RVUkFUSU9OKSB7XHJcbiAgICByZXR1cm4gY2FjaGVkLmRhdGFcclxuICB9XHJcbiAgXHJcbiAgLy8g7LqQ7Iuc6rCAIOyXhuqxsOuCmCDrp4zro4zrkJjsl4jsnLzrqbQgREIg7KGw7ZqMXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgY2hhbm5lbElkIH0pXHJcbiAgICBcclxuICAgIC8vIOyhsO2ajCDqsrDqs7zrpbwg7LqQ7Iuc7JeQIOyggOyepVxyXG4gICAgdXNlckNhY2hlLnNldChjaGFubmVsSWQsIHtcclxuICAgICAgZGF0YTogdXNlcixcclxuICAgICAgdGltZXN0YW1wOiBub3dcclxuICAgIH0pXHJcbiAgICBcclxuICAgIHJldHVybiB1c2VyXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIC8vIERCIOyhsO2ajCDsi6TtjKgg7IucIOunjOujjOuQnCDsupDsi5zrnbzrj4Qg7J6I7Jy866m0IOyCrOyaqVxyXG4gICAgaWYgKGNhY2hlZCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnREIg7KGw7ZqMIOyLpO2MqCwg66eM66OM65CcIOy6kOyLnCDsgqzsmqk6JywgY2hhbm5lbElkKVxyXG4gICAgICByZXR1cm4gY2FjaGVkLmRhdGFcclxuICAgIH1cclxuICAgIHRocm93IGVycm9yXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnMgPSB7XHJcbiAgcHJvdmlkZXJzOiBbXHJcbiAgICBDaHp6a1Byb3ZpZGVyKHtcclxuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkNIWlpLX0NMSUVOVF9JRCEsXHJcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuQ0haWktfQ0xJRU5UX1NFQ1JFVCEsXHJcbiAgICB9KSxcclxuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xyXG4gICAgICBpZDogXCJjaHp6ay1jb29raWVcIixcclxuICAgICAgbmFtZTogXCLsuZjsp4Dsp4Eg7L+g7YKkIOuhnOq3uOyduFwiLFxyXG4gICAgICBjcmVkZW50aWFsczoge1xyXG4gICAgICAgIGNvb2tpZXM6IHsgXHJcbiAgICAgICAgICBsYWJlbDogXCLsuZjsp4Dsp4Eg7L+g7YKkXCIsIFxyXG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcjogXCJOSURfQVVUPS4uLjsgTklEX1NFUz0uLi5cIlxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgYXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGlmICghY3JlZGVudGlhbHM/LmNvb2tpZXMpIHJldHVybiBudWxsXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IHsgY2xpZW50LCB1c2VySW5mbyB9ID0gYXdhaXQgY3JlYXRlTWFudWFsQ2h6emtDbGllbnQoJ2Nvb2tpZS11c2VyJywgY3JlZGVudGlhbHMuY29va2llcylcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKCF1c2VySW5mbyB8fCAhdXNlckluZm8ubG9nZ2VkSW4pIHJldHVybiBudWxsXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGxldCBjaGFubmVsSW5mbyA9IG51bGxcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChjbGllbnQuY2hhbm5lbCAmJiB0eXBlb2YgY2xpZW50LmNoYW5uZWwuaW5mbyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgIGNoYW5uZWxJbmZvID0gYXdhaXQgY2xpZW50LmNoYW5uZWwuaW5mbyh1c2VySW5mby51c2VySWRIYXNoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn7LGE64SQIOygleuztCDqsIDsoLjsmKTquLAg7Iuk7YyoOicsIGVycm9yKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBjaGFubmVsSWQgPSBjaGFubmVsSW5mbz8uY2hhbm5lbElkIHx8IHVzZXJJbmZvLnVzZXJJZEhhc2hcclxuICAgICAgICAgIGNvbnN0IGNoYW5uZWxOYW1lID0gY2hhbm5lbEluZm8/LmNoYW5uZWxOYW1lIHx8IHVzZXJJbmZvLm5pY2tuYW1lIHx8ICfsuZjsp4Dsp4Eg7IKs7Jqp7J6QJ1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBpc0FkbWluID0gaXNBZG1pbkNoYW5uZWwoY2hhbm5lbElkKVxyXG4gICAgICAgICAgY29uc3QgYWRtaW5JbmZvID0gZ2V0QWRtaW5JbmZvKGNoYW5uZWxJZClcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICBpZDogdXNlckluZm8udXNlcklkSGFzaCxcclxuICAgICAgICAgICAgbmFtZTogY2hhbm5lbE5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiBudWxsLFxyXG4gICAgICAgICAgICBpbWFnZTogY2hhbm5lbEluZm8/LmNoYW5uZWxJbWFnZVVybCB8fCBudWxsLFxyXG4gICAgICAgICAgICBuYXZlcklkOiBudWxsLFxyXG4gICAgICAgICAgICBjaGFubmVsSWQ6IGNoYW5uZWxJZCxcclxuICAgICAgICAgICAgY2hhbm5lbE5hbWU6IGNoYW5uZWxOYW1lLFxyXG4gICAgICAgICAgICBjaGFubmVsSW1hZ2VVcmw6IGNoYW5uZWxJbmZvPy5jaGFubmVsSW1hZ2VVcmwgfHwgbnVsbCxcclxuICAgICAgICAgICAgZm9sbG93ZXJDb3VudDogY2hhbm5lbEluZm8/LmZvbGxvd2VyQ291bnQgfHwgbnVsbCxcclxuICAgICAgICAgICAgaXNBZG1pbixcclxuICAgICAgICAgICAgYWRtaW5Sb2xlOiBhZG1pbkluZm8/LnJvbGUgfHwgbnVsbCxcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgY3JlYXRlT3JVcGRhdGVVc2VyKHtcclxuICAgICAgICAgICAgICBjaGFubmVsSWQ6IGNoYW5uZWxJZCxcclxuICAgICAgICAgICAgICBjaGFubmVsTmFtZTogY2hhbm5lbE5hbWUsXHJcbiAgICAgICAgICAgICAgcHJvZmlsZUltYWdlVXJsOiBjaGFubmVsSW5mbz8uY2hhbm5lbEltYWdlVXJsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9IGNhdGNoIChkYkVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+yCrOyaqeyekCBEQiDsoIDsnqUg7Jik66WYOicsIGRiRXJyb3IpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign7LmY7KeA7KeBIOy/oO2CpCDroZzqt7jsnbgg7Jik66WYOicsIGVycm9yKVxyXG4gICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgXSxcclxuICBjYWxsYmFja3M6IHtcclxuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyLCBhY2NvdW50IH0pIHtcclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAvLyBPQXV0aCDrsKnsi50gKOy5mOyngOyngSDqs7Xsi50gQVBJKVxyXG4gICAgICAgIGlmIChhY2NvdW50Py5wcm92aWRlciA9PT0gJ2NoenprJykge1xyXG4gICAgICAgICAgY29uc3QgY2hhbm5lbElkID0gdXNlci5jaGFubmVsSWQgfHwgdXNlci5pZFxyXG4gICAgICAgICAgY29uc3QgY2hhbm5lbE5hbWUgPSB1c2VyLmNoYW5uZWxOYW1lIHx8IHVzZXIubmFtZVxyXG4gICAgICAgICAgY29uc3Qgcm9sZSA9IGdldFN0YXRpY1VzZXJSb2xlKGNoYW5uZWxJZClcclxuICAgICAgICAgIGNvbnN0IGFkbWluSW5mbyA9IGdldEFkbWluSW5mbyhjaGFubmVsSWQpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHRva2VuLm5hdmVySWQgPSBudWxsXHJcbiAgICAgICAgICB0b2tlbi5jaGFubmVsSWQgPSBjaGFubmVsSWRcclxuICAgICAgICAgIHRva2VuLmNoYW5uZWxOYW1lID0gY2hhbm5lbE5hbWVcclxuICAgICAgICAgIHRva2VuLmNoYW5uZWxJbWFnZVVybCA9IHVzZXIuY2hhbm5lbEltYWdlVXJsIHx8IHVzZXIuaW1hZ2VcclxuICAgICAgICAgIHRva2VuLmZvbGxvd2VyQ291bnQgPSB1c2VyLmZvbGxvd2VyQ291bnRcclxuICAgICAgICAgIHRva2VuLnJvbGUgPSByb2xlXHJcbiAgICAgICAgICB0b2tlbi5pc0FkbWluID0gcm9sZVRvSXNBZG1pbihyb2xlKSAvLyDtlZjsnIQg7Zi47ZmY7ISxXHJcbiAgICAgICAgICB0b2tlbi5hZG1pblJvbGUgPSBhZG1pbkluZm8/LnJvbGUgfHwgbnVsbFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyDsgqzsmqnsnpAg7KCV67O0IERC7JeQIOyggOyepVxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZGJVc2VyID0gYXdhaXQgY3JlYXRlT3JVcGRhdGVVc2VyKHtcclxuICAgICAgICAgICAgICBjaGFubmVsSWQ6IGNoYW5uZWxJZCxcclxuICAgICAgICAgICAgICBjaGFubmVsTmFtZTogY2hhbm5lbE5hbWUsXHJcbiAgICAgICAgICAgICAgcHJvZmlsZUltYWdlVXJsOiB1c2VyLmNoYW5uZWxJbWFnZVVybCB8fCB1c2VyLmltYWdlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHRva2VuLnVzZXJJZCA9IGRiVXNlci5faWQudG9TdHJpbmcoKSAvLyBNb25nb0RCIE9iamVjdElk66W8IO2GoO2BsOyXkCDsoIDsnqVcclxuICAgICAgICAgIH0gY2F0Y2ggKGRiRXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignT0F1dGgg7IKs7Jqp7J6QIERCIOyggOyepSDsmKTrpZg6JywgZGJFcnJvcilcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g7L+g7YKkIOuwqeyLnSAo6riw7KG0IOuhnOyngSlcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHJvbGUgPSBnZXRTdGF0aWNVc2VyUm9sZSh1c2VyLmNoYW5uZWxJZClcclxuICAgICAgICAgIGNvbnN0IGFkbWluSW5mbyA9IGdldEFkbWluSW5mbyh1c2VyLmNoYW5uZWxJZClcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdG9rZW4ubmF2ZXJJZCA9IHVzZXIubmF2ZXJJZFxyXG4gICAgICAgICAgdG9rZW4uY2hhbm5lbElkID0gdXNlci5jaGFubmVsSWRcclxuICAgICAgICAgIHRva2VuLmNoYW5uZWxOYW1lID0gdXNlci5jaGFubmVsTmFtZVxyXG4gICAgICAgICAgdG9rZW4uY2hhbm5lbEltYWdlVXJsID0gdXNlci5jaGFubmVsSW1hZ2VVcmxcclxuICAgICAgICAgIHRva2VuLmZvbGxvd2VyQ291bnQgPSB1c2VyLmZvbGxvd2VyQ291bnRcclxuICAgICAgICAgIHRva2VuLnJvbGUgPSByb2xlXHJcbiAgICAgICAgICB0b2tlbi5pc0FkbWluID0gcm9sZVRvSXNBZG1pbihyb2xlKSAvLyDtlZjsnIQg7Zi47ZmY7ISxXHJcbiAgICAgICAgICB0b2tlbi5hZG1pblJvbGUgPSBhZG1pbkluZm8/LnJvbGUgfHwgbnVsbFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyDsv6DtgqQg67Cp7Iud7JeQ7ISc64+EIERC7JeQIOyCrOyaqeyekCDsoJXrs7Qg7KCA7J6l7ZWY6rOgIE9iamVjdElkIOqwgOyguOyYpOq4sFxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZGJVc2VyID0gYXdhaXQgY3JlYXRlT3JVcGRhdGVVc2VyKHtcclxuICAgICAgICAgICAgICBjaGFubmVsSWQ6IHVzZXIuY2hhbm5lbElkLFxyXG4gICAgICAgICAgICAgIGNoYW5uZWxOYW1lOiB1c2VyLmNoYW5uZWxOYW1lLFxyXG4gICAgICAgICAgICAgIHByb2ZpbGVJbWFnZVVybDogdXNlci5jaGFubmVsSW1hZ2VVcmxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdG9rZW4udXNlcklkID0gZGJVc2VyLl9pZC50b1N0cmluZygpIC8vIE1vbmdvREIgT2JqZWN0SWTrpbwg7Yag7YGw7JeQIOyggOyepVxyXG4gICAgICAgICAgfSBjYXRjaCAoZGJFcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfsv6DtgqQg67Cp7IudIOyCrOyaqeyekCBEQiDsoIDsnqUg7Jik66WYOicsIGRiRXJyb3IpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0b2tlblxyXG4gICAgfSxcclxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XHJcbiAgICAgIGlmICh0b2tlbiAmJiBzZXNzaW9uLnVzZXIpIHtcclxuICAgICAgICAvLyDquLDrs7gg7Yag7YGwIOygleuztCDshKTsoJVcclxuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi51c2VySWQgYXMgc3RyaW5nIC8vIE5leHRBdXRoIO2RnOykgCDtlYTrk5xcclxuICAgICAgICBzZXNzaW9uLnVzZXIubmF2ZXJJZCA9IHRva2VuLm5hdmVySWQgYXMgc3RyaW5nIHx8IG51bGxcclxuICAgICAgICBzZXNzaW9uLnVzZXIuY2hhbm5lbElkID0gdG9rZW4uY2hhbm5lbElkIGFzIHN0cmluZ1xyXG4gICAgICAgIHNlc3Npb24udXNlci51c2VySWQgPSB0b2tlbi51c2VySWQgYXMgc3RyaW5nIC8vIE1vbmdvREIgT2JqZWN0SWQg7LaU6rCAXHJcbiAgICAgICAgc2Vzc2lvbi51c2VyLmZvbGxvd2VyQ291bnQgPSB0b2tlbi5mb2xsb3dlckNvdW50IGFzIG51bWJlclxyXG4gICAgICAgIHNlc3Npb24udXNlci5yb2xlID0gdG9rZW4ucm9sZSBhcyBzdHJpbmdcclxuICAgICAgICBzZXNzaW9uLnVzZXIuaXNBZG1pbiA9IHRva2VuLmlzQWRtaW4gYXMgYm9vbGVhblxyXG4gICAgICAgIHNlc3Npb24udXNlci5hZG1pblJvbGUgPSB0b2tlbi5hZG1pblJvbGUgYXMgc3RyaW5nXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g6riw67O4IOyEuOyFmCDsoJXrs7Qg66i87KCAIOyEpOyglSAo7Yag7YGwIOq4sOuwmClcclxuICAgICAgICBzZXNzaW9uLnVzZXIuY2hhbm5lbE5hbWUgPSB0b2tlbi5jaGFubmVsTmFtZSBhcyBzdHJpbmdcclxuICAgICAgICBzZXNzaW9uLnVzZXIubmFtZSA9IHRva2VuLmNoYW5uZWxOYW1lIGFzIHN0cmluZ1xyXG4gICAgICAgIHNlc3Npb24udXNlci5jaGFubmVsSW1hZ2VVcmwgPSB0b2tlbi5jaGFubmVsSW1hZ2VVcmwgYXMgc3RyaW5nXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g7LqQ7Iuc65CcIOyCrOyaqeyekCDsoJXrs7Qg6rCA7KC47Jik6riwICjshKDtg53soIEg7JeF642w7J207Yq4KVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0Q2FjaGVkVXNlcih0b2tlbi5jaGFubmVsSWQgYXMgc3RyaW5nKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgICAvLyBEQuyXkOyEnCDqsIDsoLjsmKgg7KCV67O066GcIOyXheuNsOydtO2KuCAo6riw7KG0IOygleuztCDrja7slrTslIApXHJcbiAgICAgICAgICAgIHNlc3Npb24udXNlci5jaGFubmVsTmFtZSA9IHVzZXIuY2hhbm5lbE5hbWVcclxuICAgICAgICAgICAgc2Vzc2lvbi51c2VyLm5hbWUgPSB1c2VyLmRpc3BsYXlOYW1lIHx8IHVzZXIuY2hhbm5lbE5hbWVcclxuICAgICAgICAgICAgc2Vzc2lvbi51c2VyLmltYWdlID0gdXNlci5wcm9maWxlSW1hZ2VVcmwgfHwgc2Vzc2lvbi51c2VyLmNoYW5uZWxJbWFnZVVybFxyXG4gICAgICAgICAgICBzZXNzaW9uLnVzZXIuY2hhbm5lbEltYWdlVXJsID0gdXNlci5wcm9maWxlSW1hZ2VVcmwgfHwgc2Vzc2lvbi51c2VyLmNoYW5uZWxJbWFnZVVybFxyXG4gICAgICAgICAgICBzZXNzaW9uLnVzZXIucm9sZSA9IHVzZXIucm9sZSAvLyBEQuyXkOyEnCDqsIDsoLjsmKgg7LWc7IugIOq2jO2VnCDsgqzsmqlcclxuICAgICAgICAgICAgc2Vzc2lvbi51c2VyLmlzQWRtaW4gPSByb2xlVG9Jc0FkbWluKHVzZXIucm9sZSBhcyBhbnkpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyDshKDtg53rkJwg7Lmt7Zi4IOygleuztCDstpTqsIBcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRUaXRsZSA9IGdldFNlbGVjdGVkVGl0bGVJbmZvKHVzZXIpXHJcbiAgICAgICAgICAgIHNlc3Npb24udXNlci5zZWxlY3RlZFRpdGxlID0gc2VsZWN0ZWRUaXRsZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gRELsl5Ag7IKs7Jqp7J6Q6rCAIOyXhuycvOuptCDquLDrs7gg7KCV67O0IOq3uOuMgOuhnCDsgqzsmqlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign7IS47IWYIOy9nOuwseyXkOyEnCDsgqzsmqnsnpAg7KCV67O0IOyhsO2ajCDsmKTrpZg6JywgZXJyb3IpXHJcbiAgICAgICAgICAvLyBEQiDsl7DqsrAg7Iuk7YyoIOyLnCDquLDrs7gg7KCV67O0KO2GoO2BsCDquLDrsJgpIOq3uOuMgOuhnCDsgqzsmqlcclxuICAgICAgICAgIC8vIOuzhOuPhCDsspjrpqwg67aI7ZWE7JqUIC0g7J2066+4IOychOyXkOyEnCDquLDrs7jqsJIg7ISk7KCV65CoXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzZXNzaW9uXHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgcGFnZXM6IHtcclxuICAgIHNpZ25JbjogJy9hdXRoL3NpZ25pbicsXHJcbiAgICBlcnJvcjogJy9hdXRoL2Vycm9yJyxcclxuICB9LFxyXG4gIHNlc3Npb246IHtcclxuICAgIHN0cmF0ZWd5OiBcImp3dFwiIGFzIGNvbnN0LFxyXG4gIH0sXHJcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQsXHJcbiAgZGVidWc6IGZhbHNlLCAvLyDrlJTrsoTqt7gg66qo65OcIOu5hO2ZnOyEse2ZlFxyXG59XHJcblxyXG4vLyDspJHrs7Ug7LK07YGs7J24IOuwqeyngOulvCDsnITtlZwg66mU66qo66asIOy6kOyLnCAodXNlcklkOmRhdGUgLT4gdGltZXN0YW1wKVxyXG5jb25zdCBjaGVja2luQ2FjaGUgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpXHJcblxyXG4vKipcclxuICog7IS47IWYIOy9nOuwseyXkOyEnCDsnpDrj5nsnLzroZwg7J287J28IOyytO2BrOyduCDsspjrpqxcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHBlcmZvcm1EYWlseUNoZWNraW4odXNlcjogYW55KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gLy8gWVlZWS1NTS1ERFxyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKVxyXG4gICAgXHJcbiAgICAvLyDsmKTripgg7Zmc64+ZIOq4sOuhneydtCDsnojripTsp4Ag7ZmV7J24ICjshLjshZjsl5DshJzripQg7LKrIOuwqeusuCDsg53shLHrp4wpXHJcbiAgICBsZXQgdG9kYXlBY3Rpdml0eSA9IGF3YWl0IFVzZXJBY3Rpdml0eS5maW5kT25lKHtcclxuICAgICAgdXNlcklkOiB1c2VyLl9pZCxcclxuICAgICAgZGF0ZTogdG9kYXlcclxuICAgIH0pXHJcblxyXG4gICAgLy8g7Jik64qYIO2ZnOuPmSDquLDroZ3snbQg7J2066+4IOyeiOycvOuptCDslYTrrLTqsoPrj4Qg7ZWY7KeAIOyViuydjFxyXG4gICAgaWYgKHRvZGF5QWN0aXZpdHkpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g6riw7KG0IOyCrOyaqeyekOydmCBhY3Rpdml0eVN0YXRz6rCAIOyXhuycvOuptCDstIjquLDtmZRcclxuICAgIGlmICghdXNlci5hY3Rpdml0eVN0YXRzKSB7XHJcbiAgICAgIHVzZXIuYWN0aXZpdHlTdGF0cyA9IHtcclxuICAgICAgICB0b3RhbExvZ2luRGF5czogMCxcclxuICAgICAgICBjdXJyZW50U3RyZWFrOiAwLFxyXG4gICAgICAgIGxvbmdlc3RTdHJlYWs6IDAsXHJcbiAgICAgICAgbGFzdFZpc2l0RGF0ZTogbnVsbCxcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOyYpOuKmCDssqsg67Cp66y4IC0g7IOI66Gc7Jq0IO2ZnOuPmSDquLDroZ0g7IOd7ISxXHJcbiAgICB0b2RheUFjdGl2aXR5ID0gbmV3IFVzZXJBY3Rpdml0eSh7XHJcbiAgICAgIHVzZXJJZDogdXNlci5faWQsXHJcbiAgICAgIGRhdGU6IHRvZGF5LFxyXG4gICAgICB2aXNpdENvdW50OiAxLFxyXG4gICAgICBmaXJzdFZpc2l0QXQ6IG5vdyxcclxuICAgICAgbGFzdFZpc2l0QXQ6IG5vd1xyXG4gICAgfSlcclxuXHJcbiAgICAvLyDsl7Dsho0g7KCR7IaN7J28IOqzhOyCsFxyXG4gICAgY29uc3QgeWVzdGVyZGF5ID0gbmV3IERhdGUoKVxyXG4gICAgeWVzdGVyZGF5LnNldERhdGUoeWVzdGVyZGF5LmdldERhdGUoKSAtIDEpXHJcbiAgICBjb25zdCB5ZXN0ZXJkYXlTdHIgPSB5ZXN0ZXJkYXkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXHJcblxyXG4gICAgaWYgKHVzZXIuYWN0aXZpdHlTdGF0cy5sYXN0VmlzaXREYXRlID09PSB5ZXN0ZXJkYXlTdHIpIHtcclxuICAgICAgLy8g7Ja07KCcIOuwqeusuO2WiOycvOuptCDsl7Dsho0g7KCR7IaN7J28IOymneqwgFxyXG4gICAgICB1c2VyLmFjdGl2aXR5U3RhdHMuY3VycmVudFN0cmVhayArPSAxXHJcbiAgICB9IGVsc2UgaWYgKHVzZXIuYWN0aXZpdHlTdGF0cy5sYXN0VmlzaXREYXRlICE9PSB0b2RheSkge1xyXG4gICAgICAvLyDslrTsoJwg67Cp66y4IOyViO2WiOycvOuptCDsl7Dsho0g7KCR7IaN7J28IOy0iOq4sO2ZlCAo7Jik64qY67aA7YSwIDHsnbwpXHJcbiAgICAgIHVzZXIuYWN0aXZpdHlTdGF0cy5jdXJyZW50U3RyZWFrID0gMVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOy1nOyepSDsl7Dsho0g7KCR7IaN7J28IOq4sOuhnSDsl4XrjbDsnbTtirhcclxuICAgIGlmICh1c2VyLmFjdGl2aXR5U3RhdHMuY3VycmVudFN0cmVhayA+IHVzZXIuYWN0aXZpdHlTdGF0cy5sb25nZXN0U3RyZWFrKSB7XHJcbiAgICAgIHVzZXIuYWN0aXZpdHlTdGF0cy5sb25nZXN0U3RyZWFrID0gdXNlci5hY3Rpdml0eVN0YXRzLmN1cnJlbnRTdHJlYWtcclxuICAgIH1cclxuXHJcbiAgICAvLyDstJ0g66Gc6re47J24IOuCoCDsiJgg7Kad6rCAXHJcbiAgICB1c2VyLmFjdGl2aXR5U3RhdHMudG90YWxMb2dpbkRheXMgKz0gMVxyXG4gICAgdXNlci5hY3Rpdml0eVN0YXRzLmxhc3RWaXNpdERhdGUgPSB0b2RheVxyXG5cclxuICAgIGF3YWl0IHRvZGF5QWN0aXZpdHkuc2F2ZSgpXHJcbiAgICBhd2FpdCB1c2VyLnNhdmUoKVxyXG5cclxuICAgIGNvbnNvbGUubG9nKGDwn46vIOyyqyDrsKnrrLgg6riw66GdIOyDneyEsTogJHt1c2VyLmNoYW5uZWxOYW1lfSAtIOyXsOyGjSAke3VzZXIuYWN0aXZpdHlTdGF0cy5jdXJyZW50U3RyZWFrfeydvGApXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+yekOuPmSDssrTtgazsnbgg7LKY66asIOyYpOulmDonLCBlcnJvcilcclxuICAgIC8vIOyXkOufrOqwgCDrsJzsg53tlbTrj4Qg7IS47IWYIOyymOumrOuKlCDqs4Tsho0g7KeE7ZaJXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJjcmVhdGVNYW51YWxDaHp6a0NsaWVudCIsImlzQWRtaW5DaGFubmVsIiwiZ2V0QWRtaW5JbmZvIiwiZ2V0U3RhdGljVXNlclJvbGUiLCJyb2xlVG9Jc0FkbWluIiwiY3JlYXRlT3JVcGRhdGVVc2VyIiwiZGJDb25uZWN0IiwiVXNlciIsIlVzZXJBY3Rpdml0eSIsIkNoenprUHJvdmlkZXIiLCJnZXRTZWxlY3RlZFRpdGxlSW5mbyIsInVzZXJDYWNoZSIsIk1hcCIsIkNBQ0hFX0RVUkFUSU9OIiwiZ2V0Q2FjaGVkVXNlciIsImNoYW5uZWxJZCIsIm5vdyIsIkRhdGUiLCJjYWNoZWQiLCJnZXQiLCJ0aW1lc3RhbXAiLCJkYXRhIiwidXNlciIsImZpbmRPbmUiLCJzZXQiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJhdXRoT3B0aW9ucyIsInByb3ZpZGVycyIsImNsaWVudElkIiwicHJvY2VzcyIsImVudiIsIkNIWlpLX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkNIWlpLX0NMSUVOVF9TRUNSRVQiLCJpZCIsIm5hbWUiLCJjcmVkZW50aWFscyIsImNvb2tpZXMiLCJsYWJlbCIsInR5cGUiLCJwbGFjZWhvbGRlciIsImF1dGhvcml6ZSIsImNsaWVudCIsInVzZXJJbmZvIiwibG9nZ2VkSW4iLCJjaGFubmVsSW5mbyIsImNoYW5uZWwiLCJpbmZvIiwidXNlcklkSGFzaCIsImNoYW5uZWxOYW1lIiwibmlja25hbWUiLCJpc0FkbWluIiwiYWRtaW5JbmZvIiwicmVzdWx0IiwiZW1haWwiLCJpbWFnZSIsImNoYW5uZWxJbWFnZVVybCIsIm5hdmVySWQiLCJmb2xsb3dlckNvdW50IiwiYWRtaW5Sb2xlIiwicm9sZSIsInByb2ZpbGVJbWFnZVVybCIsImRiRXJyb3IiLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsImFjY291bnQiLCJwcm92aWRlciIsImRiVXNlciIsInVzZXJJZCIsIl9pZCIsInRvU3RyaW5nIiwic2Vzc2lvbiIsImRpc3BsYXlOYW1lIiwic2VsZWN0ZWRUaXRsZSIsInBhZ2VzIiwic2lnbkluIiwic3RyYXRlZ3kiLCJzZWNyZXQiLCJORVhUQVVUSF9TRUNSRVQiLCJkZWJ1ZyIsImNoZWNraW5DYWNoZSIsInBlcmZvcm1EYWlseUNoZWNraW4iLCJ0b2RheSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJ0b2RheUFjdGl2aXR5IiwiZGF0ZSIsImFjdGl2aXR5U3RhdHMiLCJ0b3RhbExvZ2luRGF5cyIsImN1cnJlbnRTdHJlYWsiLCJsb25nZXN0U3RyZWFrIiwibGFzdFZpc2l0RGF0ZSIsInZpc2l0Q291bnQiLCJmaXJzdFZpc2l0QXQiLCJsYXN0VmlzaXRBdCIsInllc3RlcmRheSIsInNldERhdGUiLCJnZXREYXRlIiwieWVzdGVyZGF5U3RyIiwic2F2ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/authOptions.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/chzzkCookieManual.ts":
/*!**************************************!*\
  !*** ./src/lib/chzzkCookieManual.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addManualChzzkCookie: () => (/* binding */ addManualChzzkCookie),\n/* harmony export */   createManualChzzkClient: () => (/* binding */ createManualChzzkClient),\n/* harmony export */   getManualCookies: () => (/* binding */ getManualCookies),\n/* harmony export */   printCookieGuide: () => (/* binding */ printCookieGuide),\n/* harmony export */   removeManualCookie: () => (/* binding */ removeManualCookie)\n/* harmony export */ });\n/* harmony import */ var chzzk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chzzk */ \"(rsc)/./node_modules/chzzk/dist/index.js\");\n/* harmony import */ var chzzk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(chzzk__WEBPACK_IMPORTED_MODULE_0__);\n/**\r\n * ÏàòÎèô Ïø†ÌÇ§ ÏûÖÎ†• Î∞è Í¥ÄÎ¶¨ ÏãúÏä§ÌÖú\r\n * ÏûêÎèô Ïù∏Ï¶ùÏù¥ Ïã§Ìå®Ìï† Í≤ΩÏö∞Î•º ÎåÄÎπÑÌïú ÏàòÎèô Î∞©Î≤ï\r\n */ \n// ÏàòÎèôÏúºÎ°ú ÏÑ§Ï†ïÌï† Ïàò ÏûàÎäî ÏπòÏßÄÏßÅ Ïø†ÌÇ§ Ï†ÄÏû•ÏÜå\nconst MANUAL_CHZZK_COOKIES = {\n};\n/**\r\n * ÏàòÎèô Ïø†ÌÇ§Î•º Ï∂îÍ∞ÄÌïòÎäî Ìï®Ïàò (Í∞úÎ∞úÏûê ÎèÑÍµ¨Ïö©)\r\n */ function addManualChzzkCookie(naverId, cookies) {\n    MANUAL_CHZZK_COOKIES[naverId] = cookies;\n    console.log(`ÏàòÎèô Ïø†ÌÇ§ Ï∂îÍ∞ÄÎê®: ${naverId}`);\n}\n/**\r\n * ÏàòÎèô Ïø†ÌÇ§Î•º ÏÇ¨Ïö©Ìï¥ÏÑú ÏπòÏßÄÏßÅ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏÉùÏÑ±\r\n */ async function createManualChzzkClient(naverId, providedCookies) {\n    console.log('=== ÏàòÎèô Ïø†ÌÇ§Î°ú ÏπòÏßÄÏßÅ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏÉùÏÑ± ===');\n    // ÏßÅÏ†ë Ï†úÍ≥µÎêú Ïø†ÌÇ§Í∞Ä ÏûàÏúºÎ©¥ Ïö∞ÏÑ† ÏÇ¨Ïö©\n    const cookies = providedCookies || MANUAL_CHZZK_COOKIES[naverId];\n    if (!cookies) {\n        console.log(`ÎÑ§Ïù¥Î≤Ñ ID ${naverId}Ïóê ÎåÄÌïú ÏàòÎèô Ïø†ÌÇ§Í∞Ä ÏóÜÏäµÎãàÎã§`);\n        return {\n            client: new chzzk__WEBPACK_IMPORTED_MODULE_0__.ChzzkClient(),\n            userInfo: null\n        };\n    }\n    try {\n        console.log('ÏàòÎèô Ïø†ÌÇ§Î°ú ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏÉùÏÑ±:', cookies.substring(0, 50) + '...');\n        console.log('Ï†ÑÏ≤¥ Ïø†ÌÇ§ Í∏∏Ïù¥:', cookies.length);\n        // Ïø†ÌÇ§ÏóêÏÑú NID_AUTÏôÄ NID_SES Ï∂îÏ∂ú\n        const nidAuth = cookies.match(/NID_AUT=([^;]+)/)?.[1];\n        const nidSession = cookies.match(/NID_SES=([^;]+)/)?.[1];\n        console.log('Ï∂îÏ∂úÎêú NID_AUT:', nidAuth ? nidAuth.substring(0, 20) + '...' : 'null');\n        console.log('Ï∂îÏ∂úÎêú NID_SES:', nidSession ? nidSession.substring(0, 20) + '...' : 'null');\n        if (!nidAuth || !nidSession) {\n            console.log('ÌïÑÏàò Ïø†ÌÇ§ (NID_AUT ÎòêÎäî NID_SES)Í∞Ä ÏóÜÏäµÎãàÎã§');\n            return {\n                client: new chzzk__WEBPACK_IMPORTED_MODULE_0__.ChzzkClient(),\n                userInfo: null\n            };\n        }\n        // ÏπòÏßÄÏßÅ ÎπÑÍ≥µÏãù API ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏÉùÏÑ± (Ïò¨Î∞îÎ•∏ Î∞©Ïãù)\n        const client = new chzzk__WEBPACK_IMPORTED_MODULE_0__.ChzzkClient({\n            nidAuth: nidAuth,\n            nidSession: nidSession\n        });\n        console.log('ChzzkClient ÏÉùÏÑ± ÏôÑÎ£å, ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå ÏãúÎèÑ...');\n        // Îã§ÏñëÌïú API Î©îÏÑúÎìú ÏãúÎèÑ\n        let userInfo = null;\n        try {\n            console.log('client.user() Î©îÏÑúÎìú ÏãúÎèÑ...');\n            userInfo = await client.user();\n            console.log('client.user() Í≤∞Í≥º:', JSON.stringify(userInfo, null, 2));\n        } catch (userError) {\n            console.log('client.user() Ïã§Ìå®:', userError);\n            try {\n                console.log('client.me.user() Î©îÏÑúÎìú ÏãúÎèÑ...');\n                userInfo = await client.me.user();\n                console.log('client.me.user() Í≤∞Í≥º:', JSON.stringify(userInfo, null, 2));\n            } catch (meError) {\n                console.log('client.me.user() Ïã§Ìå®:', meError);\n                try {\n                    console.log('client.me ÌîÑÎ°úÌçºÌã∞ ÌôïÏù∏...');\n                    console.log('client.me:', client.me);\n                    if (client.me && typeof client.me.user === 'function') {\n                        userInfo = await client.me.user();\n                        console.log('client.me.user() Ïû¨ÏãúÎèÑ Í≤∞Í≥º:', JSON.stringify(userInfo, null, 2));\n                    }\n                } catch (me2Error) {\n                    console.log('client.me Ïû¨ÏãúÎèÑ Ïã§Ìå®:', me2Error);\n                }\n            }\n        }\n        if (userInfo && userInfo.loggedIn) {\n            console.log('ÏàòÎèô Ïø†ÌÇ§ Ïù∏Ï¶ù ÏÑ±Í≥µ!');\n            return {\n                client,\n                userInfo\n            };\n        } else {\n            console.log('ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå Ïã§Ìå®, ÌïòÏßÄÎßå ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏Îäî ÏÉùÏÑ±Îê®');\n            return {\n                client,\n                userInfo: null\n            };\n        }\n    } catch (error) {\n        console.log('ÏàòÎèô Ïø†ÌÇ§ ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ÏÉùÏÑ± Ïã§Ìå®:', error);\n        console.log('error.message:', error instanceof Error ? error.message : 'Unknown error');\n        return {\n            client: new chzzk__WEBPACK_IMPORTED_MODULE_0__.ChzzkClient(),\n            userInfo: null\n        };\n    }\n}\n/**\r\n * Ïø†ÌÇ§ ÏÑ§Ï†ï Í∞ÄÏù¥Îìú Ï∂úÎ†•\r\n */ function printCookieGuide(naverId) {\n    console.log('=== ÏπòÏßÄÏßÅ Ïø†ÌÇ§ ÏàòÎèô ÏÑ§Ï†ï Í∞ÄÏù¥Îìú ===');\n    console.log('1. Î∏åÎùºÏö∞Ï†ÄÏóêÏÑú https://chzzk.naver.com Ïóê Î°úÍ∑∏Ïù∏');\n    console.log('2. Í∞úÎ∞úÏûê ÎèÑÍµ¨ (F12) ‚Üí Application/Storage ‚Üí Cookies');\n    console.log('3. NID_AUTÏôÄ NID_SES Ïø†ÌÇ§ Í∞íÏùÑ Î≥µÏÇ¨');\n    console.log('4. Îã§Ïùå ÏΩîÎìúÎ•º Î∏åÎùºÏö∞Ï†Ä ÏΩòÏÜîÏóêÏÑú Ïã§Ìñâ:');\n    console.log(``);\n    console.log(`   // Ïø†ÌÇ§ Í∞íÏùÑ Ïó¨Í∏∞Ïóê ÏûÖÎ†•`);\n    console.log(`   const cookies = \"NID_AUT=ÎãπÏã†Ïùò_NID_AUT_Í∞í; NID_SES=ÎãπÏã†Ïùò_NID_SES_Í∞í\"`);\n    console.log(`   `);\n    console.log(`   // API Ìò∏Ï∂ú`);\n    console.log(`   fetch('/api/admin/set-manual-cookie', {`);\n    console.log(`     method: 'POST',`);\n    console.log(`     headers: { 'Content-Type': 'application/json' },`);\n    console.log(`     body: JSON.stringify({`);\n    console.log(`       naverId: '${naverId}',`);\n    console.log(`       cookies: cookies`);\n    console.log(`     })`);\n    console.log(`   })`);\n    console.log('');\n    console.log('5. Î°úÍ∑∏ÏïÑÏõÉ ÌõÑ Îã§Ïãú Î°úÍ∑∏Ïù∏ÌïòÏó¨ ÌÖåÏä§Ìä∏');\n}\n/**\r\n * ÌòÑÏû¨ Îì±Î°ùÎêú ÏàòÎèô Ïø†ÌÇ§ Î™©Î°ù Ï°∞Ìöå\r\n */ function getManualCookies() {\n    return {\n        ...MANUAL_CHZZK_COOKIES\n    };\n}\n/**\r\n * ÏàòÎèô Ïø†ÌÇ§ ÏÇ≠Ï†ú\r\n */ function removeManualCookie(naverId) {\n    delete MANUAL_CHZZK_COOKIES[naverId];\n    console.log(`ÏàòÎèô Ïø†ÌÇ§ ÏÇ≠Ï†úÎê®: ${naverId}`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2NoenprQ29va2llTWFudWFsLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTs7O0NBR0MsR0FFa0M7QUFFbkMsMkJBQTJCO0FBQzNCLE1BQU1DLHVCQUErQztBQUdyRDtBQUVBOztDQUVDLEdBQ00sU0FBU0MscUJBQXFCQyxPQUFlLEVBQUVDLE9BQWU7SUFDbkVILG9CQUFvQixDQUFDRSxRQUFRLEdBQUdDO0lBQ2hDQyxRQUFRQyxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUVILFNBQVM7QUFDckM7QUFFQTs7Q0FFQyxHQUNNLGVBQWVJLHdCQUF3QkosT0FBZSxFQUFFSyxlQUF3QjtJQUNyRkgsUUFBUUMsR0FBRyxDQUFDO0lBRVosdUJBQXVCO0lBQ3ZCLE1BQU1GLFVBQVVJLG1CQUFtQlAsb0JBQW9CLENBQUNFLFFBQVE7SUFFaEUsSUFBSSxDQUFDQyxTQUFTO1FBQ1pDLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRUgsUUFBUSxnQkFBZ0IsQ0FBQztRQUMvQyxPQUFPO1lBQUVNLFFBQVEsSUFBSVQsOENBQVdBO1lBQUlVLFVBQVU7UUFBSztJQUNyRDtJQUVBLElBQUk7UUFDRkwsUUFBUUMsR0FBRyxDQUFDLG9CQUFvQkYsUUFBUU8sU0FBUyxDQUFDLEdBQUcsTUFBTTtRQUMzRE4sUUFBUUMsR0FBRyxDQUFDLGFBQWFGLFFBQVFRLE1BQU07UUFFdkMsMkJBQTJCO1FBQzNCLE1BQU1DLFVBQVVULFFBQVFVLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO1FBQ3JELE1BQU1DLGFBQWFYLFFBQVFVLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxFQUFFO1FBRXhEVCxRQUFRQyxHQUFHLENBQUMsZ0JBQWdCTyxVQUFVQSxRQUFRRixTQUFTLENBQUMsR0FBRyxNQUFNLFFBQVE7UUFDekVOLFFBQVFDLEdBQUcsQ0FBQyxnQkFBZ0JTLGFBQWFBLFdBQVdKLFNBQVMsQ0FBQyxHQUFHLE1BQU0sUUFBUTtRQUUvRSxJQUFJLENBQUNFLFdBQVcsQ0FBQ0UsWUFBWTtZQUMzQlYsUUFBUUMsR0FBRyxDQUFDO1lBQ1osT0FBTztnQkFBRUcsUUFBUSxJQUFJVCw4Q0FBV0E7Z0JBQUlVLFVBQVU7WUFBSztRQUNyRDtRQUVBLGdDQUFnQztRQUNoQyxNQUFNRCxTQUFTLElBQUlULDhDQUFXQSxDQUFDO1lBQzdCYSxTQUFTQTtZQUNURSxZQUFZQTtRQUNkO1FBRUFWLFFBQVFDLEdBQUcsQ0FBQztRQUVaLGlCQUFpQjtRQUNqQixJQUFJSSxXQUFXO1FBRWYsSUFBSTtZQUNGTCxRQUFRQyxHQUFHLENBQUM7WUFDWkksV0FBVyxNQUFNRCxPQUFPTyxJQUFJO1lBQzVCWCxRQUFRQyxHQUFHLENBQUMscUJBQXFCVyxLQUFLQyxTQUFTLENBQUNSLFVBQVUsTUFBTTtRQUNsRSxFQUFFLE9BQU9TLFdBQVc7WUFDbEJkLFFBQVFDLEdBQUcsQ0FBQyxxQkFBcUJhO1lBRWpDLElBQUk7Z0JBQ0ZkLFFBQVFDLEdBQUcsQ0FBQztnQkFDWkksV0FBVyxNQUFNRCxPQUFPVyxFQUFFLENBQUNKLElBQUk7Z0JBQy9CWCxRQUFRQyxHQUFHLENBQUMsd0JBQXdCVyxLQUFLQyxTQUFTLENBQUNSLFVBQVUsTUFBTTtZQUNyRSxFQUFFLE9BQU9XLFNBQVM7Z0JBQ2hCaEIsUUFBUUMsR0FBRyxDQUFDLHdCQUF3QmU7Z0JBRXBDLElBQUk7b0JBQ0ZoQixRQUFRQyxHQUFHLENBQUM7b0JBQ1pELFFBQVFDLEdBQUcsQ0FBQyxjQUFjRyxPQUFPVyxFQUFFO29CQUVuQyxJQUFJWCxPQUFPVyxFQUFFLElBQUksT0FBT1gsT0FBT1csRUFBRSxDQUFDSixJQUFJLEtBQUssWUFBWTt3QkFDckROLFdBQVcsTUFBTUQsT0FBT1csRUFBRSxDQUFDSixJQUFJO3dCQUMvQlgsUUFBUUMsR0FBRyxDQUFDLDRCQUE0QlcsS0FBS0MsU0FBUyxDQUFDUixVQUFVLE1BQU07b0JBQ3pFO2dCQUNGLEVBQUUsT0FBT1ksVUFBVTtvQkFDakJqQixRQUFRQyxHQUFHLENBQUMscUJBQXFCZ0I7Z0JBQ25DO1lBQ0Y7UUFDRjtRQUVBLElBQUlaLFlBQVlBLFNBQVNhLFFBQVEsRUFBRTtZQUNqQ2xCLFFBQVFDLEdBQUcsQ0FBQztZQUNaLE9BQU87Z0JBQUVHO2dCQUFRQztZQUFTO1FBQzVCLE9BQU87WUFDTEwsUUFBUUMsR0FBRyxDQUFDO1lBQ1osT0FBTztnQkFBRUc7Z0JBQVFDLFVBQVU7WUFBSztRQUNsQztJQUVGLEVBQUUsT0FBT2MsT0FBTztRQUNkbkIsUUFBUUMsR0FBRyxDQUFDLHNCQUFzQmtCO1FBQ2xDbkIsUUFBUUMsR0FBRyxDQUFDLGtCQUFrQmtCLGlCQUFpQkMsUUFBUUQsTUFBTUUsT0FBTyxHQUFHO1FBQ3ZFLE9BQU87WUFBRWpCLFFBQVEsSUFBSVQsOENBQVdBO1lBQUlVLFVBQVU7UUFBSztJQUNyRDtBQUNGO0FBRUE7O0NBRUMsR0FDTSxTQUFTaUIsaUJBQWlCeEIsT0FBZTtJQUM5Q0UsUUFBUUMsR0FBRyxDQUFDO0lBQ1pELFFBQVFDLEdBQUcsQ0FBQztJQUNaRCxRQUFRQyxHQUFHLENBQUM7SUFDWkQsUUFBUUMsR0FBRyxDQUFDO0lBQ1pELFFBQVFDLEdBQUcsQ0FBQztJQUNaRCxRQUFRQyxHQUFHLENBQUMsRUFBRTtJQUNkRCxRQUFRQyxHQUFHLENBQUMsQ0FBQyxrQkFBa0IsQ0FBQztJQUNoQ0QsUUFBUUMsR0FBRyxDQUFDLENBQUMsaUVBQWlFLENBQUM7SUFDL0VELFFBQVFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQztJQUNqQkQsUUFBUUMsR0FBRyxDQUFDLENBQUMsWUFBWSxDQUFDO0lBQzFCRCxRQUFRQyxHQUFHLENBQUMsQ0FBQywwQ0FBMEMsQ0FBQztJQUN4REQsUUFBUUMsR0FBRyxDQUFDLENBQUMsb0JBQW9CLENBQUM7SUFDbENELFFBQVFDLEdBQUcsQ0FBQyxDQUFDLHFEQUFxRCxDQUFDO0lBQ25FRCxRQUFRQyxHQUFHLENBQUMsQ0FBQywyQkFBMkIsQ0FBQztJQUN6Q0QsUUFBUUMsR0FBRyxDQUFDLENBQUMsaUJBQWlCLEVBQUVILFFBQVEsRUFBRSxDQUFDO0lBQzNDRSxRQUFRQyxHQUFHLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQztJQUNyQ0QsUUFBUUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO0lBQ3JCRCxRQUFRQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDbkJELFFBQVFDLEdBQUcsQ0FBQztJQUNaRCxRQUFRQyxHQUFHLENBQUM7QUFDZDtBQUVBOztDQUVDLEdBQ00sU0FBU3NCO0lBQ2QsT0FBTztRQUFFLEdBQUczQixvQkFBb0I7SUFBQztBQUNuQztBQUVBOztDQUVDLEdBQ00sU0FBUzRCLG1CQUFtQjFCLE9BQWU7SUFDaEQsT0FBT0Ysb0JBQW9CLENBQUNFLFFBQVE7SUFDcENFLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFdBQVcsRUFBRUgsU0FBUztBQUNyQyIsInNvdXJjZXMiOlsiL21udC9mL0RhdGEvR2l0L2NsYXVkZS1jb2RlL2F5YXVrZS1wYWdlL2F5YXVrZS1wYWdlL3NyYy9saWIvY2h6emtDb29raWVNYW51YWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOyImOuPmSDsv6DtgqQg7J6F66ClIOuwjyDqtIDrpqwg7Iuc7Iqk7YWcXHJcbiAqIOyekOuPmSDsnbjspp3snbQg7Iuk7Yyo7ZWgIOqyveyasOulvCDrjIDruYTtlZwg7IiY64+ZIOuwqeuylVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENoenprQ2xpZW50IH0gZnJvbSAnY2h6emsnXHJcblxyXG4vLyDsiJjrj5nsnLzroZwg7ISk7KCV7ZWgIOyImCDsnojripQg7LmY7KeA7KeBIOy/oO2CpCDsoIDsnqXshoxcclxuY29uc3QgTUFOVUFMX0NIWlpLX0NPT0tJRVM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgLy8g64Sk7J2067KEIElEOiDsuZjsp4Dsp4Eg7L+g7YKkIOunpO2VkVxyXG4gIC8vIOyYiDogJ01lNXA3X0Z3Rlcwd2h4U053ZXRZQlNrZ1JDQmhUa3VWd2ktNzduRmllQ0knOiAnTklEX0FVVD0uLi47IE5JRF9TRVM9Li4uJ1xyXG59XHJcblxyXG4vKipcclxuICog7IiY64+ZIOy/oO2CpOulvCDstpTqsIDtlZjripQg7ZWo7IiYICjqsJzrsJzsnpAg64+E6rWs7JqpKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZE1hbnVhbENoenprQ29va2llKG5hdmVySWQ6IHN0cmluZywgY29va2llczogc3RyaW5nKSB7XHJcbiAgTUFOVUFMX0NIWlpLX0NPT0tJRVNbbmF2ZXJJZF0gPSBjb29raWVzXHJcbiAgY29uc29sZS5sb2coYOyImOuPmSDsv6DtgqQg7LaU6rCA65CoOiAke25hdmVySWR9YClcclxufVxyXG5cclxuLyoqXHJcbiAqIOyImOuPmSDsv6DtgqTrpbwg7IKs7Jqp7ZW07IScIOy5mOyngOyngSDtgbTrnbzsnbTslrjtirgg7IOd7ISxXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTWFudWFsQ2h6emtDbGllbnQobmF2ZXJJZDogc3RyaW5nLCBwcm92aWRlZENvb2tpZXM/OiBzdHJpbmcpIHtcclxuICBjb25zb2xlLmxvZygnPT09IOyImOuPmSDsv6DtgqTroZwg7LmY7KeA7KeBIO2BtOudvOydtOyWuO2KuCDsg53shLEgPT09JylcclxuICBcclxuICAvLyDsp4HsoJEg7KCc6rO165CcIOy/oO2CpOqwgCDsnojsnLzrqbQg7Jqw7ISgIOyCrOyaqVxyXG4gIGNvbnN0IGNvb2tpZXMgPSBwcm92aWRlZENvb2tpZXMgfHwgTUFOVUFMX0NIWlpLX0NPT0tJRVNbbmF2ZXJJZF1cclxuICBcclxuICBpZiAoIWNvb2tpZXMpIHtcclxuICAgIGNvbnNvbGUubG9nKGDrhKTsnbTrsoQgSUQgJHtuYXZlcklkfeyXkCDrjIDtlZwg7IiY64+ZIOy/oO2CpOqwgCDsl4bsirXri4jri6RgKVxyXG4gICAgcmV0dXJuIHsgY2xpZW50OiBuZXcgQ2h6emtDbGllbnQoKSwgdXNlckluZm86IG51bGwgfVxyXG4gIH1cclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ+yImOuPmSDsv6DtgqTroZwg7YG065287J207Ja47Yq4IOyDneyEsTonLCBjb29raWVzLnN1YnN0cmluZygwLCA1MCkgKyAnLi4uJylcclxuICAgIGNvbnNvbGUubG9nKCfsoITssrQg7L+g7YKkIOq4uOydtDonLCBjb29raWVzLmxlbmd0aClcclxuICAgIFxyXG4gICAgLy8g7L+g7YKk7JeQ7IScIE5JRF9BVVTsmYAgTklEX1NFUyDstpTstpxcclxuICAgIGNvbnN0IG5pZEF1dGggPSBjb29raWVzLm1hdGNoKC9OSURfQVVUPShbXjtdKykvKT8uWzFdXHJcbiAgICBjb25zdCBuaWRTZXNzaW9uID0gY29va2llcy5tYXRjaCgvTklEX1NFUz0oW147XSspLyk/LlsxXVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygn7LaU7Lac65CcIE5JRF9BVVQ6JywgbmlkQXV0aCA/IG5pZEF1dGguc3Vic3RyaW5nKDAsIDIwKSArICcuLi4nIDogJ251bGwnKVxyXG4gICAgY29uc29sZS5sb2coJ+y2lOy2nOuQnCBOSURfU0VTOicsIG5pZFNlc3Npb24gPyBuaWRTZXNzaW9uLnN1YnN0cmluZygwLCAyMCkgKyAnLi4uJyA6ICdudWxsJylcclxuICAgIFxyXG4gICAgaWYgKCFuaWRBdXRoIHx8ICFuaWRTZXNzaW9uKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCftlYTsiJgg7L+g7YKkIChOSURfQVVUIOuYkOuKlCBOSURfU0VTKeqwgCDsl4bsirXri4jri6QnKVxyXG4gICAgICByZXR1cm4geyBjbGllbnQ6IG5ldyBDaHp6a0NsaWVudCgpLCB1c2VySW5mbzogbnVsbCB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOy5mOyngOyngSDruYTqs7Xsi50gQVBJIO2BtOudvOydtOyWuO2KuCDsg53shLEgKOyYrOuwlOuluCDrsKnsi50pXHJcbiAgICBjb25zdCBjbGllbnQgPSBuZXcgQ2h6emtDbGllbnQoe1xyXG4gICAgICBuaWRBdXRoOiBuaWRBdXRoLFxyXG4gICAgICBuaWRTZXNzaW9uOiBuaWRTZXNzaW9uXHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnQ2h6emtDbGllbnQg7IOd7ISxIOyZhOujjCwg7IKs7Jqp7J6QIOygleuztCDsobDtmowg7Iuc64+ELi4uJylcclxuICAgIFxyXG4gICAgLy8g64uk7JaR7ZWcIEFQSSDrqZTshJzrk5wg7Iuc64+EXHJcbiAgICBsZXQgdXNlckluZm8gPSBudWxsXHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQudXNlcigpIOuplOyEnOuTnCDsi5zrj4QuLi4nKVxyXG4gICAgICB1c2VySW5mbyA9IGF3YWl0IGNsaWVudC51c2VyKClcclxuICAgICAgY29uc29sZS5sb2coJ2NsaWVudC51c2VyKCkg6rKw6rO8OicsIEpTT04uc3RyaW5naWZ5KHVzZXJJbmZvLCBudWxsLCAyKSlcclxuICAgIH0gY2F0Y2ggKHVzZXJFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZygnY2xpZW50LnVzZXIoKSDsi6TtjKg6JywgdXNlckVycm9yKVxyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50Lm1lLnVzZXIoKSDrqZTshJzrk5wg7Iuc64+ELi4uJylcclxuICAgICAgICB1c2VySW5mbyA9IGF3YWl0IGNsaWVudC5tZS51c2VyKClcclxuICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50Lm1lLnVzZXIoKSDqsrDqs7w6JywgSlNPTi5zdHJpbmdpZnkodXNlckluZm8sIG51bGwsIDIpKVxyXG4gICAgICB9IGNhdGNoIChtZUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudC5tZS51c2VyKCkg7Iuk7YyoOicsIG1lRXJyb3IpXHJcbiAgICAgICAgXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQubWUg7ZSE66Gc7Y287YuwIO2ZleyduC4uLicpXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50Lm1lOicsIGNsaWVudC5tZSlcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKGNsaWVudC5tZSAmJiB0eXBlb2YgY2xpZW50Lm1lLnVzZXIgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdXNlckluZm8gPSBhd2FpdCBjbGllbnQubWUudXNlcigpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQubWUudXNlcigpIOyerOyLnOuPhCDqsrDqs7w6JywgSlNPTi5zdHJpbmdpZnkodXNlckluZm8sIG51bGwsIDIpKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKG1lMkVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50Lm1lIOyerOyLnOuPhCDsi6TtjKg6JywgbWUyRXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh1c2VySW5mbyAmJiB1c2VySW5mby5sb2dnZWRJbikge1xyXG4gICAgICBjb25zb2xlLmxvZygn7IiY64+ZIOy/oO2CpCDsnbjspp0g7ISx6rO1IScpXHJcbiAgICAgIHJldHVybiB7IGNsaWVudCwgdXNlckluZm8gfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coJ+yCrOyaqeyekCDsoJXrs7Qg7KGw7ZqMIOyLpO2MqCwg7ZWY7KeA66eMIO2BtOudvOydtOyWuO2KuOuKlCDsg53shLHrkKgnKVxyXG4gICAgICByZXR1cm4geyBjbGllbnQsIHVzZXJJbmZvOiBudWxsIH1cclxuICAgIH1cclxuICAgIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZygn7IiY64+ZIOy/oO2CpCDtgbTrnbzsnbTslrjtirgg7IOd7ISxIOyLpO2MqDonLCBlcnJvcilcclxuICAgIGNvbnNvbGUubG9nKCdlcnJvci5tZXNzYWdlOicsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InKVxyXG4gICAgcmV0dXJuIHsgY2xpZW50OiBuZXcgQ2h6emtDbGllbnQoKSwgdXNlckluZm86IG51bGwgfVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOy/oO2CpCDshKTsoJUg6rCA7J2065OcIOy2nOugpVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHByaW50Q29va2llR3VpZGUobmF2ZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc29sZS5sb2coJz09PSDsuZjsp4Dsp4Eg7L+g7YKkIOyImOuPmSDshKTsoJUg6rCA7J2065OcID09PScpXHJcbiAgY29uc29sZS5sb2coJzEuIOu4jOudvOyasOyggOyXkOyEnCBodHRwczovL2NoenprLm5hdmVyLmNvbSDsl5Ag66Gc6re47J24JylcclxuICBjb25zb2xlLmxvZygnMi4g6rCc67Cc7J6QIOuPhOq1rCAoRjEyKSDihpIgQXBwbGljYXRpb24vU3RvcmFnZSDihpIgQ29va2llcycpXHJcbiAgY29uc29sZS5sb2coJzMuIE5JRF9BVVTsmYAgTklEX1NFUyDsv6DtgqQg6rCS7J2EIOuzteyCrCcpXHJcbiAgY29uc29sZS5sb2coJzQuIOuLpOydjCDsvZTrk5zrpbwg67iM65287Jqw7KCAIOy9mOyGlOyXkOyEnCDsi6Ttlok6JylcclxuICBjb25zb2xlLmxvZyhgYClcclxuICBjb25zb2xlLmxvZyhgICAgLy8g7L+g7YKkIOqwkuydhCDsl6zquLDsl5Ag7J6F66ClYClcclxuICBjb25zb2xlLmxvZyhgICAgY29uc3QgY29va2llcyA9IFwiTklEX0FVVD3ri7nsi6DsnZhfTklEX0FVVF/qsJI7IE5JRF9TRVM964u57Iug7J2YX05JRF9TRVNf6rCSXCJgKVxyXG4gIGNvbnNvbGUubG9nKGAgICBgKVxyXG4gIGNvbnNvbGUubG9nKGAgICAvLyBBUEkg7Zi47LacYClcclxuICBjb25zb2xlLmxvZyhgICAgZmV0Y2goJy9hcGkvYWRtaW4vc2V0LW1hbnVhbC1jb29raWUnLCB7YClcclxuICBjb25zb2xlLmxvZyhgICAgICBtZXRob2Q6ICdQT1NUJyxgKVxyXG4gIGNvbnNvbGUubG9nKGAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LGApXHJcbiAgY29uc29sZS5sb2coYCAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe2ApXHJcbiAgY29uc29sZS5sb2coYCAgICAgICBuYXZlcklkOiAnJHtuYXZlcklkfScsYClcclxuICBjb25zb2xlLmxvZyhgICAgICAgIGNvb2tpZXM6IGNvb2tpZXNgKVxyXG4gIGNvbnNvbGUubG9nKGAgICAgIH0pYClcclxuICBjb25zb2xlLmxvZyhgICAgfSlgKVxyXG4gIGNvbnNvbGUubG9nKCcnKVxyXG4gIGNvbnNvbGUubG9nKCc1LiDroZzqt7jslYTsm4Mg7ZuEIOuLpOyLnCDroZzqt7jsnbjtlZjsl6wg7YWM7Iqk7Yq4JylcclxufVxyXG5cclxuLyoqXHJcbiAqIO2YhOyerCDrk7HroZ3rkJwg7IiY64+ZIOy/oO2CpCDrqqnroZ0g7KGw7ZqMXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFudWFsQ29va2llcygpIHtcclxuICByZXR1cm4geyAuLi5NQU5VQUxfQ0haWktfQ09PS0lFUyB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDsiJjrj5kg7L+g7YKkIOyCreygnFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU1hbnVhbENvb2tpZShuYXZlcklkOiBzdHJpbmcpIHtcclxuICBkZWxldGUgTUFOVUFMX0NIWlpLX0NPT0tJRVNbbmF2ZXJJZF1cclxuICBjb25zb2xlLmxvZyhg7IiY64+ZIOy/oO2CpCDsgq3soJzrkKg6ICR7bmF2ZXJJZH1gKVxyXG59Il0sIm5hbWVzIjpbIkNoenprQ2xpZW50IiwiTUFOVUFMX0NIWlpLX0NPT0tJRVMiLCJhZGRNYW51YWxDaHp6a0Nvb2tpZSIsIm5hdmVySWQiLCJjb29raWVzIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZU1hbnVhbENoenprQ2xpZW50IiwicHJvdmlkZWRDb29raWVzIiwiY2xpZW50IiwidXNlckluZm8iLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJuaWRBdXRoIiwibWF0Y2giLCJuaWRTZXNzaW9uIiwidXNlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1c2VyRXJyb3IiLCJtZSIsIm1lRXJyb3IiLCJtZTJFcnJvciIsImxvZ2dlZEluIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJwcmludENvb2tpZUd1aWRlIiwiZ2V0TWFudWFsQ29va2llcyIsInJlbW92ZU1hbnVhbENvb2tpZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/chzzkCookieManual.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/chzzkOAuthProvider.ts":
/*!***************************************!*\
  !*** ./src/lib/chzzkOAuthProvider.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChzzkProvider)\n/* harmony export */ });\n// ÌÜ†ÌÅ∞ÏùÑ Ï†ÄÏû•Ìï† ÏûÑÏãú Î≥ÄÏàò\nlet currentAccessToken = null;\nfunction ChzzkProvider(options) {\n    return {\n        id: \"chzzk\",\n        name: \"ÏπòÏßÄÏßÅ\",\n        type: \"oauth\",\n        authorization: {\n            url: \"https://chzzk.naver.com/account-interlock\",\n            params: {\n                clientId: options.clientId,\n                redirectUri: `${process.env.NEXTAUTH_URL}/api/auth/callback/chzzk`,\n                response_type: \"code\"\n            }\n        },\n        // ÎîîÎ≤ÑÍπÖÏùÑ ÏúÑÌïú Î°úÍ∑∏\n        ... true && {\n            debug: true\n        },\n        token: {\n            url: \"https://chzzk.naver.com/auth/v1/token\",\n            async request (context) {\n                const response = await fetch(\"https://chzzk.naver.com/auth/v1/token\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        grantType: \"authorization_code\",\n                        clientId: options.clientId,\n                        clientSecret: options.clientSecret,\n                        code: context.params.code,\n                        state: context.params.state\n                    })\n                });\n                if (!response.ok) {\n                    const errorText = await response.text();\n                    console.error('ÏπòÏßÄÏßÅ ÌÜ†ÌÅ∞ ÏöîÏ≤≠ Ïã§Ìå®:', {\n                        status: response.status,\n                        statusText: response.statusText,\n                        error: errorText,\n                        clientId: options.clientId,\n                        redirectUri: `${process.env.NEXTAUTH_URL}/api/auth/callback/chzzk`\n                    });\n                    // API ÏäπÏù∏ Í¥ÄÎ†® Ïò§Î•òÏù∏ÏßÄ ÌôïÏù∏\n                    if (response.status === 401 || response.status === 403) {\n                        throw new Error(`ÏπòÏßÄÏßÅ API ÏäπÏù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§. ÌÅ¥ÎùºÏù¥Ïñ∏Ìä∏ ID/SECRETÏùÑ ÌôïÏù∏ÌïòÍ±∞ÎÇò API ÏäπÏù∏ ÏÉÅÌÉúÎ•º ÌôïÏù∏ÌïòÏÑ∏Ïöî. (${response.status})`);\n                    }\n                    throw new Error(`Token request failed: ${response.status} - ${errorText}`);\n                }\n                const tokens = await response.json();\n                const result = {\n                    access_token: tokens.content?.accessToken || tokens.accessToken,\n                    refresh_token: tokens.content?.refreshToken || tokens.refreshToken,\n                    token_type: tokens.content?.tokenType || tokens.tokenType || \"Bearer\",\n                    expires_in: tokens.content?.expiresIn || tokens.expiresIn || 86400\n                };\n                // ÌÜ†ÌÅ∞ÏùÑ ÏûÑÏãú Î≥ÄÏàòÏóê Ï†ÄÏû•\n                currentAccessToken = result.access_token;\n                return result;\n            }\n        },\n        userinfo: {\n            url: \"https://chzzk.naver.com/open/v1/users/me\",\n            async request (context) {\n                // contextÏóêÏÑú ÌÜ†ÌÅ∞ÏùÑ Í∞ÄÏ†∏Ïò§Í±∞ÎÇò ÏûÑÏãú Ï†ÄÏû•Îêú ÌÜ†ÌÅ∞ ÏÇ¨Ïö©\n                const accessToken = context.tokens?.access_token || currentAccessToken;\n                // Ïï°ÏÑ∏Ïä§ ÌÜ†ÌÅ∞Ïù¥ ÏóÜÏúºÎ©¥ Î°úÍ∑∏Ïù∏ Ïã§Ìå®\n                if (!accessToken) {\n                    throw new Error('Access token not found');\n                }\n                // ÏπòÏßÄÏßÅ Í≥µÏãù ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ API Ìò∏Ï∂ú\n                try {\n                    const response = await fetch(\"https://openapi.chzzk.naver.com/open/v1/users/me\", {\n                        method: \"GET\",\n                        headers: {\n                            Authorization: `Bearer ${accessToken}`,\n                            \"Content-Type\": \"application/json\"\n                        }\n                    });\n                    if (response.ok) {\n                        const userData = await response.json();\n                        const content = userData.content || userData;\n                        if (content.channelId && content.channelName) {\n                            return {\n                                userIdHash: content.channelId,\n                                nickname: content.channelName || content.nickname,\n                                profileImageUrl: content.profileImageUrl || content.channelImageUrl,\n                                channelId: content.channelId,\n                                channelName: content.channelName || content.nickname,\n                                channelImageUrl: content.channelImageUrl,\n                                followerCount: content.followerCount || 0\n                            };\n                        }\n                    } else {\n                        const errorText = await response.text();\n                        console.error('ÏπòÏßÄÏßÅ ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ API Ìò∏Ï∂ú Ïã§Ìå®:', {\n                            status: response.status,\n                            statusText: response.statusText,\n                            error: errorText,\n                            accessToken: accessToken ? 'ÌÜ†ÌÅ∞ ÏûàÏùå' : 'ÌÜ†ÌÅ∞ ÏóÜÏùå'\n                        });\n                        // API ÏäπÏù∏ Í¥ÄÎ†® Ïò§Î•òÏù∏ÏßÄ ÌôïÏù∏\n                        if (response.status === 401 || response.status === 403) {\n                            throw new Error(`ÏπòÏßÄÏßÅ API ÏäπÏù∏Ïù¥ ÌïÑÏöîÌï©ÎãàÎã§. Í∞úÎ∞úÏûê ÏΩòÏÜîÏóêÏÑú API ÏäπÏù∏ ÏÉÅÌÉúÎ•º ÌôïÏù∏ÌïòÏÑ∏Ïöî. (${response.status})`);\n                        }\n                    }\n                // Í≥µÏãù API ÏùëÎãµÏù¥ Ïú†Ìö®ÌïòÏßÄ ÏïäÏùå\n                } catch (error) {\n                    console.error('ÏπòÏßÄÏßÅ Í≥µÏãù API Ìò∏Ï∂ú Ïã§Ìå®:', error);\n                    // API ÏäπÏù∏ Í¥ÄÎ†® Ïò§Î•òÎùºÎ©¥ Îçî Î™ÖÌôïÌïú Î©îÏãúÏßÄ ÌëúÏãú\n                    if (error.message && error.message.includes('ÏäπÏù∏')) {\n                        throw error;\n                    }\n                }\n                // Fallback APIÎì§ ÏãúÎèÑ\n                const fallbackUrls = [\n                    'https://api.chzzk.naver.com/open/v1/users/me',\n                    'https://comm-api.game.naver.com/nng_main/v1/user/getUserStatus'\n                ];\n                for (const url of fallbackUrls){\n                    try {\n                        const response = await fetch(url, {\n                            method: \"GET\",\n                            headers: {\n                                Authorization: `Bearer ${accessToken}`,\n                                \"Content-Type\": \"application/json\"\n                            }\n                        });\n                        if (response.ok) {\n                            const responseText = await response.text();\n                            // HTML ÏùëÎãµ Í±¥ÎÑàÎõ∞Í∏∞\n                            if (responseText.includes('<!doctype html>')) continue;\n                            const userData = JSON.parse(responseText);\n                            const content = userData.content || userData.response || userData;\n                            if (content.channelId && content.channelName) {\n                                return {\n                                    userIdHash: content.channelId,\n                                    nickname: content.channelName,\n                                    profileImageUrl: content.profileImageUrl || content.channelImageUrl,\n                                    channelId: content.channelId,\n                                    channelName: content.channelName,\n                                    channelImageUrl: content.channelImageUrl,\n                                    followerCount: content.followerCount || 0\n                                };\n                            }\n                        }\n                    } catch (error) {\n                        continue;\n                    }\n                }\n                // Î™®Îì† API Ïã§Ìå®\n                throw new Error('Chzzk user info API failed');\n            }\n        },\n        profile (profile) {\n            return {\n                id: profile.userIdHash,\n                name: profile.channelName || profile.nickname,\n                email: null,\n                image: profile.channelImageUrl || profile.profileImageUrl,\n                channelId: profile.channelId || profile.userIdHash,\n                channelName: profile.channelName || profile.nickname,\n                channelImageUrl: profile.channelImageUrl,\n                followerCount: profile.followerCount\n            };\n        },\n        ...options\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VyxRQUFRVCxRQUFRO2dCQUM3Q1UsT0FBTztnQkFDUEMsT0FBT0YsUUFBUVAsZUFBZSxJQUFJTyxRQUFRUixlQUFlO2dCQUN6REosV0FBV1ksUUFBUVosU0FBUyxJQUFJWSxRQUFRVixVQUFVO2dCQUNsREQsYUFBYVcsUUFBUVgsV0FBVyxJQUFJVyxRQUFRVCxRQUFRO2dCQUNwREUsaUJBQWlCTyxRQUFRUCxlQUFlO2dCQUN4Q0MsZUFBZU0sUUFBUU4sYUFBYTtZQUN0QztRQUNGO1FBQ0EsR0FBR3pELE9BQU87SUFDWjtBQUNGIiwic291cmNlcyI6WyIvbW50L2YvRGF0YS9HaXQvY2xhdWRlLWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL2xpYi9jaHp6a09BdXRoUHJvdmlkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT0F1dGhDb25maWcsIE9BdXRoVXNlckNvbmZpZyB9IGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL29hdXRoXCJcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2h6emtQcm9maWxlIHtcclxuICB1c2VySWRIYXNoOiBzdHJpbmdcclxuICBuaWNrbmFtZTogc3RyaW5nXHJcbiAgcHJvZmlsZUltYWdlVXJsPzogc3RyaW5nXHJcbiAgY2hhbm5lbElkPzogc3RyaW5nXHJcbiAgY2hhbm5lbE5hbWU/OiBzdHJpbmdcclxuICBjaGFubmVsSW1hZ2VVcmw/OiBzdHJpbmdcclxuICBmb2xsb3dlckNvdW50PzogbnVtYmVyXHJcbn1cclxuXHJcbi8vIO2GoO2BsOydhCDsoIDsnqXtlaAg7J6E7IucIOuzgOyImFxyXG5sZXQgY3VycmVudEFjY2Vzc1Rva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2h6emtQcm92aWRlcihcclxuICBvcHRpb25zOiBPQXV0aFVzZXJDb25maWc8Q2h6emtQcm9maWxlPlxyXG4pOiBPQXV0aENvbmZpZzxDaHp6a1Byb2ZpbGU+IHtcclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IFwiY2h6emtcIixcclxuICAgIG5hbWU6IFwi7LmY7KeA7KeBXCIsXHJcbiAgICB0eXBlOiBcIm9hdXRoXCIsXHJcbiAgICBhdXRob3JpemF0aW9uOiB7XHJcbiAgICAgIHVybDogXCJodHRwczovL2NoenprLm5hdmVyLmNvbS9hY2NvdW50LWludGVybG9ja1wiLFxyXG4gICAgICBwYXJhbXM6IHtcclxuICAgICAgICBjbGllbnRJZDogb3B0aW9ucy5jbGllbnRJZCxcclxuICAgICAgICByZWRpcmVjdFVyaTogYCR7cHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMfS9hcGkvYXV0aC9jYWxsYmFjay9jaHp6a2AsXHJcbiAgICAgICAgcmVzcG9uc2VfdHlwZTogXCJjb2RlXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgLy8g65SU67KE6rmF7J2EIOychO2VnCDroZzqt7hcclxuICAgIC4uLihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiB7XHJcbiAgICAgIGRlYnVnOiB0cnVlXHJcbiAgICB9KSxcclxuICAgIHRva2VuOiB7XHJcbiAgICAgIHVybDogXCJodHRwczovL2NoenprLm5hdmVyLmNvbS9hdXRoL3YxL3Rva2VuXCIsXHJcbiAgICAgIGFzeW5jIHJlcXVlc3QoY29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJodHRwczovL2NoenprLm5hdmVyLmNvbS9hdXRoL3YxL3Rva2VuXCIsIHtcclxuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgZ3JhbnRUeXBlOiBcImF1dGhvcml6YXRpb25fY29kZVwiLFxyXG4gICAgICAgICAgICBjbGllbnRJZDogb3B0aW9ucy5jbGllbnRJZCxcclxuICAgICAgICAgICAgY2xpZW50U2VjcmV0OiBvcHRpb25zLmNsaWVudFNlY3JldCxcclxuICAgICAgICAgICAgY29kZTogY29udGV4dC5wYXJhbXMuY29kZSxcclxuICAgICAgICAgICAgc3RhdGU6IGNvbnRleHQucGFyYW1zLnN0YXRlLFxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfsuZjsp4Dsp4Eg7Yag7YGwIOyalOyyrSDsi6TtjKg6Jywge1xyXG4gICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcclxuICAgICAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcclxuICAgICAgICAgICAgZXJyb3I6IGVycm9yVGV4dCxcclxuICAgICAgICAgICAgY2xpZW50SWQ6IG9wdGlvbnMuY2xpZW50SWQsXHJcbiAgICAgICAgICAgIHJlZGlyZWN0VXJpOiBgJHtwcm9jZXNzLmVudi5ORVhUQVVUSF9VUkx9L2FwaS9hdXRoL2NhbGxiYWNrL2NoenprYFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQVBJIOyKueyduCDqtIDroKgg7Jik66WY7J247KeAIO2ZleyduFxyXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg7LmY7KeA7KeBIEFQSSDsirnsnbjsnbQg7ZWE7JqU7ZWp64uI64ukLiDtgbTrnbzsnbTslrjtirggSUQvU0VDUkVU7J2EIO2ZleyduO2VmOqxsOuCmCBBUEkg7Iq57J24IOyDge2DnOulvCDtmZXsnbjtlZjshLjsmpQuICgke3Jlc3BvbnNlLnN0YXR1c30pYClcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUb2tlbiByZXF1ZXN0IGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXN9IC0gJHtlcnJvclRleHR9YClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgICAgICAgIGFjY2Vzc190b2tlbjogdG9rZW5zLmNvbnRlbnQ/LmFjY2Vzc1Rva2VuIHx8IHRva2Vucy5hY2Nlc3NUb2tlbixcclxuICAgICAgICAgIHJlZnJlc2hfdG9rZW46IHRva2Vucy5jb250ZW50Py5yZWZyZXNoVG9rZW4gfHwgdG9rZW5zLnJlZnJlc2hUb2tlbixcclxuICAgICAgICAgIHRva2VuX3R5cGU6IHRva2Vucy5jb250ZW50Py50b2tlblR5cGUgfHwgdG9rZW5zLnRva2VuVHlwZSB8fCBcIkJlYXJlclwiLFxyXG4gICAgICAgICAgZXhwaXJlc19pbjogdG9rZW5zLmNvbnRlbnQ/LmV4cGlyZXNJbiB8fCB0b2tlbnMuZXhwaXJlc0luIHx8IDg2NDAwLFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyDthqDtgbDsnYQg7J6E7IucIOuzgOyImOyXkCDsoIDsnqVcclxuICAgICAgICBjdXJyZW50QWNjZXNzVG9rZW4gPSByZXN1bHQuYWNjZXNzX3Rva2VuXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHVzZXJpbmZvOiB7XHJcbiAgICAgIHVybDogXCJodHRwczovL2NoenprLm5hdmVyLmNvbS9vcGVuL3YxL3VzZXJzL21lXCIsXHJcbiAgICAgIGFzeW5jIHJlcXVlc3QoY29udGV4dCkge1xyXG4gICAgICAgIC8vIGNvbnRleHTsl5DshJwg7Yag7YGw7J2EIOqwgOyguOyYpOqxsOuCmCDsnoTsi5wg7KCA7J6l65CcIO2GoO2BsCDsgqzsmqlcclxuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGNvbnRleHQudG9rZW5zPy5hY2Nlc3NfdG9rZW4gfHwgY3VycmVudEFjY2Vzc1Rva2VuXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g7JWh7IS47IqkIO2GoO2BsOydtCDsl4bsnLzrqbQg66Gc6re47J24IOyLpO2MqFxyXG4gICAgICAgIGlmICghYWNjZXNzVG9rZW4pIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQWNjZXNzIHRva2VuIG5vdCBmb3VuZCcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOy5mOyngOyngSDqs7Xsi50g7IKs7Jqp7J6QIOygleuztCBBUEkg7Zi47LacXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJodHRwczovL29wZW5hcGkuY2h6emsubmF2ZXIuY29tL29wZW4vdjEvdXNlcnMvbWVcIiwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCxcclxuICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdXNlckRhdGEuY29udGVudCB8fCB1c2VyRGF0YVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGNvbnRlbnQuY2hhbm5lbElkICYmIGNvbnRlbnQuY2hhbm5lbE5hbWUpIHtcclxuICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdXNlcklkSGFzaDogY29udGVudC5jaGFubmVsSWQsXHJcbiAgICAgICAgICAgICAgICBuaWNrbmFtZTogY29udGVudC5jaGFubmVsTmFtZSB8fCBjb250ZW50Lm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgcHJvZmlsZUltYWdlVXJsOiBjb250ZW50LnByb2ZpbGVJbWFnZVVybCB8fCBjb250ZW50LmNoYW5uZWxJbWFnZVVybCxcclxuICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogY29udGVudC5jaGFubmVsSWQsXHJcbiAgICAgICAgICAgICAgICBjaGFubmVsTmFtZTogY29udGVudC5jaGFubmVsTmFtZSB8fCBjb250ZW50Lm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgY2hhbm5lbEltYWdlVXJsOiBjb250ZW50LmNoYW5uZWxJbWFnZVVybCxcclxuICAgICAgICAgICAgICAgIGZvbGxvd2VyQ291bnQ6IGNvbnRlbnQuZm9sbG93ZXJDb3VudCB8fCAwLFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+y5mOyngOyngSDsgqzsmqnsnpAg7KCV67O0IEFQSSDtmLjstpwg7Iuk7YyoOicsIHtcclxuICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcclxuICAgICAgICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxyXG4gICAgICAgICAgICAgIGVycm9yOiBlcnJvclRleHQsXHJcbiAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuID8gJ+2GoO2BsCDsnojsnYwnIDogJ+2GoO2BsCDsl4bsnYwnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBUEkg7Iq57J24IOq0gOugqCDsmKTrpZjsnbjsp4Ag7ZmV7J24XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSB8fCByZXNwb25zZS5zdGF0dXMgPT09IDQwMykge1xyXG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg7LmY7KeA7KeBIEFQSSDsirnsnbjsnbQg7ZWE7JqU7ZWp64uI64ukLiDqsJzrsJzsnpAg7L2Y7IaU7JeQ7IScIEFQSSDsirnsnbgg7IOB7YOc66W8IO2ZleyduO2VmOyEuOyalC4gKCR7cmVzcG9uc2Uuc3RhdHVzfSlgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIOqzteyLnSBBUEkg7J2R64u17J20IOycoO2aqO2VmOyngCDslYrsnYxcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign7LmY7KeA7KeBIOqzteyLnSBBUEkg7Zi47LacIOyLpO2MqDonLCBlcnJvcilcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQVBJIOyKueyduCDqtIDroKgg7Jik66WY652866m0IOuNlCDrqoXtmZXtlZwg66mU7Iuc7KeAIO2RnOyLnFxyXG4gICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgJiYgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygn7Iq57J24JykpIHtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRmFsbGJhY2sgQVBJ65OkIOyLnOuPhFxyXG4gICAgICAgIGNvbnN0IGZhbGxiYWNrVXJscyA9IFtcclxuICAgICAgICAgICdodHRwczovL2FwaS5jaHp6ay5uYXZlci5jb20vb3Blbi92MS91c2Vycy9tZScsXHJcbiAgICAgICAgICAnaHR0cHM6Ly9jb21tLWFwaS5nYW1lLm5hdmVyLmNvbS9ubmdfbWFpbi92MS91c2VyL2dldFVzZXJTdGF0dXMnXHJcbiAgICAgICAgXVxyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAoY29uc3QgdXJsIG9mIGZhbGxiYWNrVXJscykge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcclxuICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2FjY2Vzc1Rva2VufWAsXHJcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gSFRNTCDsnZHri7Ug6rG064SI65uw6riwXHJcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlVGV4dC5pbmNsdWRlcygnPCFkb2N0eXBlIGh0bWw+JykpIGNvbnRpbnVlXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlVGV4dClcclxuICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdXNlckRhdGEuY29udGVudCB8fCB1c2VyRGF0YS5yZXNwb25zZSB8fCB1c2VyRGF0YVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGlmIChjb250ZW50LmNoYW5uZWxJZCAmJiBjb250ZW50LmNoYW5uZWxOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICB1c2VySWRIYXNoOiBjb250ZW50LmNoYW5uZWxJZCxcclxuICAgICAgICAgICAgICAgICAgbmlja25hbWU6IGNvbnRlbnQuY2hhbm5lbE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgIHByb2ZpbGVJbWFnZVVybDogY29udGVudC5wcm9maWxlSW1hZ2VVcmwgfHwgY29udGVudC5jaGFubmVsSW1hZ2VVcmwsXHJcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogY29udGVudC5jaGFubmVsSWQsXHJcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWxOYW1lOiBjb250ZW50LmNoYW5uZWxOYW1lLFxyXG4gICAgICAgICAgICAgICAgICBjaGFubmVsSW1hZ2VVcmw6IGNvbnRlbnQuY2hhbm5lbEltYWdlVXJsLFxyXG4gICAgICAgICAgICAgICAgICBmb2xsb3dlckNvdW50OiBjb250ZW50LmZvbGxvd2VyQ291bnQgfHwgMCxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIOqwnOuzhCDsi6TtjKjripQg66y07Iuc7ZWY6rOgIOuLpOydjCBVUkwg7Iuc64+EXHJcbiAgICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOuqqOuToCBBUEkg7Iuk7YyoXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaHp6ayB1c2VyIGluZm8gQVBJIGZhaWxlZCcpXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgcHJvZmlsZShwcm9maWxlKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaWQ6IHByb2ZpbGUudXNlcklkSGFzaCxcclxuICAgICAgICBuYW1lOiBwcm9maWxlLmNoYW5uZWxOYW1lIHx8IHByb2ZpbGUubmlja25hbWUsXHJcbiAgICAgICAgZW1haWw6IG51bGwsXHJcbiAgICAgICAgaW1hZ2U6IHByb2ZpbGUuY2hhbm5lbEltYWdlVXJsIHx8IHByb2ZpbGUucHJvZmlsZUltYWdlVXJsLFxyXG4gICAgICAgIGNoYW5uZWxJZDogcHJvZmlsZS5jaGFubmVsSWQgfHwgcHJvZmlsZS51c2VySWRIYXNoLFxyXG4gICAgICAgIGNoYW5uZWxOYW1lOiBwcm9maWxlLmNoYW5uZWxOYW1lIHx8IHByb2ZpbGUubmlja25hbWUsXHJcbiAgICAgICAgY2hhbm5lbEltYWdlVXJsOiBwcm9maWxlLmNoYW5uZWxJbWFnZVVybCxcclxuICAgICAgICBmb2xsb3dlckNvdW50OiBwcm9maWxlLmZvbGxvd2VyQ291bnQsXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAuLi5vcHRpb25zLFxyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJjdXJyZW50QWNjZXNzVG9rZW4iLCJDaHp6a1Byb3ZpZGVyIiwib3B0aW9ucyIsImlkIiwibmFtZSIsInR5cGUiLCJhdXRob3JpemF0aW9uIiwidXJsIiwicGFyYW1zIiwiY2xpZW50SWQiLCJyZWRpcmVjdFVyaSIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9VUkwiLCJyZXNwb25zZV90eXBlIiwiZGVidWciLCJ0b2tlbiIsInJlcXVlc3QiLCJjb250ZXh0IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImdyYW50VHlwZSIsImNsaWVudFNlY3JldCIsImNvZGUiLCJzdGF0ZSIsIm9rIiwiZXJyb3JUZXh0IiwidGV4dCIsImNvbnNvbGUiLCJlcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJFcnJvciIsInRva2VucyIsImpzb24iLCJyZXN1bHQiLCJhY2Nlc3NfdG9rZW4iLCJjb250ZW50IiwiYWNjZXNzVG9rZW4iLCJyZWZyZXNoX3Rva2VuIiwicmVmcmVzaFRva2VuIiwidG9rZW5fdHlwZSIsInRva2VuVHlwZSIsImV4cGlyZXNfaW4iLCJleHBpcmVzSW4iLCJ1c2VyaW5mbyIsIkF1dGhvcml6YXRpb24iLCJ1c2VyRGF0YSIsImNoYW5uZWxJZCIsImNoYW5uZWxOYW1lIiwidXNlcklkSGFzaCIsIm5pY2tuYW1lIiwicHJvZmlsZUltYWdlVXJsIiwiY2hhbm5lbEltYWdlVXJsIiwiZm9sbG93ZXJDb3VudCIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImZhbGxiYWNrVXJscyIsInJlc3BvbnNlVGV4dCIsInBhcnNlIiwicHJvZmlsZSIsImVtYWlsIiwiaW1hZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/chzzkOAuthProvider.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/googleSheets.ts":
/*!*********************************!*\
  !*** ./src/lib/googleSheets.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fetchRawSongsFromSheet: () => (/* binding */ fetchRawSongsFromSheet),\n/* harmony export */   fetchSongDetailsFromMongo: () => (/* binding */ fetchSongDetailsFromMongo),\n/* harmony export */   fetchSongsFromSheet: () => (/* binding */ fetchSongsFromSheet),\n/* harmony export */   getErrorMessage: () => (/* binding */ getErrorMessage),\n/* harmony export */   mergeSongsData: () => (/* binding */ mergeSongsData)\n/* harmony export */ });\nconst SHEET_ID = '1g-hVYnHn20XkS2HLAzOI9UcOnNHNtz1H-1g1MgVXTAc';\nconst API_KEY = \"AIzaSyC0G7FBmFPuO_1UMGQ9crVuEea1_xDlHVQ\";\nasync function fetchSongsFromSheet() {\n    if (!API_KEY || API_KEY === 'test_key') {\n        throw new Error('MISSING_API_KEY');\n    }\n    try {\n        // 1. Íµ¨Í∏ÄÏãúÌä∏ÏóêÏÑú Í∏∞Î≥∏ Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n        const sheetSongs = await fetchRawSongsFromSheet();\n        // 2. MongoDBÏóêÏÑú ÏÉÅÏÑ∏ Îç∞Ïù¥ÌÑ∞ Í∞ÄÏ†∏Ïò§Í∏∞\n        const { songDetails, deletedSongKeys } = await fetchSongDetailsFromMongo();\n        // 3. Îëê Îç∞Ïù¥ÌÑ∞Î•º Î≥ëÌï©\n        const mergedSongs = mergeSongsData(sheetSongs, songDetails, deletedSongKeys);\n        console.log(`‚úÖ ÎÖ∏Îûò Îç∞Ïù¥ÌÑ∞ Î≥ëÌï©: ${mergedSongs.length}Í≥°`);\n        return mergedSongs;\n    } catch (error) {\n        console.error('Error fetching songs from sheet:', error);\n        throw error;\n    }\n}\nasync function fetchRawSongsFromSheet() {\n    // Ïó¨Îü¨ Î≤îÏúÑÎ•º ÏãúÎèÑÌï¥ÏÑú Îç∞Ïù¥ÌÑ∞Í∞Ä ÏûàÎäî ÏãúÌä∏Î•º Ï∞æÏäµÎãàÎã§\n    const ranges = [\n        'Sheet1',\n        'A:Z',\n        'ÏãúÌä∏1',\n        'ÎÖ∏ÎûòÎ™©Î°ù'\n    ];\n    for (const range of ranges){\n        try {\n            const response = await fetch(`https://sheets.googleapis.com/v4/spreadsheets/${SHEET_ID}/values/${encodeURIComponent(range)}?key=${API_KEY}`, {\n                timeout: 10000,\n                signal: AbortSignal.timeout(10000)\n            });\n            if (response.ok) {\n                const data = await response.json();\n                if (data.values && data.values.length > 0) {\n                    console.log(`Successfully fetched data from range: ${range}`);\n                    const songs = parseSheetData(data.values);\n                    if (songs.length > 0) {\n                        return songs;\n                    }\n                }\n            } else if (response.status === 403) {\n                throw new Error('API_KEY_INVALID');\n            } else if (response.status === 404) {\n                throw new Error('SHEET_NOT_FOUND');\n            }\n        } catch (rangeError) {\n            console.warn(`Failed to fetch from range ${range}:`, rangeError);\n            continue;\n        }\n    }\n    throw new Error('NO_DATA_FOUND');\n}\nasync function fetchSongDetailsFromMongo() {\n    try {\n        // ÏÑúÎ≤ÑÏÇ¨Ïù¥ÎìúÏóêÏÑúÎäî ÏßÅÏ†ë MongoDB Î™®Îç∏ ÏÇ¨Ïö©\n        const dbConnect = (await __webpack_require__.e(/*! import() */ \"_rsc_src_lib_mongodb_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ./mongodb */ \"(rsc)/./src/lib/mongodb.ts\"))).default;\n        const SongDetail = (await __webpack_require__.e(/*! import() */ \"_rsc_src_models_SongDetail_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../models/SongDetail */ \"(rsc)/./src/models/SongDetail.ts\"))).default;\n        await dbConnect();\n        // ÌôúÏÑ±ÌôîÎêú Í≥°Îì§ Ï°∞Ìöå\n        const songDetails = await SongDetail.find({\n            $and: [\n                // ÏÇ≠Ï†úÎêú Í≥° Ï†úÏô∏ (Í∏∞Ï°¥ Îç∞Ïù¥ÌÑ∞Îäî status ÌïÑÎìúÍ∞Ä ÏóÜÏúºÎØÄÎ°ú nullÎèÑ ÌóàÏö©)\n                {\n                    $or: [\n                        {\n                            status: {\n                                $ne: 'deleted'\n                            }\n                        },\n                        {\n                            status: {\n                                $exists: false\n                            }\n                        }\n                    ]\n                },\n                // Ïú†Ï†Ä Ï∂îÏ≤úÍ≥° Ï†úÏô∏ (Í∏∞Ï°¥ Îç∞Ïù¥ÌÑ∞Îäî sourceType ÌïÑÎìúÍ∞Ä ÏóÜÏúºÎØÄÎ°ú nullÎèÑ ÌóàÏö©)\n                {\n                    $or: [\n                        {\n                            sourceType: {\n                                $in: [\n                                    'sheet',\n                                    'admin'\n                                ]\n                            }\n                        },\n                        {\n                            sourceType: {\n                                $exists: false\n                            }\n                        }\n                    ]\n                }\n            ]\n        }).sort({\n            updatedAt: -1\n        }).lean();\n        // ÏÇ≠Ï†úÎêú Í≥°Îì§Ïùò ÌÇ§Î•º Î≥ÑÎèÑÎ°ú Ï°∞Ìöå\n        const deletedSongs = await SongDetail.find({\n            status: 'deleted'\n        }, {\n            title: 1,\n            artist: 1,\n            titleAlias: 1,\n            artistAlias: 1\n        }).lean();\n        const deletedSongKeys = new Set();\n        deletedSongs.forEach((song)=>{\n            const songKey = createSongKey(song.title, song.artist);\n            deletedSongKeys.add(songKey);\n            console.log(`üóëÔ∏è ÏÇ≠Ï†úÎêú Í≥° ÌÇ§ Ï∂îÍ∞Ä: \"${song.title}\" - \"${song.artist}\" => \"${songKey}\"`);\n        });\n        console.log(`üóëÔ∏è Ï¥ù ÏÇ≠Ï†úÎêú Í≥° ÌÇ§: ${deletedSongKeys.size}Í∞ú`);\n        // Mongoose Î¨∏ÏÑúÎ•º ÏùºÎ∞ò Í∞ùÏ≤¥Î°ú Î≥ÄÌôò (MongoDB _id Ìè¨Ìï®)\n        const processedSongDetails = songDetails.map((doc)=>({\n                _id: doc._id.toString(),\n                title: doc.title,\n                artist: doc.artist,\n                titleAlias: doc.titleAlias,\n                artistAlias: doc.artistAlias,\n                language: doc.language,\n                lyrics: doc.lyrics,\n                searchTags: doc.searchTags,\n                sungCount: doc.sungCount,\n                likeCount: doc.likeCount,\n                lastSungDate: doc.lastSungDate,\n                keyAdjustment: doc.keyAdjustment,\n                mrLinks: doc.mrLinks,\n                selectedMRIndex: doc.selectedMRIndex,\n                personalNotes: doc.personalNotes,\n                imageUrl: doc.imageUrl,\n                createdAt: doc.createdAt,\n                updatedAt: doc.updatedAt,\n                // ÏÉà ÌïÑÎìúÎì§ (Í∏∞Ï°¥ Îç∞Ïù¥ÌÑ∞ Ìò∏ÌôòÏÑ±ÏùÑ ÏúÑÌïú Í∏∞Î≥∏Í∞í ÏÑ§Ï†ï)\n                status: doc.status || 'active',\n                sourceType: doc.sourceType || 'sheet',\n                suggestedBy: doc.suggestedBy,\n                deletedAt: doc.deletedAt,\n                deletedBy: doc.deletedBy,\n                deleteReason: doc.deleteReason,\n                approvedAt: doc.approvedAt,\n                approvedBy: doc.approvedBy\n            }));\n        return {\n            songDetails: processedSongDetails,\n            deletedSongKeys\n        };\n    } catch (error) {\n        console.error('‚ùå MongoDB Ïò§Î•ò Î∞úÏÉù:', error);\n        console.error('Ïä§ÌÉù Ìä∏Î†àÏù¥Ïä§:', error instanceof Error ? error.stack : 'Unknown error');\n        // ÏóêÎü¨ ÌÉÄÏûÖÎ≥ÑÎ°ú ÏÉÅÏÑ∏Ìïú Î°úÍπÖ\n        if (error instanceof Error) {\n            if (error.message.includes('ENOTFOUND') || error.message.includes('connection')) {\n                console.error('üîå MongoDB Ïó∞Í≤∞ Ïã§Ìå® - ÎÑ§Ìä∏ÏõåÌÅ¨ ÎòêÎäî MongoDB URI ÌôïÏù∏ ÌïÑÏöî');\n            } else if (error.message.includes('Authentication')) {\n                console.error('üîê MongoDB Ïù∏Ï¶ù Ïã§Ìå® - ÏÇ¨Ïö©ÏûêÎ™Ö/ÎπÑÎ∞ÄÎ≤àÌò∏ ÌôïÏù∏ ÌïÑÏöî');\n            } else if (error.message.includes('timeout')) {\n                console.error('‚è±Ô∏è MongoDB Ïó∞Í≤∞ ÌÉÄÏûÑÏïÑÏõÉ');\n            }\n        }\n        return {\n            songDetails: [],\n            deletedSongKeys: new Set()\n        }; // MongoDB Ïò§Î•ò Ïãú Îπà Í∞ùÏ≤¥ Î∞òÌôò\n    }\n}\n// Ï†úÎ™©ÏùÑ Ï†ïÍ∑úÌôîÌïòÎäî Ìï®Ïàò (ÎåÄÏÜåÎ¨∏Ïûê, ÎùÑÏñ¥Ïì∞Í∏∞ Î¨¥Ïãú)\nfunction normalizeTitle(title) {\n    return title.toLowerCase().replace(/\\s+/g, '') // Î™®Îì† Í≥µÎ∞± Ï†úÍ±∞\n    .trim();\n}\n// Ï†úÎ™©+ÏïÑÌã∞Ïä§Ìä∏ Î≥µÌï©ÌÇ§Î•º ÏÉùÏÑ±ÌïòÎäî Ìï®Ïàò\nfunction createSongKey(title, artist) {\n    return `${normalizeTitle(title)}|||${normalizeTitle(artist)}`;\n}\nfunction mergeSongsData(sheetSongs, songDetails, deletedSongKeys) {\n    // MongoDB Îç∞Ïù¥ÌÑ∞Î•º Ï†ïÍ∑úÌôîÎêú title+artist Î≥µÌï©ÌÇ§Î°ú Îßµ ÏÉùÏÑ±\n    const detailsMap = new Map();\n    const normalizedToOriginalMap = new Map(); // ÎîîÎ≤ÑÍπÖÏö©\n    const usedMongoSongs = new Set(); // Ïù¥ÎØ∏ Îß§Ïπ≠Îêú MongoDB Í≥°Îì§ Ï∂îÏ†Å\n    songDetails.forEach((detail)=>{\n        const songKey = createSongKey(detail.title, detail.artist);\n        detailsMap.set(songKey, detail);\n        normalizedToOriginalMap.set(songKey, `${detail.title} - ${detail.artist}`);\n    });\n    // 1. Íµ¨Í∏ÄÏãúÌä∏ Îç∞Ïù¥ÌÑ∞Ïóê MongoDB Îç∞Ïù¥ÌÑ∞ Î≥ëÌï© (Îã®, ÏÇ≠Ï†úÎêú Í≥°ÏùÄ Ï†úÏô∏)\n    const mergedSheetSongs = sheetSongs.filter((song)=>{\n        const sheetSongKey = createSongKey(song.title, song.artist);\n        // ÏÇ≠Ï†úÎêú Í≥°Ïù¥Î©¥ Ï†úÏô∏\n        if (deletedSongKeys.has(sheetSongKey)) {\n            console.log(`üóëÔ∏è ÏÇ≠Ï†úÎêú Í≥° Ï†úÏô∏: ${song.title} - ${song.artist}`);\n            return false;\n        }\n        return true;\n    }).map((song)=>{\n        const sheetSongKey = createSongKey(song.title, song.artist);\n        const detail = detailsMap.get(sheetSongKey);\n        if (!detail) {\n            // MongoDBÏóê Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÎäî Í≤ΩÏö∞ Íµ¨Í∏ÄÏãúÌä∏ Í∏∞Î≥∏ Îç∞Ïù¥ÌÑ∞Îßå Î∞òÌôò\n            return {\n                ...song,\n                source: 'sheet'\n            };\n        }\n        // Îß§Ïπ≠Îêú MongoDB Í≥° ÌëúÏãú\n        usedMongoSongs.add(sheetSongKey);\n        // MongoDB Îç∞Ïù¥ÌÑ∞Î•º Ïö∞ÏÑ†ÌïòÎêò, title/artistÎßå Íµ¨Í∏ÄÏãúÌä∏ Í∞í ÏÇ¨Ïö©\n        return {\n            // MongoDB _idÎ•º Î©îÏù∏ IDÎ°ú ÏÇ¨Ïö©\n            id: detail._id,\n            sheetId: song.id,\n            title: song.title,\n            artist: song.artist,\n            source: 'merged',\n            // MongoDB Îç∞Ïù¥ÌÑ∞ Ïö∞ÏÑ† ÏÇ¨Ïö©\n            language: detail.language || song.language,\n            lyrics: detail.lyrics || '',\n            titleAlias: detail.titleAlias,\n            artistAlias: detail.artistAlias,\n            searchTags: detail.searchTags,\n            sungCount: detail.sungCount,\n            likeCount: detail.likeCount,\n            lastSungDate: detail.lastSungDate,\n            keyAdjustment: detail.keyAdjustment,\n            mrLinks: detail.mrLinks,\n            selectedMRIndex: detail.selectedMRIndex,\n            personalNotes: detail.personalNotes,\n            imageUrl: detail.imageUrl,\n            dateAdded: detail.createdAt ? detail.createdAt.toISOString().split('T')[0] : song.dateAdded\n        };\n    });\n    // 2. MongoDB Ï†ÑÏö© Í≥°Îì§ Ï∂îÍ∞Ä (Íµ¨Í∏ÄÏãúÌä∏Ïóê ÏóÜÎäî Í≥°Îì§)\n    const mongoOnlySongs = [];\n    let mongoOnlyCounter = 1;\n    songDetails.forEach((detail)=>{\n        const mongoSongKey = createSongKey(detail.title, detail.artist);\n        // Íµ¨Í∏ÄÏãúÌä∏Ïóê Îß§Ïπ≠ÎêòÏßÄ ÏïäÏùÄ MongoDB Í≥°Îì§Îßå Ï∂îÍ∞Ä\n        if (!usedMongoSongs.has(mongoSongKey)) {\n            mongoOnlySongs.push({\n                id: detail._id,\n                title: detail.title,\n                artist: detail.artist,\n                language: detail.language || 'ÎØ∏ÏÑ§Ï†ï',\n                source: 'mongodb',\n                // MongoDB Îç∞Ïù¥ÌÑ∞ ÏÇ¨Ïö©\n                lyrics: detail.lyrics || '',\n                titleAlias: detail.titleAlias,\n                artistAlias: detail.artistAlias,\n                searchTags: detail.searchTags,\n                sungCount: detail.sungCount,\n                likeCount: detail.likeCount,\n                lastSungDate: detail.lastSungDate,\n                keyAdjustment: detail.keyAdjustment,\n                mrLinks: detail.mrLinks,\n                selectedMRIndex: detail.selectedMRIndex,\n                personalNotes: detail.personalNotes,\n                imageUrl: detail.imageUrl,\n                dateAdded: detail.createdAt ? detail.createdAt.toISOString().split('T')[0] : new Date().toISOString().split('T')[0]\n            });\n            mongoOnlyCounter++;\n        }\n    });\n    const finalSongs = [\n        ...mergedSheetSongs,\n        ...mongoOnlySongs\n    ];\n    // Ï§ëÎ≥µ Ï†úÍ±∞: Ï†úÎ™©+ÏïÑÌã∞Ïä§Ìä∏(alias Í∏∞Ï§Ä) Î≥µÌï©ÌÇ§Î°ú Ï§ëÎ≥µÎêú Í≥°Îì§ Ï†úÍ±∞\n    const seenSongKeys = new Set();\n    const deduplicatedSongs = finalSongs.filter((song)=>{\n        // aliasÍ∞Ä ÏûàÏúºÎ©¥ alias ÏÇ¨Ïö©, ÏóÜÏúºÎ©¥ ÏõêÎ≥∏ ÏÇ¨Ïö©\n        const displayTitle = song.titleAlias || song.title;\n        const displayArtist = song.artistAlias || song.artist;\n        const songKey = createSongKey(displayTitle, displayArtist);\n        if (seenSongKeys.has(songKey)) {\n            return false;\n        }\n        seenSongKeys.add(songKey);\n        return true;\n    });\n    // Ï§ëÎ≥µ Ï†úÍ±∞ Í≤∞Í≥º Î°úÍ∑∏\n    const duplicatesRemoved = finalSongs.length - deduplicatedSongs.length;\n    if (duplicatesRemoved > 0) {\n        console.log(`üö´ Ï§ëÎ≥µ Í≥° ${duplicatesRemoved}Í∞ú Ï†úÍ±∞`);\n    }\n    return deduplicatedSongs;\n}\nfunction parseSheetData(values) {\n    if (!values || values.length < 1) return [];\n    const firstRow = values[0].map((h)=>(h || '').toLowerCase().trim());\n    // Ìó§ÎçîÏóêÏÑú Í∞Å Ïª¨ÎüºÏùò Ïù∏Îç±Ïä§Î•º Ï∞æÏäµÎãàÎã§\n    const getColumnIndex = (possibleNames)=>{\n        for (const name of possibleNames){\n            const index = firstRow.findIndex((h)=>h.includes(name));\n            if (index !== -1) return index;\n        }\n        return -1;\n    };\n    const titleIndex = getColumnIndex([\n        'Ï†úÎ™©',\n        'title',\n        'Í≥°Î™Ö',\n        'ÎÖ∏Îûò'\n    ]); // Ï†úÎ™© Ïª¨Îüº\n    const artistIndex = getColumnIndex([\n        'ÏïÑÌã∞Ïä§Ìä∏',\n        'artist',\n        'Í∞ÄÏàò',\n        'ÏõêÍ≥°Ïûê'\n    ]); // ÏïÑÌã∞Ïä§Ìä∏ Ïª¨Îüº\n    // Ìó§ÎçîÍ∞Ä Í∞êÏßÄÎêòÏóàÎäîÏßÄ ÌôïÏù∏ - Ïã§Ï†ú Ìó§Îçî ÌÖçÏä§Ìä∏Í∞Ä ÏûàÏúºÎ©¥ Ìó§ÎçîÎ°ú Í∞ÑÏ£º\n    // 'abir', 'tango' Í∞ôÏùÄ Ïã§Ï†ú Îç∞Ïù¥ÌÑ∞Îäî Ìó§ÎçîÍ∞Ä ÏïÑÎãò\n    const hasRealHeader = titleIndex !== -1 && artistIndex !== -1 && !(firstRow.length === 2 && firstRow.every((cell)=>cell.length < 10 && !cell.includes('Ï†úÎ™©') && !cell.includes('title')));\n    // Ìó§ÎçîÍ∞Ä ÏûàÏúºÎ©¥ Ï≤´ Î≤àÏß∏ ÌñâÏùÑ Í±¥ÎÑàÎõ∞Í≥†, ÏóÜÏúºÎ©¥ Î™®Îì† ÌñâÏùÑ Îç∞Ïù¥ÌÑ∞Î°ú Ï≤òÎ¶¨\n    const dataRows = hasRealHeader ? values.slice(1) : values;\n    return dataRows.filter((row)=>row.length > 0 && (row[titleIndex] || row[0])) // Îπà Ìñâ Ï†úÏô∏\n    .map((row, index)=>{\n        // Ïª¨ÎüºÏù¥ Ï†úÎåÄÎ°ú Í∞êÏßÄÎêòÏßÄ ÏïäÏùÄ Í≤ΩÏö∞ Í∏∞Î≥∏ ÏàúÏÑú ÏÇ¨Ïö©\n        let title, artist;\n        if (hasRealHeader && titleIndex !== -1 && artistIndex !== -1) {\n            // Ìó§ÎçîÍ∞Ä ÏûàÍ≥† Ïª¨ÎüºÏù¥ Ï†úÎåÄÎ°ú Í∞êÏßÄÎêú Í≤ΩÏö∞\n            title = row[titleIndex]?.trim() || '';\n            artist = row[artistIndex]?.trim() || '';\n        } else {\n            // Ìó§ÎçîÍ∞Ä ÏóÜÍ±∞ÎÇò Ïª¨Îüº Í∞êÏßÄ Ïã§Ìå® Ïãú Ïã§Ï†ú Íµ¨Í∏ÄÏãúÌä∏ Íµ¨Ï°∞: Ï≤´ Î≤àÏß∏ Ïª¨Îüº=ÏïÑÌã∞Ïä§Ìä∏, Îëê Î≤àÏß∏ Ïª¨Îüº=Ï†úÎ™©\n            artist = row[0]?.trim() || ''; // Ï≤´ Î≤àÏß∏ Ïª¨Îüº = ÏïÑÌã∞Ïä§Ìä∏  \n            title = row[1]?.trim() || ''; // Îëê Î≤àÏß∏ Ïª¨Îüº = Ï†úÎ™©\n        }\n        // Ï†úÎ™©Ïù¥ÎÇò ÏïÑÌã∞Ïä§Ìä∏ Ï§ë ÌïòÎÇòÎùºÎèÑ ÎπÑÏñ¥ÏûàÏúºÎ©¥ null Î∞òÌôò (ÎÇòÏ§ëÏóê ÌïÑÌÑ∞ÎßÅÎê®)\n        if (!title || !artist) {\n            return null;\n        }\n        const song = {\n            id: `song-${index + 1}`,\n            title: title,\n            artist: artist,\n            language: 'Korean',\n            dateAdded: new Date().toISOString().split('T')[0],\n            source: 'sheet'\n        };\n        return song;\n    }).filter((song)=>song !== null) // nullÏù∏ Ìï≠Î™©Îì§ Ï†úÍ±∞ Î∞è ÌÉÄÏûÖ Í∞ÄÎìú\n    .filter((song)=>{\n        // Ï§ëÎ≥µÏúºÎ°ú Ïù∏Ìïú Î¨∏Ï†úÍ∞Ä ÎêòÎäî Í≥°Îì§ÏùÑ ÌïòÎìúÏΩîÎî©ÏúºÎ°ú Ï†úÏô∏\n        const problematicSongs = [\n            {\n                title: 'gods',\n                artist: 'Îâ¥ÏßÑÏä§'\n            },\n            {\n                title: 'sugarcoat',\n                artist: 'ÌÇ§Ïä§Ïò§Î∏åÎùºÏù¥ÌîÑ'\n            },\n            {\n                title: 'ÎÇòÎäî ÏµúÍ∞ï',\n                artist: 'ado'\n            },\n            {\n                title: 'ÌÉÄÏÉÅÏó∞Ìôî',\n                artist: 'ÏöîÎÑ§Ï¶à ÏºÑÏãú'\n            },\n            {\n                title: 'ÏïÑÏù¥Îèå',\n                artist: 'ÏµúÏï†Ïùò ÏïÑÏù¥ ost'\n            }\n        ];\n        const normalizedTitle = song.title.toLowerCase().replace(/\\s/g, '');\n        const normalizedArtist = song.artist.toLowerCase().replace(/\\s/g, '');\n        const isProblematic = problematicSongs.some((problematic)=>{\n            const problemTitle = problematic.title.toLowerCase().replace(/\\s/g, '');\n            const problemArtist = problematic.artist.toLowerCase().replace(/\\s/g, '');\n            return normalizedTitle === problemTitle && normalizedArtist === problemArtist;\n        });\n        if (isProblematic) {\n            return false;\n        }\n        return true;\n    });\n}\nfunction getErrorMessage(error) {\n    const errorType = error.message;\n    switch(errorType){\n        case 'MISSING_API_KEY':\n            return {\n                title: 'API ÌÇ§Í∞Ä ÏÑ§Ï†ïÎêòÏßÄ ÏïäÏïòÏäµÎãàÎã§',\n                message: 'Google Sheets API ÌÇ§Í∞Ä ÌïÑÏöîÌï©ÎãàÎã§.',\n                suggestion: 'GOOGLE_SHEETS_SETUP.md ÌååÏùºÏùÑ Ï∞∏Í≥†ÌïòÏó¨ API ÌÇ§Î•º ÏÑ§Ï†ïÌï¥Ï£ºÏÑ∏Ïöî.'\n            };\n        case 'API_KEY_INVALID':\n            return {\n                title: 'API ÌÇ§Í∞Ä Ïú†Ìö®ÌïòÏßÄ ÏïäÏäµÎãàÎã§',\n                message: 'ÏÑ§Ï†ïÎêú Google Sheets API ÌÇ§Í∞Ä Ïò¨Î∞îÎ•¥ÏßÄ ÏïäÍ±∞ÎÇò Í∂åÌïúÏù¥ ÏóÜÏäµÎãàÎã§.',\n                suggestion: 'API ÌÇ§Î•º Îã§Ïãú ÌôïÏù∏ÌïòÍ±∞ÎÇò ÏÉàÎ°ú ÏÉùÏÑ±Ìï¥Ï£ºÏÑ∏Ïöî.'\n            };\n        case 'SHEET_NOT_FOUND':\n            return {\n                title: 'ÏãúÌä∏Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§',\n                message: 'ÏßÄÏ†ïÎêú Íµ¨Í∏Ä ÏãúÌä∏Ïóê Ï†ëÍ∑ºÌï† Ïàò ÏóÜÏäµÎãàÎã§.',\n                suggestion: 'ÏãúÌä∏Í∞Ä Í≥µÍ∞úÎêòÏñ¥ ÏûàÎäîÏßÄ ÌôïÏù∏ÌïòÍ≥† ÏãúÌä∏ IDÍ∞Ä Ïò¨Î∞îÎ•∏ÏßÄ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.'\n            };\n        case 'NO_DATA_FOUND':\n            return {\n                title: 'ÎÖ∏Îûò Îç∞Ïù¥ÌÑ∞Í∞Ä ÏóÜÏäµÎãàÎã§',\n                message: 'Íµ¨Í∏Ä ÏãúÌä∏ÏóêÏÑú ÎÖ∏Îûò Îç∞Ïù¥ÌÑ∞Î•º Ï∞æÏùÑ Ïàò ÏóÜÏäµÎãàÎã§.',\n                suggestion: 'ÏãúÌä∏Ïóê Ï†úÎ™©Í≥º ÏïÑÌã∞Ïä§Ìä∏ Ï†ïÎ≥¥Í∞Ä Ìè¨Ìï®Îêú Îç∞Ïù¥ÌÑ∞Í∞Ä ÏûàÎäîÏßÄ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.'\n            };\n        default:\n            return {\n                title: 'Îç∞Ïù¥ÌÑ∞Î•º Î∂àÎü¨Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§',\n                message: 'Íµ¨Í∏Ä ÏãúÌä∏ÏóêÏÑú ÎÖ∏Îûò Îç∞Ïù¥ÌÑ∞Î•º Í∞ÄÏ†∏Ïò§Îäî Ï§ë Î¨∏Ï†úÍ∞Ä Î∞úÏÉùÌñàÏäµÎãàÎã§.',\n                suggestion: 'Ïû†Ïãú ÌõÑ Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî. Î¨∏Ï†úÍ∞Ä ÏßÄÏÜçÎêòÎ©¥ ÎÑ§Ìä∏ÏõåÌÅ¨ Ïó∞Í≤∞ÏùÑ ÌôïÏù∏Ìï¥Ï£ºÏÑ∏Ïöî.'\n            };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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WTtZQUNkO1FBQ0YsS0FBSztZQUNILE9BQU87Z0JBQ0w5RixPQUFPO2dCQUNQbUMsU0FBUztnQkFDVDJELFlBQVk7WUFDZDtRQUNGLEtBQUs7WUFDSCxPQUFPO2dCQUNMOUYsT0FBTztnQkFDUG1DLFNBQVM7Z0JBQ1QyRCxZQUFZO1lBQ2Q7UUFDRixLQUFLO1lBQ0gsT0FBTztnQkFDTDlGLE9BQU87Z0JBQ1BtQyxTQUFTO2dCQUNUMkQsWUFBWTtZQUNkO1FBQ0Y7WUFDRSxPQUFPO2dCQUNMOUYsT0FBTztnQkFDUG1DLFNBQVM7Z0JBQ1QyRCxZQUFZO1lBQ2Q7SUFDSjtBQUNGIiwic291cmNlcyI6WyIvbW50L2YvRGF0YS9HaXQvY2xhdWRlLWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL2xpYi9nb29nbGVTaGVldHMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU29uZywgU29uZ0RldGFpbCB9IGZyb20gJ0AvdHlwZXMnO1xyXG5cclxuY29uc3QgU0hFRVRfSUQgPSAnMWctaFZZbkhuMjBYa1MySExBek9JOVVjT25OSE50ejFILTFnMU1nVlhUQWMnO1xyXG5jb25zdCBBUElfS0VZID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR09PR0xFX1NIRUVUU19BUElfS0VZO1xyXG5cclxuaW50ZXJmYWNlIFNoZWV0RGF0YSB7XHJcbiAgdmFsdWVzOiBzdHJpbmdbXVtdO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hTb25nc0Zyb21TaGVldCgpOiBQcm9taXNlPFNvbmdbXT4ge1xyXG4gIGlmICghQVBJX0tFWSB8fCBBUElfS0VZID09PSAndGVzdF9rZXknKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01JU1NJTkdfQVBJX0tFWScpO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIC8vIDEuIOq1rOq4gOyLnO2KuOyXkOyEnCDquLDrs7gg642w7J207YSwIOqwgOyguOyYpOq4sFxyXG4gICAgY29uc3Qgc2hlZXRTb25ncyA9IGF3YWl0IGZldGNoUmF3U29uZ3NGcm9tU2hlZXQoKTtcclxuICAgIFxyXG4gICAgLy8gMi4gTW9uZ29EQuyXkOyEnCDsg4HshLgg642w7J207YSwIOqwgOyguOyYpOq4sFxyXG4gICAgY29uc3QgeyBzb25nRGV0YWlscywgZGVsZXRlZFNvbmdLZXlzIH0gPSBhd2FpdCBmZXRjaFNvbmdEZXRhaWxzRnJvbU1vbmdvKCk7XHJcbiAgICBcclxuICAgIC8vIDMuIOuRkCDrjbDsnbTthLDrpbwg67OR7ZWpXHJcbiAgICBjb25zdCBtZXJnZWRTb25ncyA9IG1lcmdlU29uZ3NEYXRhKHNoZWV0U29uZ3MsIHNvbmdEZXRhaWxzLCBkZWxldGVkU29uZ0tleXMpO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhg4pyFIOuFuOuemCDrjbDsnbTthLAg67OR7ZWpOiAke21lcmdlZFNvbmdzLmxlbmd0aH3qs6FgKTtcclxuICAgIHJldHVybiBtZXJnZWRTb25ncztcclxuICAgIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBzb25ncyBmcm9tIHNoZWV0OicsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGZldGNoUmF3U29uZ3NGcm9tU2hlZXQoKTogUHJvbWlzZTxTb25nW10+IHtcclxuICAvLyDsl6zrn6wg67KU7JyE66W8IOyLnOuPhO2VtOyEnCDrjbDsnbTthLDqsIAg7J6I64qUIOyLnO2KuOulvCDssL7sirXri4jri6RcclxuICBjb25zdCByYW5nZXMgPSBbJ1NoZWV0MScsICdBOlonLCAn7Iuc7Yq4MScsICfrhbjrnpjrqqnroZ0nXTtcclxuICBcclxuICBmb3IgKGNvbnN0IHJhbmdlIG9mIHJhbmdlcykge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcclxuICAgICAgICBgaHR0cHM6Ly9zaGVldHMuZ29vZ2xlYXBpcy5jb20vdjQvc3ByZWFkc2hlZXRzLyR7U0hFRVRfSUR9L3ZhbHVlcy8ke2VuY29kZVVSSUNvbXBvbmVudChyYW5nZSl9P2tleT0ke0FQSV9LRVl9YCxcclxuICAgICAgICB7XHJcbiAgICAgICAgICB0aW1lb3V0OiAxMDAwMCwgLy8gMTDstIgg7YOA7J6E7JWE7JuDXHJcbiAgICAgICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQoMTAwMDApXHJcbiAgICAgICAgfVxyXG4gICAgICApO1xyXG5cclxuICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgY29uc3QgZGF0YTogU2hlZXREYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgIGlmIChkYXRhLnZhbHVlcyAmJiBkYXRhLnZhbHVlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgU3VjY2Vzc2Z1bGx5IGZldGNoZWQgZGF0YSBmcm9tIHJhbmdlOiAke3JhbmdlfWApO1xyXG4gICAgICAgICAgY29uc3Qgc29uZ3MgPSBwYXJzZVNoZWV0RGF0YShkYXRhLnZhbHVlcyk7XHJcbiAgICAgICAgICBpZiAoc29uZ3MubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gc29uZ3M7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBUElfS0VZX0lOVkFMSUQnKTtcclxuICAgICAgfSBlbHNlIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU0hFRVRfTk9UX0ZPVU5EJyk7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKHJhbmdlRXJyb3IpIHtcclxuICAgICAgY29uc29sZS53YXJuKGBGYWlsZWQgdG8gZmV0Y2ggZnJvbSByYW5nZSAke3JhbmdlfTpgLCByYW5nZUVycm9yKTtcclxuICAgICAgY29udGludWU7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIHRocm93IG5ldyBFcnJvcignTk9fREFUQV9GT1VORCcpO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hTb25nRGV0YWlsc0Zyb21Nb25nbygpOiBQcm9taXNlPHsgc29uZ0RldGFpbHM6IFNvbmdEZXRhaWxbXSwgZGVsZXRlZFNvbmdLZXlzOiBTZXQ8c3RyaW5nPiB9PiB7XHJcbiAgdHJ5IHtcclxuICAgIFxyXG4gICAgLy8g7ISc67KE7IKs7J2065Oc7JeQ7ISc64qUIOyngeygkSBNb25nb0RCIOuqqOuNuCDsgqzsmqlcclxuICAgIGNvbnN0IGRiQ29ubmVjdCA9IChhd2FpdCBpbXBvcnQoJy4vbW9uZ29kYicpKS5kZWZhdWx0O1xyXG4gICAgY29uc3QgU29uZ0RldGFpbCA9IChhd2FpdCBpbXBvcnQoJy4uL21vZGVscy9Tb25nRGV0YWlsJykpLmRlZmF1bHQ7XHJcbiAgICBcclxuICAgIFxyXG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XHJcbiAgICBcclxuICAgIC8vIO2ZnOyEse2ZlOuQnCDqs6Hrk6Qg7KGw7ZqMXHJcbiAgICBjb25zdCBzb25nRGV0YWlscyA9IGF3YWl0IFNvbmdEZXRhaWwuZmluZCh7IFxyXG4gICAgICAkYW5kOiBbXHJcbiAgICAgICAgLy8g7IKt7KCc65CcIOqzoSDsoJzsmbggKOq4sOyhtCDrjbDsnbTthLDripQgc3RhdHVzIO2VhOuTnOqwgCDsl4bsnLzrr4DroZwgbnVsbOuPhCDtl4jsmqkpXHJcbiAgICAgICAgeyAkb3I6IFt7IHN0YXR1czogeyAkbmU6ICdkZWxldGVkJyB9IH0sIHsgc3RhdHVzOiB7ICRleGlzdHM6IGZhbHNlIH0gfV0gfSxcclxuICAgICAgICAvLyDsnKDsoIAg7LaU7LKc6rOhIOygnOyZuCAo6riw7KG0IOuNsOydtO2EsOuKlCBzb3VyY2VUeXBlIO2VhOuTnOqwgCDsl4bsnLzrr4DroZwgbnVsbOuPhCDtl4jsmqkpXHJcbiAgICAgICAgeyAkb3I6IFt7IHNvdXJjZVR5cGU6IHsgJGluOiBbJ3NoZWV0JywgJ2FkbWluJ10gfSB9LCB7IHNvdXJjZVR5cGU6IHsgJGV4aXN0czogZmFsc2UgfSB9XSB9XHJcbiAgICAgIF1cclxuICAgIH0pLnNvcnQoeyB1cGRhdGVkQXQ6IC0xIH0pLmxlYW4oKTtcclxuXHJcbiAgICAvLyDsgq3soJzrkJwg6rOh65Ok7J2YIO2CpOulvCDrs4Trj4TroZwg7KGw7ZqMXHJcbiAgICBjb25zdCBkZWxldGVkU29uZ3MgPSBhd2FpdCBTb25nRGV0YWlsLmZpbmQoeyBcclxuICAgICAgc3RhdHVzOiAnZGVsZXRlZCdcclxuICAgIH0sIHsgdGl0bGU6IDEsIGFydGlzdDogMSwgdGl0bGVBbGlhczogMSwgYXJ0aXN0QWxpYXM6IDEgfSkubGVhbigpO1xyXG5cclxuICAgIGNvbnN0IGRlbGV0ZWRTb25nS2V5cyA9IG5ldyBTZXQ8c3RyaW5nPigpO1xyXG4gICAgZGVsZXRlZFNvbmdzLmZvckVhY2goc29uZyA9PiB7XHJcbiAgICAgIGNvbnN0IHNvbmdLZXkgPSBjcmVhdGVTb25nS2V5KHNvbmcudGl0bGUsIHNvbmcuYXJ0aXN0KTtcclxuICAgICAgZGVsZXRlZFNvbmdLZXlzLmFkZChzb25nS2V5KTtcclxuICAgICAgY29uc29sZS5sb2coYPCfl5HvuI8g7IKt7KCc65CcIOqzoSDtgqQg7LaU6rCAOiBcIiR7c29uZy50aXRsZX1cIiAtIFwiJHtzb25nLmFydGlzdH1cIiA9PiBcIiR7c29uZ0tleX1cImApO1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGDwn5eR77iPIOy0nSDsgq3soJzrkJwg6rOhIO2CpDogJHtkZWxldGVkU29uZ0tleXMuc2l6ZX3qsJxgKTtcclxuICAgIFxyXG4gICAgLy8gTW9uZ29vc2Ug66y47ISc66W8IOydvOuwmCDqsJ3ssrTroZwg67OA7ZmYIChNb25nb0RCIF9pZCDtj6ztlagpXHJcbiAgICBjb25zdCBwcm9jZXNzZWRTb25nRGV0YWlscyA9IHNvbmdEZXRhaWxzLm1hcChkb2MgPT4gKHtcclxuICAgICAgX2lkOiBkb2MuX2lkLnRvU3RyaW5nKCksIC8vIE1vbmdvREIgT2JqZWN0SWTrpbwg66y47J6Q7Je066GcIOuzgO2ZmFxyXG4gICAgICB0aXRsZTogZG9jLnRpdGxlLFxyXG4gICAgICBhcnRpc3Q6IGRvYy5hcnRpc3QsXHJcbiAgICAgIHRpdGxlQWxpYXM6IGRvYy50aXRsZUFsaWFzLFxyXG4gICAgICBhcnRpc3RBbGlhczogZG9jLmFydGlzdEFsaWFzLFxyXG4gICAgICBsYW5ndWFnZTogZG9jLmxhbmd1YWdlLFxyXG4gICAgICBseXJpY3M6IGRvYy5seXJpY3MsXHJcbiAgICAgIHNlYXJjaFRhZ3M6IGRvYy5zZWFyY2hUYWdzLFxyXG4gICAgICBzdW5nQ291bnQ6IGRvYy5zdW5nQ291bnQsXHJcbiAgICAgIGxpa2VDb3VudDogZG9jLmxpa2VDb3VudCxcclxuICAgICAgbGFzdFN1bmdEYXRlOiBkb2MubGFzdFN1bmdEYXRlLFxyXG4gICAgICBrZXlBZGp1c3RtZW50OiBkb2Mua2V5QWRqdXN0bWVudCxcclxuICAgICAgbXJMaW5rczogZG9jLm1yTGlua3MsXHJcbiAgICAgIHNlbGVjdGVkTVJJbmRleDogZG9jLnNlbGVjdGVkTVJJbmRleCxcclxuICAgICAgcGVyc29uYWxOb3RlczogZG9jLnBlcnNvbmFsTm90ZXMsXHJcbiAgICAgIGltYWdlVXJsOiBkb2MuaW1hZ2VVcmwsXHJcbiAgICAgIGNyZWF0ZWRBdDogZG9jLmNyZWF0ZWRBdCxcclxuICAgICAgdXBkYXRlZEF0OiBkb2MudXBkYXRlZEF0LFxyXG4gICAgICAvLyDsg4gg7ZWE65Oc65OkICjquLDsobQg642w7J207YSwIO2YuO2ZmOyEseydhCDsnITtlZwg6riw67O46rCSIOyEpOyglSlcclxuICAgICAgc3RhdHVzOiBkb2Muc3RhdHVzIHx8ICdhY3RpdmUnLFxyXG4gICAgICBzb3VyY2VUeXBlOiBkb2Muc291cmNlVHlwZSB8fCAnc2hlZXQnLFxyXG4gICAgICBzdWdnZXN0ZWRCeTogZG9jLnN1Z2dlc3RlZEJ5LFxyXG4gICAgICBkZWxldGVkQXQ6IGRvYy5kZWxldGVkQXQsXHJcbiAgICAgIGRlbGV0ZWRCeTogZG9jLmRlbGV0ZWRCeSxcclxuICAgICAgZGVsZXRlUmVhc29uOiBkb2MuZGVsZXRlUmVhc29uLFxyXG4gICAgICBhcHByb3ZlZEF0OiBkb2MuYXBwcm92ZWRBdCxcclxuICAgICAgYXBwcm92ZWRCeTogZG9jLmFwcHJvdmVkQnksXHJcbiAgICB9KSk7XHJcblxyXG4gICAgcmV0dXJuIHsgc29uZ0RldGFpbHM6IHByb2Nlc3NlZFNvbmdEZXRhaWxzLCBkZWxldGVkU29uZ0tleXMgfTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign4p2MIE1vbmdvREIg7Jik66WYIOuwnOyDnTonLCBlcnJvcik7XHJcbiAgICBjb25zb2xlLmVycm9yKCfsiqTtg50g7Yq466CI7J207IqkOicsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5zdGFjayA6ICdVbmtub3duIGVycm9yJyk7XHJcbiAgICBcclxuICAgIC8vIOyXkOufrCDtg4DsnoXrs4TroZwg7IOB7IS47ZWcIOuhnOq5hVxyXG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcclxuICAgICAgaWYgKGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ0VOT1RGT1VORCcpIHx8IGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJ2Nvbm5lY3Rpb24nKSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CflIwgTW9uZ29EQiDsl7DqsrAg7Iuk7YyoIC0g64Sk7Yq47JuM7YGsIOuYkOuKlCBNb25nb0RCIFVSSSDtmZXsnbgg7ZWE7JqUJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygnQXV0aGVudGljYXRpb24nKSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ/CflJAgTW9uZ29EQiDsnbjspp0g7Iuk7YyoIC0g7IKs7Jqp7J6Q66qFL+u5hOuwgOuyiO2YuCDtmZXsnbgg7ZWE7JqUJyk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZXJyb3IubWVzc2FnZS5pbmNsdWRlcygndGltZW91dCcpKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign4o+x77iPIE1vbmdvREIg7Jew6rKwIO2DgOyehOyVhOybgycpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIHJldHVybiB7IHNvbmdEZXRhaWxzOiBbXSwgZGVsZXRlZFNvbmdLZXlzOiBuZXcgU2V0KCkgfTsgLy8gTW9uZ29EQiDsmKTrpZgg7IucIOu5iCDqsJ3ssrQg67CY7ZmYXHJcbiAgfVxyXG59XHJcblxyXG4vLyDsoJzrqqnsnYQg7KCV6rec7ZmU7ZWY64qUIO2VqOyImCAo64yA7IaM66y47J6QLCDrnYTslrTsk7DquLAg66y07IucKVxyXG5mdW5jdGlvbiBub3JtYWxpemVUaXRsZSh0aXRsZTogc3RyaW5nKTogc3RyaW5nIHtcclxuICByZXR1cm4gdGl0bGVcclxuICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAucmVwbGFjZSgvXFxzKy9nLCAnJykgLy8g66qo65OgIOqzteuwsSDsoJzqsbBcclxuICAgIC50cmltKCk7XHJcbn1cclxuXHJcbi8vIOygnOuqqSvslYTti7DsiqTtirgg67O17ZWp7YKk66W8IOyDneyEse2VmOuKlCDtlajsiJhcclxuZnVuY3Rpb24gY3JlYXRlU29uZ0tleSh0aXRsZTogc3RyaW5nLCBhcnRpc3Q6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIGAke25vcm1hbGl6ZVRpdGxlKHRpdGxlKX18fHwke25vcm1hbGl6ZVRpdGxlKGFydGlzdCl9YDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU29uZ3NEYXRhKHNoZWV0U29uZ3M6IFNvbmdbXSwgc29uZ0RldGFpbHM6IFNvbmdEZXRhaWxbXSwgZGVsZXRlZFNvbmdLZXlzOiBTZXQ8c3RyaW5nPik6IFNvbmdbXSB7XHJcbiAgLy8gTW9uZ29EQiDrjbDsnbTthLDrpbwg7KCV6rec7ZmU65CcIHRpdGxlK2FydGlzdCDrs7XtlantgqTroZwg66e1IOyDneyEsVxyXG4gIGNvbnN0IGRldGFpbHNNYXAgPSBuZXcgTWFwPHN0cmluZywgU29uZ0RldGFpbD4oKTtcclxuICBjb25zdCBub3JtYWxpemVkVG9PcmlnaW5hbE1hcCA9IG5ldyBNYXA8c3RyaW5nLCBzdHJpbmc+KCk7IC8vIOuUlOuyhOq5heyaqVxyXG4gIGNvbnN0IHVzZWRNb25nb1NvbmdzID0gbmV3IFNldDxzdHJpbmc+KCk7IC8vIOydtOuvuCDrp6Tsua3rkJwgTW9uZ29EQiDqs6Hrk6Qg7LaU7KCBXHJcbiAgXHJcbiAgc29uZ0RldGFpbHMuZm9yRWFjaChkZXRhaWwgPT4ge1xyXG4gICAgY29uc3Qgc29uZ0tleSA9IGNyZWF0ZVNvbmdLZXkoZGV0YWlsLnRpdGxlLCBkZXRhaWwuYXJ0aXN0KTtcclxuICAgIGRldGFpbHNNYXAuc2V0KHNvbmdLZXksIGRldGFpbCk7XHJcbiAgICBub3JtYWxpemVkVG9PcmlnaW5hbE1hcC5zZXQoc29uZ0tleSwgYCR7ZGV0YWlsLnRpdGxlfSAtICR7ZGV0YWlsLmFydGlzdH1gKTtcclxuICB9KTtcclxuXHJcblxyXG4gIC8vIDEuIOq1rOq4gOyLnO2KuCDrjbDsnbTthLDsl5AgTW9uZ29EQiDrjbDsnbTthLAg67OR7ZWpICjri6gsIOyCreygnOuQnCDqs6HsnYAg7KCc7Jm4KVxyXG4gIGNvbnN0IG1lcmdlZFNoZWV0U29uZ3MgPSBzaGVldFNvbmdzXHJcbiAgICAuZmlsdGVyKHNvbmcgPT4ge1xyXG4gICAgICBjb25zdCBzaGVldFNvbmdLZXkgPSBjcmVhdGVTb25nS2V5KHNvbmcudGl0bGUsIHNvbmcuYXJ0aXN0KTtcclxuICAgICAgLy8g7IKt7KCc65CcIOqzoeydtOuptCDsoJzsmbhcclxuICAgICAgaWYgKGRlbGV0ZWRTb25nS2V5cy5oYXMoc2hlZXRTb25nS2V5KSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5eR77iPIOyCreygnOuQnCDqs6Eg7KCc7Jm4OiAke3NvbmcudGl0bGV9IC0gJHtzb25nLmFydGlzdH1gKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9KVxyXG4gICAgLm1hcChzb25nID0+IHtcclxuICAgICAgY29uc3Qgc2hlZXRTb25nS2V5ID0gY3JlYXRlU29uZ0tleShzb25nLnRpdGxlLCBzb25nLmFydGlzdCk7XHJcbiAgICAgIGNvbnN0IGRldGFpbCA9IGRldGFpbHNNYXAuZ2V0KHNoZWV0U29uZ0tleSk7XHJcbiAgICAgIFxyXG4gICAgICBcclxuICAgICAgaWYgKCFkZXRhaWwpIHtcclxuICAgICAgICAvLyBNb25nb0RC7JeQIOuNsOydtO2EsOqwgCDsl4bripQg6rK97JqwIOq1rOq4gOyLnO2KuCDquLDrs7gg642w7J207YSw66eMIOuwmO2ZmFxyXG4gICAgICAgIHJldHVybiB7IC4uLnNvbmcsIHNvdXJjZTogJ3NoZWV0JyBhcyBjb25zdCB9O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDrp6Tsua3rkJwgTW9uZ29EQiDqs6Eg7ZGc7IucXHJcbiAgICAgIHVzZWRNb25nb1NvbmdzLmFkZChzaGVldFNvbmdLZXkpO1xyXG5cclxuICAgICAgLy8gTW9uZ29EQiDrjbDsnbTthLDrpbwg7Jqw7ISg7ZWY65CYLCB0aXRsZS9hcnRpc3Trp4wg6rWs6riA7Iuc7Yq4IOqwkiDsgqzsmqlcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICAvLyBNb25nb0RCIF9pZOulvCDrqZTsnbggSUTroZwg7IKs7JqpXHJcbiAgICAgICAgaWQ6IGRldGFpbC5faWQsICAgICAgICAgICAgICAvLyBNb25nb0RCIE9iamVjdElk66W8IOuplOyduCBJROuhnCDsgqzsmqlcclxuICAgICAgICBzaGVldElkOiBzb25nLmlkLCAgICAgICAgICAgLy8g6rWs6riA7Iuc7Yq4IOybkOuzuCBJROuKlCDrs4Trj4Qg67O06rSAXHJcbiAgICAgICAgdGl0bGU6IHNvbmcudGl0bGUsICAgICAgICAgICAvLyDqtazquIDsi5ztirgg7Jqw7ISgXHJcbiAgICAgICAgYXJ0aXN0OiBzb25nLmFydGlzdCwgICAgICAgICAvLyDqtazquIDsi5ztirgg7Jqw7ISgXHJcbiAgICAgICAgc291cmNlOiAnbWVyZ2VkJyBhcyBjb25zdCwgICAvLyDrs5HtlanrkJwg642w7J207YSwXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gTW9uZ29EQiDrjbDsnbTthLAg7Jqw7ISgIOyCrOyaqVxyXG4gICAgICAgIGxhbmd1YWdlOiBkZXRhaWwubGFuZ3VhZ2UgfHwgc29uZy5sYW5ndWFnZSxcclxuICAgICAgICBseXJpY3M6IGRldGFpbC5seXJpY3MgfHwgJycsXHJcbiAgICAgICAgdGl0bGVBbGlhczogZGV0YWlsLnRpdGxlQWxpYXMsXHJcbiAgICAgICAgYXJ0aXN0QWxpYXM6IGRldGFpbC5hcnRpc3RBbGlhcyxcclxuICAgICAgICBzZWFyY2hUYWdzOiBkZXRhaWwuc2VhcmNoVGFncyxcclxuICAgICAgICBzdW5nQ291bnQ6IGRldGFpbC5zdW5nQ291bnQsXHJcbiAgICAgICAgbGlrZUNvdW50OiBkZXRhaWwubGlrZUNvdW50LFxyXG4gICAgICAgIGxhc3RTdW5nRGF0ZTogZGV0YWlsLmxhc3RTdW5nRGF0ZSxcclxuICAgICAgICBrZXlBZGp1c3RtZW50OiBkZXRhaWwua2V5QWRqdXN0bWVudCxcclxuICAgICAgICBtckxpbmtzOiBkZXRhaWwubXJMaW5rcyxcclxuICAgICAgICBzZWxlY3RlZE1SSW5kZXg6IGRldGFpbC5zZWxlY3RlZE1SSW5kZXgsXHJcbiAgICAgICAgcGVyc29uYWxOb3RlczogZGV0YWlsLnBlcnNvbmFsTm90ZXMsXHJcbiAgICAgICAgaW1hZ2VVcmw6IGRldGFpbC5pbWFnZVVybCxcclxuICAgICAgICBkYXRlQWRkZWQ6IGRldGFpbC5jcmVhdGVkQXQgPyBkZXRhaWwuY3JlYXRlZEF0LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSA6IHNvbmcuZGF0ZUFkZGVkLFxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcblxyXG4gIC8vIDIuIE1vbmdvREIg7KCE7JqpIOqzoeuTpCDstpTqsIAgKOq1rOq4gOyLnO2KuOyXkCDsl4bripQg6rOh65OkKVxyXG4gIGNvbnN0IG1vbmdvT25seVNvbmdzOiBTb25nW10gPSBbXTtcclxuICBsZXQgbW9uZ29Pbmx5Q291bnRlciA9IDE7XHJcbiAgXHJcbiAgc29uZ0RldGFpbHMuZm9yRWFjaChkZXRhaWwgPT4ge1xyXG4gICAgY29uc3QgbW9uZ29Tb25nS2V5ID0gY3JlYXRlU29uZ0tleShkZXRhaWwudGl0bGUsIGRldGFpbC5hcnRpc3QpO1xyXG4gICAgXHJcbiAgICAvLyDqtazquIDsi5ztirjsl5Ag66ek7Lmt65CY7KeAIOyViuydgCBNb25nb0RCIOqzoeuTpOunjCDstpTqsIBcclxuICAgIGlmICghdXNlZE1vbmdvU29uZ3MuaGFzKG1vbmdvU29uZ0tleSkpIHtcclxuICAgICAgbW9uZ29Pbmx5U29uZ3MucHVzaCh7XHJcbiAgICAgICAgaWQ6IGRldGFpbC5faWQsICAgICAgICAgICAgICAvLyBNb25nb0RCIE9iamVjdElk66W8IOuplOyduCBJROuhnCDsgqzsmqlcclxuICAgICAgICB0aXRsZTogZGV0YWlsLnRpdGxlLFxyXG4gICAgICAgIGFydGlzdDogZGV0YWlsLmFydGlzdCxcclxuICAgICAgICBsYW5ndWFnZTogZGV0YWlsLmxhbmd1YWdlIHx8ICfrr7jshKTsoJUnLFxyXG4gICAgICAgIHNvdXJjZTogJ21vbmdvZGInIGFzIGNvbnN0LFxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIE1vbmdvREIg642w7J207YSwIOyCrOyaqVxyXG4gICAgICAgIGx5cmljczogZGV0YWlsLmx5cmljcyB8fCAnJyxcclxuICAgICAgICB0aXRsZUFsaWFzOiBkZXRhaWwudGl0bGVBbGlhcyxcclxuICAgICAgICBhcnRpc3RBbGlhczogZGV0YWlsLmFydGlzdEFsaWFzLFxyXG4gICAgICAgIHNlYXJjaFRhZ3M6IGRldGFpbC5zZWFyY2hUYWdzLFxyXG4gICAgICAgIHN1bmdDb3VudDogZGV0YWlsLnN1bmdDb3VudCxcclxuICAgICAgICBsaWtlQ291bnQ6IGRldGFpbC5saWtlQ291bnQsXHJcbiAgICAgICAgbGFzdFN1bmdEYXRlOiBkZXRhaWwubGFzdFN1bmdEYXRlLFxyXG4gICAgICAgIGtleUFkanVzdG1lbnQ6IGRldGFpbC5rZXlBZGp1c3RtZW50LFxyXG4gICAgICAgIG1yTGlua3M6IGRldGFpbC5tckxpbmtzLFxyXG4gICAgICAgIHNlbGVjdGVkTVJJbmRleDogZGV0YWlsLnNlbGVjdGVkTVJJbmRleCxcclxuICAgICAgICBwZXJzb25hbE5vdGVzOiBkZXRhaWwucGVyc29uYWxOb3RlcyxcclxuICAgICAgICBpbWFnZVVybDogZGV0YWlsLmltYWdlVXJsLFxyXG4gICAgICAgIGRhdGVBZGRlZDogZGV0YWlsLmNyZWF0ZWRBdCA/IGRldGFpbC5jcmVhdGVkQXQudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdIDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0sXHJcbiAgICAgIH0pO1xyXG4gICAgICBtb25nb09ubHlDb3VudGVyKys7XHJcbiAgICB9XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGZpbmFsU29uZ3MgPSBbLi4ubWVyZ2VkU2hlZXRTb25ncywgLi4ubW9uZ29Pbmx5U29uZ3NdO1xyXG4gIFxyXG4gIC8vIOykkeuztSDsoJzqsbA6IOygnOuqqSvslYTti7DsiqTtirgoYWxpYXMg6riw7KSAKSDrs7XtlantgqTroZwg7KSR67O165CcIOqzoeuTpCDsoJzqsbBcclxuICBjb25zdCBzZWVuU29uZ0tleXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcclxuICBjb25zdCBkZWR1cGxpY2F0ZWRTb25ncyA9IGZpbmFsU29uZ3MuZmlsdGVyKHNvbmcgPT4ge1xyXG4gICAgLy8gYWxpYXPqsIAg7J6I7Jy866m0IGFsaWFzIOyCrOyaqSwg7JeG7Jy866m0IOybkOuzuCDsgqzsmqlcclxuICAgIGNvbnN0IGRpc3BsYXlUaXRsZSA9IHNvbmcudGl0bGVBbGlhcyB8fCBzb25nLnRpdGxlO1xyXG4gICAgY29uc3QgZGlzcGxheUFydGlzdCA9IHNvbmcuYXJ0aXN0QWxpYXMgfHwgc29uZy5hcnRpc3Q7XHJcbiAgICBjb25zdCBzb25nS2V5ID0gY3JlYXRlU29uZ0tleShkaXNwbGF5VGl0bGUsIGRpc3BsYXlBcnRpc3QpO1xyXG4gICAgXHJcbiAgICBpZiAoc2VlblNvbmdLZXlzLmhhcyhzb25nS2V5KSkge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBzZWVuU29uZ0tleXMuYWRkKHNvbmdLZXkpO1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfSk7XHJcbiAgXHJcbiAgLy8g7KSR67O1IOygnOqxsCDqsrDqs7wg66Gc6re4XHJcbiAgY29uc3QgZHVwbGljYXRlc1JlbW92ZWQgPSBmaW5hbFNvbmdzLmxlbmd0aCAtIGRlZHVwbGljYXRlZFNvbmdzLmxlbmd0aDtcclxuICBpZiAoZHVwbGljYXRlc1JlbW92ZWQgPiAwKSB7XHJcbiAgICBjb25zb2xlLmxvZyhg8J+aqyDspJHrs7Ug6rOhICR7ZHVwbGljYXRlc1JlbW92ZWR96rCcIOygnOqxsGApO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGRlZHVwbGljYXRlZFNvbmdzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwYXJzZVNoZWV0RGF0YSh2YWx1ZXM6IHN0cmluZ1tdW10pOiBTb25nW10ge1xyXG4gIGlmICghdmFsdWVzIHx8IHZhbHVlcy5sZW5ndGggPCAxKSByZXR1cm4gW107XHJcblxyXG4gIGNvbnN0IGZpcnN0Um93ID0gdmFsdWVzWzBdLm1hcChoID0+IChoIHx8ICcnKS50b0xvd2VyQ2FzZSgpLnRyaW0oKSk7XHJcbiAgXHJcbiAgLy8g7Zek642U7JeQ7IScIOqwgSDsu6zrn7zsnZgg7J24642x7Iqk66W8IOywvuyKteuLiOuLpFxyXG4gIGNvbnN0IGdldENvbHVtbkluZGV4ID0gKHBvc3NpYmxlTmFtZXM6IHN0cmluZ1tdKSA9PiB7XHJcbiAgICBmb3IgKGNvbnN0IG5hbWUgb2YgcG9zc2libGVOYW1lcykge1xyXG4gICAgICBjb25zdCBpbmRleCA9IGZpcnN0Um93LmZpbmRJbmRleChoID0+IGguaW5jbHVkZXMobmFtZSkpO1xyXG4gICAgICBpZiAoaW5kZXggIT09IC0xKSByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gLTE7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgdGl0bGVJbmRleCA9IGdldENvbHVtbkluZGV4KFsn7KCc66qpJywgJ3RpdGxlJywgJ+qzoeuqhScsICfrhbjrnpgnXSk7IC8vIOygnOuqqSDsu6zrn7xcclxuICBjb25zdCBhcnRpc3RJbmRleCA9IGdldENvbHVtbkluZGV4KFsn7JWE7Yuw7Iqk7Yq4JywgJ2FydGlzdCcsICfqsIDsiJgnLCAn7JuQ6rOh7J6QJ10pOyAvLyDslYTti7DsiqTtirgg7Lus65+8XHJcblxyXG4gIC8vIO2XpOuNlOqwgCDqsJDsp4DrkJjsl4jripTsp4Ag7ZmV7J24IC0g7Iuk7KCcIO2XpOuNlCDthY3siqTtirjqsIAg7J6I7Jy866m0IO2XpOuNlOuhnCDqsITso7xcclxuICAvLyAnYWJpcicsICd0YW5nbycg6rCZ7J2AIOyLpOygnCDrjbDsnbTthLDripQg7Zek642U6rCAIOyVhOuLmFxyXG4gIGNvbnN0IGhhc1JlYWxIZWFkZXIgPSAodGl0bGVJbmRleCAhPT0gLTEgJiYgYXJ0aXN0SW5kZXggIT09IC0xKSAmJiBcclxuICAgICEoZmlyc3RSb3cubGVuZ3RoID09PSAyICYmIGZpcnN0Um93LmV2ZXJ5KGNlbGwgPT4gY2VsbC5sZW5ndGggPCAxMCAmJiAhY2VsbC5pbmNsdWRlcygn7KCc66qpJykgJiYgIWNlbGwuaW5jbHVkZXMoJ3RpdGxlJykpKTtcclxuICBcclxuICAvLyDtl6TrjZTqsIAg7J6I7Jy866m0IOyyqyDrsojsp7gg7ZaJ7J2EIOqxtOuEiOubsOqzoCwg7JeG7Jy866m0IOuqqOuToCDtlonsnYQg642w7J207YSw66GcIOyymOumrFxyXG4gIGNvbnN0IGRhdGFSb3dzID0gaGFzUmVhbEhlYWRlciA/IHZhbHVlcy5zbGljZSgxKSA6IHZhbHVlcztcclxuXHJcblxyXG5cclxuICByZXR1cm4gZGF0YVJvd3NcclxuICAgIC5maWx0ZXIocm93ID0+IHJvdy5sZW5ndGggPiAwICYmIChyb3dbdGl0bGVJbmRleF0gfHwgcm93WzBdKSkgLy8g67mIIO2WiSDsoJzsmbhcclxuICAgIC5tYXAoKHJvdywgaW5kZXgpID0+IHtcclxuICAgICAgLy8g7Lus65+87J20IOygnOuMgOuhnCDqsJDsp4DrkJjsp4Ag7JWK7J2AIOqyveyasCDquLDrs7gg7Iic7IScIOyCrOyaqVxyXG4gICAgICBsZXQgdGl0bGUsIGFydGlzdDtcclxuICAgICAgXHJcbiAgICAgIGlmIChoYXNSZWFsSGVhZGVyICYmIHRpdGxlSW5kZXggIT09IC0xICYmIGFydGlzdEluZGV4ICE9PSAtMSkge1xyXG4gICAgICAgIC8vIO2XpOuNlOqwgCDsnojqs6Ag7Lus65+87J20IOygnOuMgOuhnCDqsJDsp4DrkJwg6rK97JqwXHJcbiAgICAgICAgdGl0bGUgPSByb3dbdGl0bGVJbmRleF0/LnRyaW0oKSB8fCAnJztcclxuICAgICAgICBhcnRpc3QgPSByb3dbYXJ0aXN0SW5kZXhdPy50cmltKCkgfHwgJyc7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8g7Zek642U6rCAIOyXhuqxsOuCmCDsu6zrn7wg6rCQ7KeAIOyLpO2MqCDsi5wg7Iuk7KCcIOq1rOq4gOyLnO2KuCDqtazsobA6IOyyqyDrsojsp7gg7Lus65+8PeyVhO2LsOyKpO2KuCwg65GQIOuyiOynuCDsu6zrn7w97KCc66qpXHJcbiAgICAgICAgYXJ0aXN0ID0gcm93WzBdPy50cmltKCkgfHwgJyc7ICAvLyDssqsg67KI7Ke4IOy7rOufvCA9IOyVhO2LsOyKpO2KuCAgXHJcbiAgICAgICAgdGl0bGUgPSByb3dbMV0/LnRyaW0oKSB8fCAnJzsgICAvLyDrkZAg67KI7Ke4IOy7rOufvCA9IOygnOuqqVxyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDsoJzrqqnsnbTrgpgg7JWE7Yuw7Iqk7Yq4IOykkSDtlZjrgpjrnbzrj4Qg67mE7Ja07J6I7Jy866m0IG51bGwg67CY7ZmYICjrgpjspJHsl5Ag7ZWE7YSw66eB65CoKVxyXG4gICAgICBpZiAoIXRpdGxlIHx8ICFhcnRpc3QpIHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgfVxyXG5cclxuICAgICAgY29uc3Qgc29uZzogU29uZyA9IHtcclxuICAgICAgICBpZDogYHNvbmctJHtpbmRleCArIDF9YCxcclxuICAgICAgICB0aXRsZTogdGl0bGUsXHJcbiAgICAgICAgYXJ0aXN0OiBhcnRpc3QsXHJcbiAgICAgICAgbGFuZ3VhZ2U6ICdLb3JlYW4nLCAvLyDquLDrs7jqsJIsIE1vbmdvRELsl5DshJwg642u7Ja07JSAXHJcbiAgICAgICAgZGF0ZUFkZGVkOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVswXSwgLy8g6riw67O46rCSXHJcbiAgICAgICAgc291cmNlOiAnc2hlZXQnIGFzIGNvbnN0LCAvLyDqtazquIDsi5ztirgg642w7J207YSwIO2RnOyLnFxyXG4gICAgICB9O1xyXG4gICAgICByZXR1cm4gc29uZztcclxuICAgIH0pXHJcbiAgICAuZmlsdGVyKChzb25nKTogc29uZyBpcyBTb25nID0+IHNvbmcgIT09IG51bGwpIC8vIG51bGzsnbgg7ZWt66qp65OkIOygnOqxsCDrsI8g7YOA7J6FIOqwgOuTnFxyXG4gICAgLmZpbHRlcihzb25nID0+IHtcclxuICAgICAgLy8g7KSR67O17Jy866GcIOyduO2VnCDrrLjsoJzqsIAg65CY64qUIOqzoeuTpOydhCDtlZjrk5zsvZTrlKnsnLzroZwg7KCc7Jm4XHJcbiAgICAgIGNvbnN0IHByb2JsZW1hdGljU29uZ3MgPSBbXHJcbiAgICAgICAgeyB0aXRsZTogJ2dvZHMnLCBhcnRpc3Q6ICfribTsp4TsiqQnIH0sXHJcbiAgICAgICAgeyB0aXRsZTogJ3N1Z2FyY29hdCcsIGFydGlzdDogJ+2CpOyKpOyYpOu4jOudvOydtO2UhCcgfSxcclxuICAgICAgICB7IHRpdGxlOiAn64KY64qUIOy1nOqwlScsIGFydGlzdDogJ2FkbycgfSxcclxuICAgICAgICB7IHRpdGxlOiAn7YOA7IOB7Jew7ZmUJywgYXJ0aXN0OiAn7JqU64Sk7KaIIOy8hOyLnCcgfSxcclxuICAgICAgICB7IHRpdGxlOiAn7JWE7J2064+MJywgYXJ0aXN0OiAn7LWc7JWg7J2YIOyVhOydtCBvc3QnIH1cclxuICAgICAgXTtcclxuICAgICAgXHJcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWRUaXRsZSA9IHNvbmcudGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJycpO1xyXG4gICAgICBjb25zdCBub3JtYWxpemVkQXJ0aXN0ID0gc29uZy5hcnRpc3QudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJycpO1xyXG4gICAgICBcclxuICAgICAgY29uc3QgaXNQcm9ibGVtYXRpYyA9IHByb2JsZW1hdGljU29uZ3Muc29tZShwcm9ibGVtYXRpYyA9PiB7XHJcbiAgICAgICAgY29uc3QgcHJvYmxlbVRpdGxlID0gcHJvYmxlbWF0aWMudGl0bGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJycpO1xyXG4gICAgICAgIGNvbnN0IHByb2JsZW1BcnRpc3QgPSBwcm9ibGVtYXRpYy5hcnRpc3QudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJycpO1xyXG4gICAgICAgIHJldHVybiBub3JtYWxpemVkVGl0bGUgPT09IHByb2JsZW1UaXRsZSAmJiBub3JtYWxpemVkQXJ0aXN0ID09PSBwcm9ibGVtQXJ0aXN0O1xyXG4gICAgICB9KTtcclxuICAgICAgXHJcbiAgICAgIGlmIChpc1Byb2JsZW1hdGljKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGVycm9yOiBFcnJvcik6IHsgdGl0bGU6IHN0cmluZzsgbWVzc2FnZTogc3RyaW5nOyBzdWdnZXN0aW9uOiBzdHJpbmcgfSB7XHJcbiAgY29uc3QgZXJyb3JUeXBlID0gZXJyb3IubWVzc2FnZTtcclxuICBcclxuICBzd2l0Y2ggKGVycm9yVHlwZSkge1xyXG4gICAgY2FzZSAnTUlTU0lOR19BUElfS0VZJzpcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICB0aXRsZTogJ0FQSSDtgqTqsIAg7ISk7KCV65CY7KeAIOyViuyVmOyKteuLiOuLpCcsXHJcbiAgICAgICAgbWVzc2FnZTogJ0dvb2dsZSBTaGVldHMgQVBJIO2CpOqwgCDtlYTsmpTtlanri4jri6QuJyxcclxuICAgICAgICBzdWdnZXN0aW9uOiAnR09PR0xFX1NIRUVUU19TRVRVUC5tZCDtjIzsnbzsnYQg7LC46rOg7ZWY7JesIEFQSSDtgqTrpbwg7ISk7KCV7ZW07KO87IS47JqULidcclxuICAgICAgfTtcclxuICAgIGNhc2UgJ0FQSV9LRVlfSU5WQUxJRCc6XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgdGl0bGU6ICdBUEkg7YKk6rCAIOycoO2aqO2VmOyngCDslYrsirXri4jri6QnLFxyXG4gICAgICAgIG1lc3NhZ2U6ICfshKTsoJXrkJwgR29vZ2xlIFNoZWV0cyBBUEkg7YKk6rCAIOyYrOuwlOultOyngCDslYrqsbDrgpgg6raM7ZWc7J20IOyXhuyKteuLiOuLpC4nLFxyXG4gICAgICAgIHN1Z2dlc3Rpb246ICdBUEkg7YKk66W8IOuLpOyLnCDtmZXsnbjtlZjqsbDrgpgg7IOI66GcIOyDneyEse2VtOyjvOyEuOyalC4nXHJcbiAgICAgIH07XHJcbiAgICBjYXNlICdTSEVFVF9OT1RfRk9VTkQnOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRpdGxlOiAn7Iuc7Yq466W8IOywvuydhCDsiJgg7JeG7Iq164uI64ukJyxcclxuICAgICAgICBtZXNzYWdlOiAn7KeA7KCV65CcIOq1rOq4gCDsi5ztirjsl5Ag7KCR6re87ZWgIOyImCDsl4bsirXri4jri6QuJyxcclxuICAgICAgICBzdWdnZXN0aW9uOiAn7Iuc7Yq46rCAIOqzteqwnOuQmOyWtCDsnojripTsp4Ag7ZmV7J247ZWY6rOgIOyLnO2KuCBJROqwgCDsmKzrsJTrpbjsp4Ag7ZmV7J247ZW07KO87IS47JqULidcclxuICAgICAgfTtcclxuICAgIGNhc2UgJ05PX0RBVEFfRk9VTkQnOlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRpdGxlOiAn64W4656YIOuNsOydtO2EsOqwgCDsl4bsirXri4jri6QnLFxyXG4gICAgICAgIG1lc3NhZ2U6ICfqtazquIAg7Iuc7Yq47JeQ7IScIOuFuOuemCDrjbDsnbTthLDrpbwg7LC+7J2EIOyImCDsl4bsirXri4jri6QuJyxcclxuICAgICAgICBzdWdnZXN0aW9uOiAn7Iuc7Yq47JeQIOygnOuqqeqzvCDslYTti7DsiqTtirgg7KCV67O06rCAIO2PrO2VqOuQnCDrjbDsnbTthLDqsIAg7J6I64qU7KeAIO2ZleyduO2VtOyjvOyEuOyalC4nXHJcbiAgICAgIH07XHJcbiAgICBkZWZhdWx0OlxyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIHRpdGxlOiAn642w7J207YSw66W8IOu2iOufrOyYrCDsiJgg7JeG7Iq164uI64ukJyxcclxuICAgICAgICBtZXNzYWdlOiAn6rWs6riAIOyLnO2KuOyXkOyEnCDrhbjrnpgg642w7J207YSw66W8IOqwgOyguOyYpOuKlCDspJEg66y47KCc6rCAIOuwnOyDne2WiOyKteuLiOuLpC4nLFxyXG4gICAgICAgIHN1Z2dlc3Rpb246ICfsnqDsi5wg7ZuEIOuLpOyLnCDsi5zrj4TtlbTso7zshLjsmpQuIOusuOygnOqwgCDsp4Dsho3rkJjrqbQg64Sk7Yq47JuM7YGsIOyXsOqysOydhCDtmZXsnbjtlbTso7zshLjsmpQuJ1xyXG4gICAgICB9O1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJTSEVFVF9JRCIsIkFQSV9LRVkiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfR09PR0xFX1NIRUVUU19BUElfS0VZIiwiZmV0Y2hTb25nc0Zyb21TaGVldCIsIkVycm9yIiwic2hlZXRTb25ncyIsImZldGNoUmF3U29uZ3NGcm9tU2hlZXQiLCJzb25nRGV0YWlscyIsImRlbGV0ZWRTb25nS2V5cyIsImZldGNoU29uZ0RldGFpbHNGcm9tTW9uZ28iLCJtZXJnZWRTb25ncyIsIm1lcmdlU29uZ3NEYXRhIiwiY29uc29sZSIsImxvZyIsImxlbmd0aCIsImVycm9yIiwicmFuZ2VzIiwicmFuZ2UiLCJyZXNwb25zZSIsImZldGNoIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwidGltZW91dCIsInNpZ25hbCIsIkFib3J0U2lnbmFsIiwib2siLCJkYXRhIiwianNvbiIsInZhbHVlcyIsInNvbmdzIiwicGFyc2VTaGVldERhdGEiLCJzdGF0dXMiLCJyYW5nZUVycm9yIiwid2FybiIsImRiQ29ubmVjdCIsImRlZmF1bHQiLCJTb25nRGV0YWlsIiwiZmluZCIsIiRhbmQiLCIkb3IiLCIkbmUiLCIkZXhpc3RzIiwic291cmNlVHlwZSIsIiRpbiIsInNvcnQiLCJ1cGRhdGVkQXQiLCJsZWFuIiwiZGVsZXRlZFNvbmdzIiwidGl0bGUiLCJhcnRpc3QiLCJ0aXRsZUFsaWFzIiwiYXJ0aXN0QWxpYXMiLCJTZXQiLCJmb3JFYWNoIiwic29uZyIsInNvbmdLZXkiLCJjcmVhdGVTb25nS2V5IiwiYWRkIiwic2l6ZSIsInByb2Nlc3NlZFNvbmdEZXRhaWxzIiwibWFwIiwiZG9jIiwiX2lkIiwidG9TdHJpbmciLCJsYW5ndWFnZSIsImx5cmljcyIsInNlYXJjaFRhZ3MiLCJzdW5nQ291bnQiLCJsaWtlQ291bnQiLCJsYXN0U3VuZ0RhdGUiLCJrZXlBZGp1c3RtZW50IiwibXJMaW5rcyIsInNlbGVjdGVkTVJJbmRleCIsInBlcnNvbmFsTm90ZXMiLCJpbWFnZVVybCIsImNyZWF0ZWRBdCIsInN1Z2dlc3RlZEJ5IiwiZGVsZXRlZEF0IiwiZGVsZXRlZEJ5IiwiZGVsZXRlUmVhc29uIiwiYXBwcm92ZWRBdCIsImFwcHJvdmVkQnkiLCJzdGFjayIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsIm5vcm1hbGl6ZVRpdGxlIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwidHJpbSIsImRldGFpbHNNYXAiLCJNYXAiLCJub3JtYWxpemVkVG9PcmlnaW5hbE1hcCIsInVzZWRNb25nb1NvbmdzIiwiZGV0YWlsIiwic2V0IiwibWVyZ2VkU2hlZXRTb25ncyIsImZpbHRlciIsInNoZWV0U29uZ0tleSIsImhhcyIsImdldCIsInNvdXJjZSIsImlkIiwic2hlZXRJZCIsImRhdGVBZGRlZCIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJtb25nb09ubHlTb25ncyIsIm1vbmdvT25seUNvdW50ZXIiLCJtb25nb1NvbmdLZXkiLCJwdXNoIiwiRGF0ZSIsImZpbmFsU29uZ3MiLCJzZWVuU29uZ0tleXMiLCJkZWR1cGxpY2F0ZWRTb25ncyIsImRpc3BsYXlUaXRsZSIsImRpc3BsYXlBcnRpc3QiLCJkdXBsaWNhdGVzUmVtb3ZlZCIsImZpcnN0Um93IiwiaCIsImdldENvbHVtbkluZGV4IiwicG9zc2libGVOYW1lcyIsIm5hbWUiLCJpbmRleCIsImZpbmRJbmRleCIsInRpdGxlSW5kZXgiLCJhcnRpc3RJbmRleCIsImhhc1JlYWxIZWFkZXIiLCJldmVyeSIsImNlbGwiLCJkYXRhUm93cyIsInNsaWNlIiwicm93IiwicHJvYmxlbWF0aWNTb25ncyIsIm5vcm1hbGl6ZWRUaXRsZSIsIm5vcm1hbGl6ZWRBcnRpc3QiLCJpc1Byb2JsZW1hdGljIiwic29tZSIsInByb2JsZW1hdGljIiwicHJvYmxlbVRpdGxlIiwicHJvYmxlbUFydGlzdCIsImdldEVycm9yTWVzc2FnZSIsImVycm9yVHlwZSIsInN1Z2dlc3Rpb24iXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/googleSheets.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectToDatabase: () => (/* binding */ dbConnect),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error('Please define the MONGODB_URI environment variable inside .env.local');\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        // console.log('üîÑ Í∏∞Ï°¥ MongoDB Ïó∞Í≤∞ Ïû¨ÏÇ¨Ïö©');\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        // console.log('üöÄ ÏÉàÎ°úÏö¥ MongoDB Ïó∞Í≤∞ ÏãúÏûë...');\n        // console.log('üìç MongoDB URI:', MONGODB_URI ? 'URI ÏÑ§Ï†ïÎê®' : 'URI ÏóÜÏùå');\n        const opts = {\n            bufferCommands: false,\n            serverSelectionTimeoutMS: 5000,\n            connectTimeoutMS: 5000\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            // console.log('‚úÖ MongoDB Ïó∞Í≤∞ ÏÑ±Í≥µ!');\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        console.error('‚ùå MongoDB Ïó∞Í≤∞ Ïã§Ìå®:', e);\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNGLFdBQVc7QUFFM0MsSUFBSSxDQUFDQSxhQUFhO0lBQ2hCLE1BQU0sSUFBSUcsTUFDUjtBQUVKO0FBV0EsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZix1Q0FBdUM7UUFDdkMsT0FBT0YsT0FBT0UsSUFBSTtJQUNwQjtJQUVBLElBQUksQ0FBQ0YsT0FBT0csT0FBTyxFQUFFO1FBQ25CLDBDQUEwQztRQUMxQyxzRUFBc0U7UUFFdEUsTUFBTUUsT0FBTztZQUNYQyxnQkFBZ0I7WUFDaEJDLDBCQUEwQjtZQUMxQkMsa0JBQWtCO1FBQ3BCO1FBRUFSLE9BQU9HLE9BQU8sR0FBR1IsdURBQWdCLENBQUNDLGFBQWNTLE1BQU1LLElBQUksQ0FBQyxDQUFDZjtZQUMxRCxtQ0FBbUM7WUFDbkMsT0FBT0E7UUFDVDtJQUNGO0lBRUEsSUFBSTtRQUNGSyxPQUFPRSxJQUFJLEdBQUcsTUFBTUYsT0FBT0csT0FBTztJQUNwQyxFQUFFLE9BQU9RLEdBQUc7UUFDVkMsUUFBUUMsS0FBSyxDQUFDLG9CQUFvQkY7UUFDbENYLE9BQU9HLE9BQU8sR0FBRztRQUNqQixNQUFNUTtJQUNSO0lBRUEsT0FBT1gsT0FBT0UsSUFBSTtBQUNwQjtBQUVBLGlFQUFlRSxTQUFTQSxFQUFDO0FBQ2lCIiwic291cmNlcyI6WyIvbW50L2YvRGF0YS9HaXQvY2xhdWRlLWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL2xpYi9tb25nb2RiLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5jb25zdCBNT05HT0RCX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xyXG5cclxuaWYgKCFNT05HT0RCX1VSSSkge1xyXG4gIHRocm93IG5ldyBFcnJvcihcclxuICAgICdQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudi5sb2NhbCdcclxuICApO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgTW9uZ29vc2VDYWNoZSB7XHJcbiAgY29ubjogdHlwZW9mIG1vbmdvb3NlIHwgbnVsbDtcclxuICBwcm9taXNlOiBQcm9taXNlPHR5cGVvZiBtb25nb29zZT4gfCBudWxsO1xyXG59XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgdmFyIG1vbmdvb3NlOiBNb25nb29zZUNhY2hlO1xyXG59XHJcblxyXG5sZXQgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlO1xyXG5cclxuaWYgKCFjYWNoZWQpIHtcclxuICBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gZGJDb25uZWN0KCk6IFByb21pc2U8dHlwZW9mIG1vbmdvb3NlPiB7XHJcbiAgaWYgKGNhY2hlZC5jb25uKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygn8J+UhCDquLDsobQgTW9uZ29EQiDsl7DqsrAg7J6s7IKs7JqpJyk7XHJcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbiAgfVxyXG5cclxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygn8J+agCDsg4jroZzsmrQgTW9uZ29EQiDsl7DqsrAg7Iuc7J6RLi4uJyk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygn8J+TjSBNb25nb0RCIFVSSTonLCBNT05HT0RCX1VSSSA/ICdVUkkg7ISk7KCV65CoJyA6ICdVUkkg7JeG7J2MJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IG9wdHMgPSB7XHJcbiAgICAgIGJ1ZmZlckNvbW1hbmRzOiBmYWxzZSxcclxuICAgICAgc2VydmVyU2VsZWN0aW9uVGltZW91dE1TOiA1MDAwLCAvLyA17LSI66GcIOuLqOy2lVxyXG4gICAgICBjb25uZWN0VGltZW91dE1TOiA1MDAwLFxyXG4gICAgfTtcclxuXHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlLmNvbm5lY3QoTU9OR09EQl9VUkkhLCBvcHRzKS50aGVuKChtb25nb29zZSkgPT4ge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZygn4pyFIE1vbmdvREIg7Jew6rKwIOyEseqztSEnKTtcclxuICAgICAgcmV0dXJuIG1vbmdvb3NlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfinYwgTW9uZ29EQiDsl7DqsrAg7Iuk7YyoOicsIGUpO1xyXG4gICAgY2FjaGVkLnByb21pc2UgPSBudWxsO1xyXG4gICAgdGhyb3cgZTtcclxuICB9XHJcblxyXG4gIHJldHVybiBjYWNoZWQuY29ubjtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZGJDb25uZWN0O1xyXG5leHBvcnQgeyBkYkNvbm5lY3QgYXMgY29ubmVjdFRvRGF0YWJhc2UgfTsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJNT05HT0RCX1VSSSIsInByb2Nlc3MiLCJlbnYiLCJFcnJvciIsImNhY2hlZCIsImdsb2JhbCIsImNvbm4iLCJwcm9taXNlIiwiZGJDb25uZWN0Iiwib3B0cyIsImJ1ZmZlckNvbW1hbmRzIiwic2VydmVyU2VsZWN0aW9uVGltZW91dE1TIiwiY29ubmVjdFRpbWVvdXRNUyIsImNvbm5lY3QiLCJ0aGVuIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImNvbm5lY3RUb0RhdGFiYXNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/permissions.ts":
/*!********************************!*\
  !*** ./src/lib/permissions.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Permission: () => (/* binding */ Permission),\n/* harmony export */   UserRole: () => (/* binding */ UserRole),\n/* harmony export */   canAccessAdminPanel: () => (/* binding */ canAccessAdminPanel),\n/* harmony export */   canManageSongs: () => (/* binding */ canManageSongs),\n/* harmony export */   hasPermission: () => (/* binding */ hasPermission),\n/* harmony export */   isSuperAdmin: () => (/* binding */ isSuperAdmin),\n/* harmony export */   roleToIsAdmin: () => (/* binding */ roleToIsAdmin)\n/* harmony export */ });\nvar UserRole = /*#__PURE__*/ function(UserRole) {\n    UserRole[\"SUPER_ADMIN\"] = \"super_admin\";\n    UserRole[\"SONG_ADMIN\"] = \"song_admin\";\n    UserRole[\"AYAUKE_ADMIN\"] = \"ayauke_admin\";\n    UserRole[\"SONG_EDITOR\"] = \"song_editor\";\n    UserRole[\"USER\"] = \"user\";\n    return UserRole;\n}({});\nvar Permission = /*#__PURE__*/ function(Permission) {\n    // ÏãúÏä§ÌÖú Í¥ÄÎ¶¨\n    Permission[\"SYSTEM_ADMIN\"] = \"system.admin\";\n    Permission[\"USER_MANAGE\"] = \"users.manage\";\n    // ÎÖ∏Îûò Í¥ÄÎ¶¨\n    Permission[\"SONGS_VIEW\"] = \"songs.view\";\n    Permission[\"SONGS_CREATE\"] = \"songs.create\";\n    Permission[\"SONGS_EDIT\"] = \"songs.edit\";\n    Permission[\"SONGS_DELETE\"] = \"songs.delete\";\n    Permission[\"SONGS_BULK_EDIT\"] = \"songs.bulk_edit\";\n    Permission[\"SONGS_STATS\"] = \"songs.stats\";\n    return Permission;\n}({});\nconst ROLE_PERMISSIONS = {\n    [\"super_admin\"]: [\n        \"system.admin\",\n        \"users.manage\",\n        \"songs.view\",\n        \"songs.create\",\n        \"songs.edit\",\n        \"songs.delete\",\n        \"songs.bulk_edit\",\n        \"songs.stats\"\n    ],\n    [\"song_admin\"]: [\n        \"songs.view\",\n        \"songs.create\",\n        \"songs.edit\",\n        \"songs.delete\",\n        \"songs.bulk_edit\",\n        \"songs.stats\"\n    ],\n    [\"ayauke_admin\"]: [\n        \"songs.view\",\n        \"songs.create\",\n        \"songs.edit\",\n        \"songs.delete\",\n        \"songs.bulk_edit\",\n        \"songs.stats\"\n    ],\n    [\"song_editor\"]: [\n        \"songs.view\",\n        \"songs.edit\",\n        \"songs.stats\"\n    ],\n    [\"user\"]: []\n};\nfunction hasPermission(userRole, permission) {\n    const permissions = ROLE_PERMISSIONS[userRole] || [];\n    return permissions.includes(permission);\n}\nfunction canAccessAdminPanel(role) {\n    return role !== \"user\";\n}\nfunction isSuperAdmin(role) {\n    return role === \"super_admin\";\n}\nfunction canManageSongs(role) {\n    return hasPermission(role, \"songs.view\");\n}\n// ÌïòÏúÑ Ìò∏ÌôòÏÑ±ÏùÑ ÏúÑÌïú ÏûÑÏãú Ìï®Ïàò (ÎÇòÏ§ëÏóê Ï†úÍ±∞)\nfunction roleToIsAdmin(role) {\n    return role !== \"user\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3Blcm1pc3Npb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBTyxzQ0FBS0E7Ozs7OztXQUFBQTtNQU1YO0FBRU0sd0NBQUtDO0lBQ1YsU0FBUzs7O0lBSVQsUUFBUTs7Ozs7OztXQUxFQTtNQVlYO0FBRUQsTUFBTUMsbUJBQW1CO0lBQ3ZCLGVBQXNCLEVBQUU7Ozs7Ozs7OztLQVN2QjtJQUNELGNBQXFCLEVBQUU7Ozs7Ozs7S0FPdEI7SUFDRCxnQkFBdUIsRUFBRTs7Ozs7OztLQU94QjtJQUNELGVBQXNCLEVBQUU7Ozs7S0FJdkI7SUFDRCxRQUFlLEVBQUUsRUFBRTtBQUNyQjtBQUVPLFNBQVNDLGNBQWNDLFFBQWtCLEVBQUVDLFVBQXNCO0lBQ3RFLE1BQU1DLGNBQWNKLGdCQUFnQixDQUFDRSxTQUFTLElBQUksRUFBRTtJQUNwRCxPQUFPRSxZQUFZQyxRQUFRLENBQUNGO0FBQzlCO0FBRU8sU0FBU0csb0JBQW9CQyxJQUFjO0lBQ2hELE9BQU9BO0FBQ1Q7QUFFTyxTQUFTQyxhQUFhRCxJQUFjO0lBQ3pDLE9BQU9BO0FBQ1Q7QUFFTyxTQUFTRSxlQUFlRixJQUFjO0lBQzNDLE9BQU9OLGNBQWNNO0FBQ3ZCO0FBRUEsNEJBQTRCO0FBQ3JCLFNBQVNHLGNBQWNILElBQWM7SUFDMUMsT0FBT0E7QUFDVCIsInNvdXJjZXMiOlsiL21udC9mL0RhdGEvR2l0L2NsYXVkZS1jb2RlL2F5YXVrZS1wYWdlL2F5YXVrZS1wYWdlL3NyYy9saWIvcGVybWlzc2lvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gVXNlclJvbGUge1xyXG4gIFNVUEVSX0FETUlOID0gJ3N1cGVyX2FkbWluJyxcclxuICBTT05HX0FETUlOID0gJ3NvbmdfYWRtaW4nLCBcclxuICBBWUFVS0VfQURNSU4gPSAnYXlhdWtlX2FkbWluJywgLy8g7JWE7JW87Jqw7LyAIOq0gOumrOyekCAoU09OR19BRE1JTuqzvCDrj5nsnbztlZwg6raM7ZWcKVxyXG4gIFNPTkdfRURJVE9SID0gJ3NvbmdfZWRpdG9yJyxcclxuICBVU0VSID0gJ3VzZXInXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFBlcm1pc3Npb24ge1xyXG4gIC8vIOyLnOyKpO2FnCDqtIDrpqxcclxuICBTWVNURU1fQURNSU4gPSAnc3lzdGVtLmFkbWluJyxcclxuICBVU0VSX01BTkFHRSA9ICd1c2Vycy5tYW5hZ2UnLFxyXG4gIFxyXG4gIC8vIOuFuOuemCDqtIDrpqxcclxuICBTT05HU19WSUVXID0gJ3NvbmdzLnZpZXcnLFxyXG4gIFNPTkdTX0NSRUFURSA9ICdzb25ncy5jcmVhdGUnLFxyXG4gIFNPTkdTX0VESVQgPSAnc29uZ3MuZWRpdCcsXHJcbiAgU09OR1NfREVMRVRFID0gJ3NvbmdzLmRlbGV0ZScsXHJcbiAgU09OR1NfQlVMS19FRElUID0gJ3NvbmdzLmJ1bGtfZWRpdCcsXHJcbiAgU09OR1NfU1RBVFMgPSAnc29uZ3Muc3RhdHMnLFxyXG59XHJcblxyXG5jb25zdCBST0xFX1BFUk1JU1NJT05TID0ge1xyXG4gIFtVc2VyUm9sZS5TVVBFUl9BRE1JTl06IFtcclxuICAgIFBlcm1pc3Npb24uU1lTVEVNX0FETUlOLFxyXG4gICAgUGVybWlzc2lvbi5VU0VSX01BTkFHRSxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfVklFVyxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfQ1JFQVRFLFxyXG4gICAgUGVybWlzc2lvbi5TT05HU19FRElULFxyXG4gICAgUGVybWlzc2lvbi5TT05HU19ERUxFVEUsXHJcbiAgICBQZXJtaXNzaW9uLlNPTkdTX0JVTEtfRURJVCxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfU1RBVFMsXHJcbiAgXSxcclxuICBbVXNlclJvbGUuU09OR19BRE1JTl06IFtcclxuICAgIFBlcm1pc3Npb24uU09OR1NfVklFVyxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfQ1JFQVRFLFxyXG4gICAgUGVybWlzc2lvbi5TT05HU19FRElULFxyXG4gICAgUGVybWlzc2lvbi5TT05HU19ERUxFVEUsXHJcbiAgICBQZXJtaXNzaW9uLlNPTkdTX0JVTEtfRURJVCxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfU1RBVFMsXHJcbiAgXSxcclxuICBbVXNlclJvbGUuQVlBVUtFX0FETUlOXTogW1xyXG4gICAgUGVybWlzc2lvbi5TT05HU19WSUVXLFxyXG4gICAgUGVybWlzc2lvbi5TT05HU19DUkVBVEUsXHJcbiAgICBQZXJtaXNzaW9uLlNPTkdTX0VESVQsXHJcbiAgICBQZXJtaXNzaW9uLlNPTkdTX0RFTEVURSxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfQlVMS19FRElULFxyXG4gICAgUGVybWlzc2lvbi5TT05HU19TVEFUUyxcclxuICBdLFxyXG4gIFtVc2VyUm9sZS5TT05HX0VESVRPUl06IFtcclxuICAgIFBlcm1pc3Npb24uU09OR1NfVklFVyxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfRURJVCxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfU1RBVFMsXHJcbiAgXSxcclxuICBbVXNlclJvbGUuVVNFUl06IFtdXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNQZXJtaXNzaW9uKHVzZXJSb2xlOiBVc2VyUm9sZSwgcGVybWlzc2lvbjogUGVybWlzc2lvbik6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IHBlcm1pc3Npb25zID0gUk9MRV9QRVJNSVNTSU9OU1t1c2VyUm9sZV0gfHwgW11cclxuICByZXR1cm4gcGVybWlzc2lvbnMuaW5jbHVkZXMocGVybWlzc2lvbilcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbkFjY2Vzc0FkbWluUGFuZWwocm9sZTogVXNlclJvbGUpOiBib29sZWFuIHtcclxuICByZXR1cm4gcm9sZSAhPT0gVXNlclJvbGUuVVNFUlxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNTdXBlckFkbWluKHJvbGU6IFVzZXJSb2xlKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHJvbGUgPT09IFVzZXJSb2xlLlNVUEVSX0FETUlOXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYW5NYW5hZ2VTb25ncyhyb2xlOiBVc2VyUm9sZSk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiBoYXNQZXJtaXNzaW9uKHJvbGUsIFBlcm1pc3Npb24uU09OR1NfVklFVylcclxufVxyXG5cclxuLy8g7ZWY7JyEIO2YuO2ZmOyEseydhCDsnITtlZwg7J6E7IucIO2VqOyImCAo64KY7KSR7JeQIOygnOqxsClcclxuZXhwb3J0IGZ1bmN0aW9uIHJvbGVUb0lzQWRtaW4ocm9sZTogVXNlclJvbGUpOiBib29sZWFuIHtcclxuICByZXR1cm4gcm9sZSAhPT0gVXNlclJvbGUuVVNFUlxyXG59Il0sIm5hbWVzIjpbIlVzZXJSb2xlIiwiUGVybWlzc2lvbiIsIlJPTEVfUEVSTUlTU0lPTlMiLCJoYXNQZXJtaXNzaW9uIiwidXNlclJvbGUiLCJwZXJtaXNzaW9uIiwicGVybWlzc2lvbnMiLCJpbmNsdWRlcyIsImNhbkFjY2Vzc0FkbWluUGFuZWwiLCJyb2xlIiwiaXNTdXBlckFkbWluIiwiY2FuTWFuYWdlU29uZ3MiLCJyb2xlVG9Jc0FkbWluIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/permissions.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/titleSystem.ts":
/*!********************************!*\
  !*** ./src/lib/titleSystem.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TITLE_DEFINITIONS: () => (/* binding */ TITLE_DEFINITIONS),\n/* harmony export */   checkForNewTitles: () => (/* binding */ checkForNewTitles),\n/* harmony export */   getSelectedTitleInfo: () => (/* binding */ getSelectedTitleInfo),\n/* harmony export */   getTitleDefinition: () => (/* binding */ getTitleDefinition),\n/* harmony export */   getTitleRarityColor: () => (/* binding */ getTitleRarityColor),\n/* harmony export */   grantTitle: () => (/* binding */ grantTitle)\n/* harmony export */ });\n// Ïπ≠Ìò∏ Ï†ïÏùòÎì§\nconst TITLE_DEFINITIONS = [\n    // Í¥ÄÎ¶¨Ïûê Ïπ≠Ìò∏ (Í∏∞Ï°¥ role Í∏∞Î∞ò)\n    {\n        id: \"super_admin\",\n        name: \"ÏµúÍ≥† Í¥ÄÎ¶¨Ïûê\",\n        description: \"ÏÇ¨Ïù¥Ìä∏Ïùò Î™®Îì† Í∂åÌïúÏùÑ Í∞ÄÏßÑ ÏµúÍ≥† Í¥ÄÎ¶¨ÏûêÏûÖÎãàÎã§\",\n        condition: \"ÏÇ¨Ïù¥Ìä∏ Í¥ÄÎ¶¨Ïûê Í∂åÌïú Î≥¥Ïú†\",\n        rarity: \"legendary\",\n        checkCondition: (user)=>user.role === \"super_admin\",\n        autoGrant: true\n    },\n    {\n        id: \"ayauke_admin\",\n        name: \"ÏïÑÏïºÎÉ•Ïù¥\",\n        description: \"Ïä§Ìä∏Î¶¨Î®∏ ÏïÑÏïºÏóêÍ≤å Î∂ÄÏó¨ÎêòÎäî ÌäπÎ≥ÑÌïú Ïπ≠Ìò∏ÏûÖÎãàÎã§\",\n        condition: \"ÏÇ¨Ïù¥Ìä∏Î•º ÏÑ†Î¨ºÎ∞õÏùÄ Ïä§Ìä∏Î¶¨Î®∏\",\n        rarity: \"epic\",\n        checkCondition: (user)=>user.role === \"ayauke_admin\",\n        autoGrant: true\n    },\n    {\n        id: \"honeyz\",\n        name: \"HONEYZ\",\n        description: \"ÌóàÎãàÏ¶àÏóêÍ≤å Î∂ÄÏó¨ÎêòÎäî Ïπ≠Ìò∏ÏûÖÎãàÎã§\",\n        condition: \"ÌóàÎãàÏ¶à ÏÜåÏÜç Ïä§Ìä∏Î¶¨Î®∏\",\n        rarity: \"epic\",\n        checkCondition: (user)=>{\n            const honeyzChannelIds = [\n                \"abe8aa82baf3d3ef54ad8468ee73e7fc\",\n                \"798e100206987b59805cfb75f927e965\",\n                \"b82e8bc2505e37156b2d1140ba1fc05c\",\n                \"c0d9723cbb75dc223c6aa8a9d4f56002\",\n                \"bd07973b6021d72512240c01a386d5c9\",\n                \"65a53076fe1a39636082dd6dba8b8a4b\",\n                \"d6017f757614569add71b0bc83a81382\"\n            ];\n            return honeyzChannelIds.includes(user.channelId);\n        },\n        autoGrant: true\n    },\n    {\n        id: \"song_admin\",\n        name: \"ÎÖ∏Îûò Í¥ÄÎ¶¨Ïûê\",\n        description: \"ÎÖ∏Îûò Ï†ïÎ≥¥Î•º Í¥ÄÎ¶¨ÌïòÎäî Í¥ÄÎ¶¨ÏûêÏûÖÎãàÎã§\",\n        condition: \"ÎÖ∏Îûò Í¥ÄÎ¶¨Ïûê Í∂åÌïú Î≥¥Ïú†\",\n        rarity: \"epic\",\n        checkCondition: (user)=>user.role === \"song_admin\",\n        autoGrant: true\n    },\n    {\n        id: \"song_editor\",\n        name: \"Ìé∏ÏßëÏûê\",\n        description: \"ÎÖ∏Îûò Ï†ïÎ≥¥Î•º Ìé∏ÏßëÌï† Ïàò ÏûàÎäî Ìé∏ÏßëÏûêÏûÖÎãàÎã§\",\n        condition: \"Ìé∏ÏßëÏûê Í∂åÌïú Î≥¥Ïú†\",\n        rarity: \"rare\",\n        checkCondition: (user)=>user.role === \"song_editor\",\n        autoGrant: true\n    },\n    // ÌôúÎèô Í∏∞Î∞ò Ïπ≠Ìò∏\n    {\n        id: \"chzzk_user\",\n        name: \"ÏπòÏßÄÏßÅ ÏÇ¨Ïö©Ïûê\",\n        description: \"ÏïÑÏïºÏùò Ìå¨ÏÇ¨Ïù¥Ìä∏Ïóê Ïò§Ïã† Í≤ÉÏùÑ ÌôòÏòÅÌï©ÎãàÎã§!\",\n        condition: \"ÌöåÏõêÍ∞ÄÏûÖ Ïãú ÏûêÎèô Î∂ÄÏó¨\",\n        rarity: \"common\",\n        checkCondition: ()=>true,\n        autoGrant: true\n    },\n    {\n        id: \"regular_visitor\",\n        name: \"Îã®Í≥®ÏÜêÎãò\",\n        description: \"ÏûêÏ£º Î∞©Î¨∏Ìï¥Ï£ºÏãúÎäî ÏÜåÏ§ëÌïú Îã®Í≥®ÏÜêÎãòÏûÖÎãàÎã§\",\n        condition: \"Î°úÍ∑∏Ïù∏ 10Ìöå Ïù¥ÏÉÅ\",\n        rarity: \"common\",\n        checkCondition: (user, stats)=>(stats?.loginCount || 0) >= 10,\n        autoGrant: true\n    },\n    {\n        id: \"music_lover\",\n        name: \"ÎÖ∏Îûò Îß§ÎãàÏïÑ\",\n        description: \"ÏùåÏïÖÏùÑ ÏÇ¨ÎûëÌïòÎäî ÏßÑÏ†ïÌïú Îß§ÎãàÏïÑÏûÖÎãàÎã§\",\n        condition: \"Ï¢ãÏïÑÏöî 50Í∞ú Ïù¥ÏÉÅ\",\n        rarity: \"rare\",\n        checkCondition: (user, stats)=>(stats?.likeCount || 0) >= 50,\n        autoGrant: true\n    },\n    {\n        id: \"playlist_curator\",\n        name: \"ÌîåÎ†àÏù¥Î¶¨Ïä§Ìä∏ ÌÅêÎ†àÏù¥ÌÑ∞\",\n        description: \"ÏùåÏïÖ Ï∑®Ìñ•Ïù¥ Îõ∞Ïñ¥ÎÇú ÌîåÎ†àÏù¥Î¶¨Ïä§Ìä∏ Ï†ÑÎ¨∏Í∞ÄÏûÖÎãàÎã§\",\n        condition: \"ÌîåÎ†àÏù¥Î¶¨Ïä§Ìä∏ 5Í∞ú Ïù¥ÏÉÅ ÏÉùÏÑ±\",\n        rarity: \"rare\",\n        checkCondition: (user, stats)=>(stats?.playlistCount || 0) >= 5,\n        autoGrant: true\n    },\n    {\n        id: \"loyal_fan\",\n        name: \"Ï∂©ÏÑ±Ïä§Îü¨Ïö¥ Ìå¨\",\n        description: \"ÏïÑÏïºÎ•º Íæ∏Ï§ÄÌûà ÏùëÏõêÌï¥Ï£ºÏãúÎäî Ï∂©ÏÑ±Ïä§Îü¨Ïö¥ Ìå¨ÏûÖÎãàÎã§\",\n        condition: \"30Ïùº Ïó∞ÏÜç Ï†ëÏÜç\",\n        rarity: \"epic\",\n        checkCondition: (user, stats)=>(stats?.consecutiveDays || 0) >= 30,\n        autoGrant: true\n    },\n    // ÌäπÎ≥Ñ Ïπ≠Ìò∏ (ÏàòÎèô Î∂ÄÏó¨)\n    {\n        id: \"developer_friend\",\n        name: \"Í∞úÎ∞úÏûêÏùò ÏπúÍµ¨\",\n        description: \"Í∞úÎ∞úÏûêÏôÄ ÌäπÎ≥ÑÌïú Ïù∏Ïó∞Ïù¥ ÏûàÎäî ÏÜåÏ§ëÌïú ÏπúÍµ¨ÏûÖÎãàÎã§\",\n        condition: \"Í∞úÎ∞úÏûêÍ∞Ä ÏßÅÏ†ë Î∂ÄÏó¨\",\n        rarity: \"legendary\",\n        checkCondition: ()=>false,\n        autoGrant: false\n    },\n    {\n        id: \"beta_tester\",\n        name: \"Î≤†ÌÉÄ ÌÖåÏä§ÌÑ∞\",\n        description: \"ÏÇ¨Ïù¥Ìä∏ Ï¥àÍ∏∞Î∂ÄÌÑ∞ Ìï®ÍªòÌï¥Ï£ºÏã† Î≤†ÌÉÄ ÌÖåÏä§ÌÑ∞ÏûÖÎãàÎã§\",\n        condition: \"ÌäπÏ†ï Í∏∞Í∞Ñ Í∞ÄÏûÖÏûê\",\n        rarity: \"epic\",\n        checkCondition: ()=>false,\n        autoGrant: false\n    }\n];\n// Ïπ≠Ìò∏ IDÎ°ú Ï†ïÏùò Ï∞æÍ∏∞\nfunction getTitleDefinition(titleId) {\n    return TITLE_DEFINITIONS.find((title)=>title.id === titleId);\n}\n// Ìù¨Í∑ÄÎèÑÎ≥Ñ ÏÉâÏÉÅ Î∞òÌôò\nfunction getTitleRarityColor(rarity) {\n    switch(rarity){\n        case \"common\":\n            return \"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-800 dark:border-gray-700\";\n        case \"rare\":\n            return \"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 border border-blue-800 dark:border-blue-700\";\n        case \"epic\":\n            return \"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 border border-purple-800 dark:border-purple-700\";\n        case \"legendary\":\n            return \"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 border border-yellow-800 dark:border-yellow-700\";\n        default:\n            return \"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-800 dark:border-gray-700\";\n    }\n}\n// ÏÇ¨Ïö©ÏûêÍ∞Ä ÌöçÎìùÌï† Ïàò ÏûàÎäî ÏÉàÎ°úÏö¥ Ïπ≠Ìò∏ ÌôïÏù∏\nfunction checkForNewTitles(user, stats) {\n    const currentTitleIds = user.titles.map((title)=>title.id);\n    const newTitles = [];\n    for (const titleDef of TITLE_DEFINITIONS){\n        // Ïù¥ÎØ∏ Î≥¥Ïú†Ìïú Ïπ≠Ìò∏Îäî Í±¥ÎÑàÎõ∞Í∏∞\n        if (currentTitleIds.includes(titleDef.id)) continue;\n        // ÏûêÎèô Î∂ÄÏó¨ Ïπ≠Ìò∏Îßå Ï≤¥ÌÅ¨\n        if (!titleDef.autoGrant) continue;\n        // Ï°∞Í±¥ ÌôïÏù∏\n        if (titleDef.checkCondition(user, stats)) {\n            newTitles.push(titleDef);\n        }\n    }\n    return newTitles;\n}\n// ÏÇ¨Ïö©ÏûêÏóêÍ≤å Ïπ≠Ìò∏ Î∂ÄÏó¨\nfunction grantTitle(user, titleDef) {\n    console.log(\"üèÜ Ïπ≠Ìò∏ Î∂ÄÏó¨ ÏãúÎèÑ:\", {\n        titleId: titleDef.id,\n        titleName: titleDef.name\n    });\n    // Ïù¥ÎØ∏ Î≥¥Ïú†Ìïú Ïπ≠Ìò∏Ïù∏ÏßÄ ÌôïÏù∏\n    const alreadyHas = user.titles.some((title)=>title.id === titleDef.id);\n    if (alreadyHas) {\n        console.log(\"üèÜ Ïù¥ÎØ∏ Î≥¥Ïú†Ìïú Ïπ≠Ìò∏:\", titleDef.name);\n        return false;\n    }\n    // Ïπ≠Ìò∏ Ï∂îÍ∞Ä\n    const newTitle = {\n        id: titleDef.id,\n        name: titleDef.name,\n        description: titleDef.description,\n        earnedAt: new Date(),\n        condition: titleDef.condition,\n        rarity: titleDef.rarity\n    };\n    console.log(\"üèÜ Ïπ≠Ìò∏ Ï∂îÍ∞Ä Ï†Ñ titles.length:\", user.titles.length);\n    user.titles.push(newTitle);\n    console.log(\"üèÜ Ïπ≠Ìò∏ Ï∂îÍ∞Ä ÌõÑ titles.length:\", user.titles.length);\n    console.log(\"üèÜ Ï∂îÍ∞ÄÎêú Ïπ≠Ìò∏:\", newTitle);\n    // Ï≤´ Î≤àÏß∏ Ïπ≠Ìò∏ÎùºÎ©¥ ÏûêÎèôÏúºÎ°ú ÏÑ†ÌÉù\n    if (!user.selectedTitle) {\n        user.selectedTitle = titleDef.id;\n        console.log(\"üèÜ Ï≤´ Î≤àÏß∏ Ïπ≠Ìò∏Î°ú ÏÑ†ÌÉùÎê®:\", titleDef.id);\n    }\n    return true;\n}\n// ÏÑ†ÌÉùÎêú Ïπ≠Ìò∏ Ï†ïÎ≥¥ Í∞ÄÏ†∏Ïò§Í∏∞\nfunction getSelectedTitleInfo(user) {\n    if (!user.selectedTitle) return null;\n    const selectedTitle = user.titles.find((title)=>title.id === user.selectedTitle);\n    if (!selectedTitle) return null;\n    // Mongoose Í∞ùÏ≤¥Î•º ÏàúÏàòÌïú JavaScript Í∞ùÏ≤¥Î°ú Î≥ÄÌôò\n    const titleObj = typeof selectedTitle.toObject === \"function\" ? selectedTitle.toObject() : JSON.parse(JSON.stringify(selectedTitle));\n    return {\n        id: titleObj.id,\n        name: titleObj.name,\n        description: titleObj.description,\n        rarity: titleObj.rarity,\n        colorClass: getTitleRarityColor(titleObj.rarity)\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL2xpYi90aXRsZVN5c3RlbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJVXNlciB9IGZyb20gXCJAL21vZGVscy9Vc2VyXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRpdGxlRGVmaW5pdGlvbiB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBjb25kaXRpb246IHN0cmluZztcclxuICByYXJpdHk6IFwiY29tbW9uXCIgfCBcInJhcmVcIiB8IFwiZXBpY1wiIHwgXCJsZWdlbmRhcnlcIjtcclxuICBjaGVja0NvbmRpdGlvbjogKHVzZXI6IElVc2VyLCBzdGF0cz86IGFueSkgPT4gYm9vbGVhbjtcclxuICBhdXRvR3JhbnQ6IGJvb2xlYW47IC8vIOyekOuPmSDrtoDsl6wg7Jes67aAXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlclN0YXRzIHtcclxuICBsaWtlQ291bnQ6IG51bWJlcjtcclxuICBwbGF5bGlzdENvdW50OiBudW1iZXI7XHJcbiAgbG9naW5Db3VudDogbnVtYmVyO1xyXG4gIGNvbnNlY3V0aXZlRGF5czogbnVtYmVyO1xyXG59XHJcblxyXG4vLyDsua3tmLgg7KCV7J2Y65OkXHJcbmV4cG9ydCBjb25zdCBUSVRMRV9ERUZJTklUSU9OUzogVGl0bGVEZWZpbml0aW9uW10gPSBbXHJcbiAgLy8g6rSA66as7J6QIOy5re2YuCAo6riw7KG0IHJvbGUg6riw67CYKVxyXG4gIHtcclxuICAgIGlkOiBcInN1cGVyX2FkbWluXCIsXHJcbiAgICBuYW1lOiBcIuy1nOqzoCDqtIDrpqzsnpBcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIuyCrOydtO2KuOydmCDrqqjrk6Ag6raM7ZWc7J2EIOqwgOynhCDstZzqs6Ag6rSA66as7J6Q7J6F64uI64ukXCIsXHJcbiAgICBjb25kaXRpb246IFwi7IKs7J207Yq4IOq0gOumrOyekCDqtoztlZwg67O07JygXCIsXHJcbiAgICByYXJpdHk6IFwibGVnZW5kYXJ5XCIsXHJcbiAgICBjaGVja0NvbmRpdGlvbjogKHVzZXIpID0+IHVzZXIucm9sZSA9PT0gXCJzdXBlcl9hZG1pblwiLFxyXG4gICAgYXV0b0dyYW50OiB0cnVlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IFwiYXlhdWtlX2FkbWluXCIsXHJcbiAgICBuYW1lOiBcIuyVhOyVvOuDpeydtFwiLFxyXG4gICAgZGVzY3JpcHRpb246IFwi7Iqk7Yq466as66i4IOyVhOyVvOyXkOqyjCDrtoDsl6zrkJjripQg7Yq567OE7ZWcIOy5re2YuOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIuyCrOydtO2KuOulvCDshKDrrLzrsJvsnYAg7Iqk7Yq466as66i4XCIsXHJcbiAgICByYXJpdHk6IFwiZXBpY1wiLFxyXG4gICAgY2hlY2tDb25kaXRpb246ICh1c2VyKSA9PiB1c2VyLnJvbGUgPT09IFwiYXlhdWtlX2FkbWluXCIsXHJcbiAgICBhdXRvR3JhbnQ6IHRydWUsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogXCJob25leXpcIixcclxuICAgIG5hbWU6IFwiSE9ORVlaXCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCLtl4jri4jspojsl5Dqsowg67aA7Jes65CY64qUIOy5re2YuOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIu2XiOuLiOymiCDshozsho0g7Iqk7Yq466as66i4XCIsXHJcbiAgICByYXJpdHk6IFwiZXBpY1wiLFxyXG4gICAgY2hlY2tDb25kaXRpb246ICh1c2VyKSA9PiB7XHJcbiAgICAgIGNvbnN0IGhvbmV5ekNoYW5uZWxJZHMgPSBbXHJcbiAgICAgICAgXCJhYmU4YWE4MmJhZjNkM2VmNTRhZDg0NjhlZTczZTdmY1wiLCAvLyDslYTslbxcclxuICAgICAgICBcIjc5OGUxMDAyMDY5ODdiNTk4MDVjZmI3NWY5MjdlOTY1XCIsIC8vIOuUlOuUlOuUlOyaqVxyXG4gICAgICAgIFwiYjgyZThiYzI1MDVlMzcxNTZiMmQxMTQwYmExZmMwNWNcIiwgLy8g64u07Jyg7J20XHJcbiAgICAgICAgXCJjMGQ5NzIzY2JiNzVkYzIyM2M2YWE4YTlkNGY1NjAwMlwiLCAvLyDtl4jri4jsuITrn6zsiqRcclxuICAgICAgICBcImJkMDc5NzNiNjAyMWQ3MjUxMjI0MGMwMWEzODZkNWM5XCIsIC8vIOunneuCtFxyXG4gICAgICAgIFwiNjVhNTMwNzZmZTFhMzk2MzYwODJkZDZkYmE4YjhhNGJcIiwgLy8g7Jik7ZmU7JqUXHJcbiAgICAgICAgXCJkNjAxN2Y3NTc2MTQ1NjlhZGQ3MWIwYmM4M2E4MTM4MlwiLCAvLyDthYzsiqTtirhcclxuICAgICAgXTtcclxuICAgICAgcmV0dXJuIGhvbmV5ekNoYW5uZWxJZHMuaW5jbHVkZXModXNlci5jaGFubmVsSWQpO1xyXG4gICAgfSxcclxuICAgIGF1dG9HcmFudDogdHJ1ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiBcInNvbmdfYWRtaW5cIixcclxuICAgIG5hbWU6IFwi64W4656YIOq0gOumrOyekFwiLFxyXG4gICAgZGVzY3JpcHRpb246IFwi64W4656YIOygleuztOulvCDqtIDrpqztlZjripQg6rSA66as7J6Q7J6F64uI64ukXCIsXHJcbiAgICBjb25kaXRpb246IFwi64W4656YIOq0gOumrOyekCDqtoztlZwg67O07JygXCIsXHJcbiAgICByYXJpdHk6IFwiZXBpY1wiLFxyXG4gICAgY2hlY2tDb25kaXRpb246ICh1c2VyKSA9PiB1c2VyLnJvbGUgPT09IFwic29uZ19hZG1pblwiLFxyXG4gICAgYXV0b0dyYW50OiB0cnVlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IFwic29uZ19lZGl0b3JcIixcclxuICAgIG5hbWU6IFwi7Y647KeR7J6QXCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCLrhbjrnpgg7KCV67O066W8IO2OuOynke2VoCDsiJgg7J6I64qUIO2OuOynkeyekOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIu2OuOynkeyekCDqtoztlZwg67O07JygXCIsXHJcbiAgICByYXJpdHk6IFwicmFyZVwiLFxyXG4gICAgY2hlY2tDb25kaXRpb246ICh1c2VyKSA9PiB1c2VyLnJvbGUgPT09IFwic29uZ19lZGl0b3JcIixcclxuICAgIGF1dG9HcmFudDogdHJ1ZSxcclxuICB9LFxyXG5cclxuICAvLyDtmZzrj5kg6riw67CYIOy5re2YuFxyXG4gIHtcclxuICAgIGlkOiBcImNoenprX3VzZXJcIixcclxuICAgIG5hbWU6IFwi7LmY7KeA7KeBIOyCrOyaqeyekFwiLFxyXG4gICAgZGVzY3JpcHRpb246IFwi7JWE7JW87J2YIO2MrOyCrOydtO2KuOyXkCDsmKTsi6Ag6rKD7J2EIO2ZmOyYge2VqeuLiOuLpCFcIixcclxuICAgIGNvbmRpdGlvbjogXCLtmozsm5DqsIDsnoUg7IucIOyekOuPmSDrtoDsl6xcIixcclxuICAgIHJhcml0eTogXCJjb21tb25cIixcclxuICAgIGNoZWNrQ29uZGl0aW9uOiAoKSA9PiB0cnVlLCAvLyDrqqjrk6Ag7Iug6recIOyCrOyaqeyekOyXkOqyjCDrtoDsl6xcclxuICAgIGF1dG9HcmFudDogdHJ1ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiBcInJlZ3VsYXJfdmlzaXRvclwiLFxyXG4gICAgbmFtZTogXCLri6jqs6jshpDri5hcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIuyekOyjvCDrsKnrrLjtlbTso7zsi5zripQg7IaM7KSR7ZWcIOuLqOqzqOyGkOuLmOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIuuhnOq3uOyduCAxMO2ajCDsnbTsg4FcIixcclxuICAgIHJhcml0eTogXCJjb21tb25cIixcclxuICAgIGNoZWNrQ29uZGl0aW9uOiAodXNlciwgc3RhdHMpID0+IChzdGF0cz8ubG9naW5Db3VudCB8fCAwKSA+PSAxMCxcclxuICAgIGF1dG9HcmFudDogdHJ1ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiBcIm11c2ljX2xvdmVyXCIsXHJcbiAgICBuYW1lOiBcIuuFuOuemCDrp6Tri4jslYRcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIuydjOyVheydhCDsgqzrnpHtlZjripQg7KeE7KCV7ZWcIOunpOuLiOyVhOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIuyii+yVhOyalCA1MOqwnCDsnbTsg4FcIixcclxuICAgIHJhcml0eTogXCJyYXJlXCIsXHJcbiAgICBjaGVja0NvbmRpdGlvbjogKHVzZXIsIHN0YXRzKSA9PiAoc3RhdHM/Lmxpa2VDb3VudCB8fCAwKSA+PSA1MCxcclxuICAgIGF1dG9HcmFudDogdHJ1ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiBcInBsYXlsaXN0X2N1cmF0b3JcIixcclxuICAgIG5hbWU6IFwi7ZSM66CI7J2066as7Iqk7Yq4IO2BkOugiOydtO2EsFwiLFxyXG4gICAgZGVzY3JpcHRpb246IFwi7J2M7JWFIOy3qO2WpeydtCDrm7DslrTrgpwg7ZSM66CI7J2066as7Iqk7Yq4IOyghOusuOqwgOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIu2UjOugiOydtOumrOyKpO2KuCA16rCcIOydtOyDgSDsg53shLFcIixcclxuICAgIHJhcml0eTogXCJyYXJlXCIsXHJcbiAgICBjaGVja0NvbmRpdGlvbjogKHVzZXIsIHN0YXRzKSA9PiAoc3RhdHM/LnBsYXlsaXN0Q291bnQgfHwgMCkgPj0gNSxcclxuICAgIGF1dG9HcmFudDogdHJ1ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiBcImxveWFsX2ZhblwiLFxyXG4gICAgbmFtZTogXCLstqnshLHsiqTrn6zsmrQg7YysXCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCLslYTslbzrpbwg6r647KSA7Z6IIOydkeybkO2VtOyjvOyLnOuKlCDstqnshLHsiqTrn6zsmrQg7Yys7J6F64uI64ukXCIsXHJcbiAgICBjb25kaXRpb246IFwiMzDsnbwg7Jew7IaNIOygkeyGjVwiLFxyXG4gICAgcmFyaXR5OiBcImVwaWNcIixcclxuICAgIGNoZWNrQ29uZGl0aW9uOiAodXNlciwgc3RhdHMpID0+IChzdGF0cz8uY29uc2VjdXRpdmVEYXlzIHx8IDApID49IDMwLFxyXG4gICAgYXV0b0dyYW50OiB0cnVlLFxyXG4gIH0sXHJcblxyXG4gIC8vIO2KueuzhCDsua3tmLggKOyImOuPmSDrtoDsl6wpXHJcbiAge1xyXG4gICAgaWQ6IFwiZGV2ZWxvcGVyX2ZyaWVuZFwiLFxyXG4gICAgbmFtZTogXCLqsJzrsJzsnpDsnZgg7Lmc6rWsXCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCLqsJzrsJzsnpDsmYAg7Yq567OE7ZWcIOyduOyXsOydtCDsnojripQg7IaM7KSR7ZWcIOy5nOq1rOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIuqwnOuwnOyekOqwgCDsp4HsoJEg67aA7JesXCIsXHJcbiAgICByYXJpdHk6IFwibGVnZW5kYXJ5XCIsXHJcbiAgICBjaGVja0NvbmRpdGlvbjogKCkgPT4gZmFsc2UsIC8vIOyImOuPmSDrtoDsl6zrp4xcclxuICAgIGF1dG9HcmFudDogZmFsc2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogXCJiZXRhX3Rlc3RlclwiLFxyXG4gICAgbmFtZTogXCLrsqDtg4Ag7YWM7Iqk7YSwXCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCLsgqzsnbTtirgg7LSI6riw67aA7YSwIO2VqOq7mO2VtOyjvOyLoCDrsqDtg4Ag7YWM7Iqk7YSw7J6F64uI64ukXCIsXHJcbiAgICBjb25kaXRpb246IFwi7Yq57KCVIOq4sOqwhCDqsIDsnoXsnpBcIixcclxuICAgIHJhcml0eTogXCJlcGljXCIsXHJcbiAgICBjaGVja0NvbmRpdGlvbjogKCkgPT4gZmFsc2UsIC8vIOyImOuPmSDrtoDsl6zrp4xcclxuICAgIGF1dG9HcmFudDogZmFsc2UsXHJcbiAgfSxcclxuXTtcclxuXHJcbi8vIOy5re2YuCBJROuhnCDsoJXsnZgg7LC+6riwXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZURlZmluaXRpb24oXHJcbiAgdGl0bGVJZDogc3RyaW5nXHJcbik6IFRpdGxlRGVmaW5pdGlvbiB8IHVuZGVmaW5lZCB7XHJcbiAgcmV0dXJuIFRJVExFX0RFRklOSVRJT05TLmZpbmQoKHRpdGxlKSA9PiB0aXRsZS5pZCA9PT0gdGl0bGVJZCk7XHJcbn1cclxuXHJcbi8vIO2drOq3gOuPhOuzhCDsg4nsg4Eg67CY7ZmYXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZVJhcml0eUNvbG9yKHJhcml0eTogc3RyaW5nKTogc3RyaW5nIHtcclxuICBzd2l0Y2ggKHJhcml0eSkge1xyXG4gICAgY2FzZSBcImNvbW1vblwiOlxyXG4gICAgICByZXR1cm4gXCJiZy1ncmF5LTEwMCBkYXJrOmJnLWdyYXktODAwIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwIGJvcmRlciBib3JkZXItZ3JheS04MDAgZGFyazpib3JkZXItZ3JheS03MDBcIjtcclxuICAgIGNhc2UgXCJyYXJlXCI6XHJcbiAgICAgIHJldHVybiBcImJnLWJsdWUtMTAwIGRhcms6YmctYmx1ZS05MDAgdGV4dC1ibHVlLTgwMCBkYXJrOnRleHQtYmx1ZS0yMDAgYm9yZGVyIGJvcmRlci1ibHVlLTgwMCBkYXJrOmJvcmRlci1ibHVlLTcwMFwiO1xyXG4gICAgY2FzZSBcImVwaWNcIjpcclxuICAgICAgcmV0dXJuIFwiYmctcHVycGxlLTEwMCBkYXJrOmJnLXB1cnBsZS05MDAgdGV4dC1wdXJwbGUtODAwIGRhcms6dGV4dC1wdXJwbGUtMjAwIGJvcmRlciBib3JkZXItcHVycGxlLTgwMCBkYXJrOmJvcmRlci1wdXJwbGUtNzAwXCI7XHJcbiAgICBjYXNlIFwibGVnZW5kYXJ5XCI6XHJcbiAgICAgIHJldHVybiBcImJnLXllbGxvdy0xMDAgZGFyazpiZy15ZWxsb3ctOTAwIHRleHQteWVsbG93LTgwMCBkYXJrOnRleHQteWVsbG93LTIwMCBib3JkZXIgYm9yZGVyLXllbGxvdy04MDAgZGFyazpib3JkZXIteWVsbG93LTcwMFwiO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIFwiYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTgwMCB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMCBib3JkZXIgYm9yZGVyLWdyYXktODAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCI7XHJcbiAgfVxyXG59XHJcblxyXG4vLyDsgqzsmqnsnpDqsIAg7ZqN65Od7ZWgIOyImCDsnojripQg7IOI66Gc7Jq0IOy5re2YuCDtmZXsnbhcclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRm9yTmV3VGl0bGVzKFxyXG4gIHVzZXI6IElVc2VyLFxyXG4gIHN0YXRzPzogVXNlclN0YXRzXHJcbik6IFRpdGxlRGVmaW5pdGlvbltdIHtcclxuICBjb25zdCBjdXJyZW50VGl0bGVJZHMgPSB1c2VyLnRpdGxlcy5tYXAoKHRpdGxlKSA9PiB0aXRsZS5pZCk7XHJcbiAgY29uc3QgbmV3VGl0bGVzOiBUaXRsZURlZmluaXRpb25bXSA9IFtdO1xyXG5cclxuICBmb3IgKGNvbnN0IHRpdGxlRGVmIG9mIFRJVExFX0RFRklOSVRJT05TKSB7XHJcbiAgICAvLyDsnbTrr7gg67O07Jyg7ZWcIOy5re2YuOuKlCDqsbTrhIjrm7DquLBcclxuICAgIGlmIChjdXJyZW50VGl0bGVJZHMuaW5jbHVkZXModGl0bGVEZWYuaWQpKSBjb250aW51ZTtcclxuXHJcbiAgICAvLyDsnpDrj5kg67aA7JesIOy5re2YuOunjCDssrTtgaxcclxuICAgIGlmICghdGl0bGVEZWYuYXV0b0dyYW50KSBjb250aW51ZTtcclxuXHJcbiAgICAvLyDsobDqsbQg7ZmV7J24XHJcbiAgICBpZiAodGl0bGVEZWYuY2hlY2tDb25kaXRpb24odXNlciwgc3RhdHMpKSB7XHJcbiAgICAgIG5ld1RpdGxlcy5wdXNoKHRpdGxlRGVmKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBuZXdUaXRsZXM7XHJcbn1cclxuXHJcbi8vIOyCrOyaqeyekOyXkOqyjCDsua3tmLgg67aA7JesXHJcbmV4cG9ydCBmdW5jdGlvbiBncmFudFRpdGxlKHVzZXI6IElVc2VyLCB0aXRsZURlZjogVGl0bGVEZWZpbml0aW9uKTogYm9vbGVhbiB7XHJcbiAgY29uc29sZS5sb2coXCLwn4+GIOy5re2YuCDrtoDsl6wg7Iuc64+EOlwiLCB7XHJcbiAgICB0aXRsZUlkOiB0aXRsZURlZi5pZCxcclxuICAgIHRpdGxlTmFtZTogdGl0bGVEZWYubmFtZSxcclxuICB9KTtcclxuXHJcbiAgLy8g7J2066+4IOuztOycoO2VnCDsua3tmLjsnbjsp4Ag7ZmV7J24XHJcbiAgY29uc3QgYWxyZWFkeUhhcyA9IHVzZXIudGl0bGVzLnNvbWUoKHRpdGxlKSA9PiB0aXRsZS5pZCA9PT0gdGl0bGVEZWYuaWQpO1xyXG4gIGlmIChhbHJlYWR5SGFzKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIvCfj4Yg7J2066+4IOuztOycoO2VnCDsua3tmLg6XCIsIHRpdGxlRGVmLm5hbWUpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8g7Lmt7Zi4IOy2lOqwgFxyXG4gIGNvbnN0IG5ld1RpdGxlID0ge1xyXG4gICAgaWQ6IHRpdGxlRGVmLmlkLFxyXG4gICAgbmFtZTogdGl0bGVEZWYubmFtZSxcclxuICAgIGRlc2NyaXB0aW9uOiB0aXRsZURlZi5kZXNjcmlwdGlvbixcclxuICAgIGVhcm5lZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgY29uZGl0aW9uOiB0aXRsZURlZi5jb25kaXRpb24sXHJcbiAgICByYXJpdHk6IHRpdGxlRGVmLnJhcml0eSxcclxuICB9O1xyXG5cclxuICBjb25zb2xlLmxvZyhcIvCfj4Yg7Lmt7Zi4IOy2lOqwgCDsoIQgdGl0bGVzLmxlbmd0aDpcIiwgdXNlci50aXRsZXMubGVuZ3RoKTtcclxuICB1c2VyLnRpdGxlcy5wdXNoKG5ld1RpdGxlKTtcclxuICBjb25zb2xlLmxvZyhcIvCfj4Yg7Lmt7Zi4IOy2lOqwgCDtm4QgdGl0bGVzLmxlbmd0aDpcIiwgdXNlci50aXRsZXMubGVuZ3RoKTtcclxuICBjb25zb2xlLmxvZyhcIvCfj4Yg7LaU6rCA65CcIOy5re2YuDpcIiwgbmV3VGl0bGUpO1xyXG5cclxuICAvLyDssqsg67KI7Ke4IOy5re2YuOudvOuptCDsnpDrj5nsnLzroZwg7ISg7YOdXHJcbiAgaWYgKCF1c2VyLnNlbGVjdGVkVGl0bGUpIHtcclxuICAgIHVzZXIuc2VsZWN0ZWRUaXRsZSA9IHRpdGxlRGVmLmlkO1xyXG4gICAgY29uc29sZS5sb2coXCLwn4+GIOyyqyDrsojsp7gg7Lmt7Zi466GcIOyEoO2DneuQqDpcIiwgdGl0bGVEZWYuaWQpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8vIOyEoO2DneuQnCDsua3tmLgg7KCV67O0IOqwgOyguOyYpOq4sFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRUaXRsZUluZm8odXNlcjogSVVzZXIpIHtcclxuICBpZiAoIXVzZXIuc2VsZWN0ZWRUaXRsZSkgcmV0dXJuIG51bGw7XHJcblxyXG4gIGNvbnN0IHNlbGVjdGVkVGl0bGUgPSB1c2VyLnRpdGxlcy5maW5kKFxyXG4gICAgKHRpdGxlKSA9PiB0aXRsZS5pZCA9PT0gdXNlci5zZWxlY3RlZFRpdGxlXHJcbiAgKTtcclxuICBpZiAoIXNlbGVjdGVkVGl0bGUpIHJldHVybiBudWxsO1xyXG5cclxuICAvLyBNb25nb29zZSDqsJ3ssrTrpbwg7Iic7IiY7ZWcIEphdmFTY3JpcHQg6rCd7LK066GcIOuzgO2ZmFxyXG4gIGNvbnN0IHRpdGxlT2JqID1cclxuICAgIHR5cGVvZiBzZWxlY3RlZFRpdGxlLnRvT2JqZWN0ID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgPyBzZWxlY3RlZFRpdGxlLnRvT2JqZWN0KClcclxuICAgICAgOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNlbGVjdGVkVGl0bGUpKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGlkOiB0aXRsZU9iai5pZCxcclxuICAgIG5hbWU6IHRpdGxlT2JqLm5hbWUsXHJcbiAgICBkZXNjcmlwdGlvbjogdGl0bGVPYmouZGVzY3JpcHRpb24sXHJcbiAgICByYXJpdHk6IHRpdGxlT2JqLnJhcml0eSxcclxuICAgIGNvbG9yQ2xhc3M6IGdldFRpdGxlUmFyaXR5Q29sb3IodGl0bGVPYmoucmFyaXR5KSxcclxuICB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJUSVRMRV9ERUZJTklUSU9OUyIsImlkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiY29uZGl0aW9uIiwicmFyaXR5IiwiY2hlY2tDb25kaXRpb24iLCJ1c2VyIiwicm9sZSIsImF1dG9HcmFudCIsImhvbmV5ekNoYW5uZWxJZHMiLCJpbmNsdWRlcyIsImNoYW5uZWxJZCIsInN0YXRzIiwibG9naW5Db3VudCIsImxpa2VDb3VudCIsInBsYXlsaXN0Q291bnQiLCJjb25zZWN1dGl2ZURheXMiLCJnZXRUaXRsZURlZmluaXRpb24iLCJ0aXRsZUlkIiwiZmluZCIsInRpdGxlIiwiZ2V0VGl0bGVSYXJpdHlDb2xvciIsImNoZWNrRm9yTmV3VGl0bGVzIiwiY3VycmVudFRpdGxlSWRzIiwidGl0bGVzIiwibWFwIiwibmV3VGl0bGVzIiwidGl0bGVEZWYiLCJwdXNoIiwiZ3JhbnRUaXRsZSIsImNvbnNvbGUiLCJsb2ciLCJ0aXRsZU5hbWUiLCJhbHJlYWR5SGFzIiwic29tZSIsIm5ld1RpdGxlIiwiZWFybmVkQXQiLCJEYXRlIiwibGVuZ3RoIiwic2VsZWN0ZWRUaXRsZSIsImdldFNlbGVjdGVkVGl0bGVJbmZvIiwidGl0bGVPYmoiLCJ0b09iamVjdCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImNvbG9yQ2xhc3MiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/titleSystem.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/userService.ts":
/*!********************************!*\
  !*** ./src/lib/userService.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createOrUpdateUser: () => (/* binding */ createOrUpdateUser),\n/* harmony export */   getAdminUsers: () => (/* binding */ getAdminUsers),\n/* harmony export */   getUserByChannelId: () => (/* binding */ getUserByChannelId),\n/* harmony export */   getUserStats: () => (/* binding */ getUserStats),\n/* harmony export */   updateUserPreferences: () => (/* binding */ updateUserPreferences)\n/* harmony export */ });\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/models/User */ \"(rsc)/./src/models/User.ts\");\n/* harmony import */ var _lib_adminChannels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/adminChannels */ \"(rsc)/./src/lib/adminChannels.ts\");\n/* harmony import */ var _lib_titleSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/titleSystem */ \"(rsc)/./src/lib/titleSystem.ts\");\n\n\n\n/**\r\n * ÏÇ¨Ïö©Ïûê ÏÉùÏÑ± ÎòêÎäî ÏóÖÎç∞Ïù¥Ìä∏ (Î°úÍ∑∏Ïù∏ Ïãú Ìò∏Ï∂ú)\r\n */ async function createOrUpdateUser(userData) {\n    try {\n        const staticRole = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_1__.getStaticUserRole)(userData.channelId);\n        // Í∏∞Ï°¥ ÏÇ¨Ïö©Ïûê Ï∞æÍ∏∞\n        let user = await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n            channelId: userData.channelId\n        });\n        if (user) {\n            // Í∏∞Ï°¥ ÏÇ¨Ïö©Ïûê ÏóÖÎç∞Ïù¥Ìä∏\n            const oldChannelName = user.channelName;\n            const newChannelName = userData.channelName;\n            // channelName Î≥ÄÍ≤Ω Í∞êÏßÄ Î∞è Ïù¥Î†• Ï∂îÍ∞Ä\n            if (oldChannelName !== newChannelName) {\n                user.channelNameHistory.push({\n                    channelName: newChannelName,\n                    changedAt: new Date(),\n                    source: \"login\"\n                });\n                console.log(`ÏπòÏßÄÏßÅ Ï±ÑÎÑêÎ™Ö Î≥ÄÍ≤Ω Í∞êÏßÄ: ${oldChannelName} ‚Üí ${newChannelName}`);\n            }\n            user.channelName = newChannelName;\n            // displayNameÏù¥ ÏóÜÏúºÎ©¥ channelNameÏúºÎ°ú ÏÑ§Ï†ïÌïòÏßÄ ÏïäÏùå (ÌîÑÎ°úÌïÑ ÏàòÏ†ï ÏãúÏóêÎßå ÏÉùÏÑ±)\n            user.profileImageUrl = userData.profileImageUrl || user.profileImageUrl;\n            // Ï†ïÏ†Å Í∂åÌïúÏù¥ ÌòÑÏû¨ Í∂åÌïúÎ≥¥Îã§ ÎÜíÏúºÎ©¥ ÏóÖÎç∞Ïù¥Ìä∏\n            // if (staticRole !== 'user' && (user.role === 'user' || staticRole === 'super_admin')) {\n            //   user.role = staticRole\n            //   console.log(`ÏÇ¨Ïö©Ïûê Í∂åÌïú ÏóÖÎç∞Ïù¥Ìä∏: ${userData.channelName} ‚Üí ${staticRole}`)\n            // }\n            user.lastLoginAt = new Date();\n            // Í∏∞Ï°¥ ÏÇ¨Ïö©ÏûêÏùò Ïπ≠Ìò∏ ÌïÑÎìúÍ∞Ä ÏóÜÏúºÎ©¥ Ï¥àÍ∏∞Ìôî\n            if (!user.titles) {\n                user.titles = [];\n            }\n            if (user.selectedTitle === undefined) {\n                user.selectedTitle = null;\n            }\n            // Ïπ≠Ìò∏ Ï≤¥ÌÅ¨ Î∞è Î∂ÄÏó¨\n            await checkAndGrantTitles(user);\n            const savedUser = await user.save();\n            console.log(`Í∏∞Ï°¥ ÏÇ¨Ïö©Ïûê ÏóÖÎç∞Ïù¥Ìä∏: ${userData.channelName} (${userData.channelId})`);\n            // Ï†ÄÏû• ÌõÑ Ïã§Ï†ú DB ÏÉÅÌÉú ÌôïÏù∏\n            console.log(\"üèÜ Ï†ÄÏû• ÌõÑ DB ÏÉÅÌÉú:\", {\n                titlesCount: savedUser.titles?.length || 0,\n                selectedTitle: savedUser.selectedTitle,\n                titles: savedUser.titles?.map((t)=>t.name) || []\n            });\n            // DBÏóêÏÑú Îã§Ïãú Ï°∞ÌöåÌï¥ÏÑú Ïã§Ï†ú Ï†ÄÏû• ÌôïÏù∏\n            const reloadedUser = await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n                channelId: userData.channelId\n            });\n            console.log(\"üèÜ DB Ïû¨Ï°∞Ìöå Í≤∞Í≥º:\", {\n                titlesCount: reloadedUser?.titles?.length || 0,\n                selectedTitle: reloadedUser?.selectedTitle,\n                titles: reloadedUser?.titles?.map((t)=>t.name) || []\n            });\n        } else {\n            // ÏÉà ÏÇ¨Ïö©Ïûê ÏÉùÏÑ±\n            user = new _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n                channelId: userData.channelId,\n                channelName: userData.channelName,\n                displayName: userData.channelName,\n                profileImageUrl: userData.profileImageUrl,\n                role: staticRole,\n                lastLoginAt: new Date(),\n                channelNameHistory: [\n                    {\n                        channelName: userData.channelName,\n                        changedAt: new Date(),\n                        source: \"initial\"\n                    }\n                ],\n                titles: [],\n                selectedTitle: null,\n                preferences: {\n                    theme: \"system\",\n                    defaultPlaylistView: \"grid\"\n                }\n            });\n            // Ïã†Í∑ú ÏÇ¨Ïö©Ïûê Ïπ≠Ìò∏ Ï≤¥ÌÅ¨ Î∞è Î∂ÄÏó¨\n            await checkAndGrantTitles(user);\n            await user.save();\n            console.log(`ÏÉà ÏÇ¨Ïö©Ïûê ÏÉùÏÑ±: ${userData.channelName} (${userData.channelId}) - Í∂åÌïú: ${staticRole}`);\n        }\n        return user;\n    } catch (error) {\n        console.error(\"ÏÇ¨Ïö©Ïûê ÏÉùÏÑ±/ÏóÖÎç∞Ïù¥Ìä∏ Ïò§Î•ò:\", error);\n        throw error;\n    }\n}\n/**\r\n * ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ Ï°∞Ìöå\r\n */ async function getUserByChannelId(channelId) {\n    try {\n        return await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n            channelId\n        });\n    } catch (error) {\n        console.error(\"ÏÇ¨Ïö©Ïûê Ï°∞Ìöå Ïò§Î•ò:\", error);\n        return null;\n    }\n}\n/**\r\n * ÏÇ¨Ïö©Ïûê ÌôòÍ≤ΩÏÑ§Ï†ï ÏóÖÎç∞Ïù¥Ìä∏\r\n */ async function updateUserPreferences(channelId, preferences) {\n    try {\n        const user = await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n            channelId\n        });\n        if (!user) return null;\n        user.preferences = {\n            ...user.preferences,\n            ...preferences\n        };\n        await user.save();\n        return user;\n    } catch (error) {\n        console.error(\"ÏÇ¨Ïö©Ïûê ÌôòÍ≤ΩÏÑ§Ï†ï ÏóÖÎç∞Ïù¥Ìä∏ Ïò§Î•ò:\", error);\n        return null;\n    }\n}\n/**\r\n * Í¥ÄÎ¶¨Ïûê Î™©Î°ù Ï°∞Ìöå\r\n */ async function getAdminUsers() {\n    try {\n        return await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({\n            role: {\n                $ne: \"user\"\n            }\n        }).sort({\n            lastLoginAt: -1\n        });\n    } catch (error) {\n        console.error(\"Í¥ÄÎ¶¨Ïûê Î™©Î°ù Ï°∞Ìöå Ïò§Î•ò:\", error);\n        return [];\n    }\n}\n/**\r\n * ÌôúÏÑ± ÏÇ¨Ïö©Ïûê ÌÜµÍ≥Ñ\r\n */ async function getUserStats() {\n    try {\n        const totalUsers = await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countDocuments();\n        const activeUsers = await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countDocuments({\n            lastLoginAt: {\n                $gte: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000)\n            }\n        });\n        const adminUsers = await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countDocuments({\n            role: {\n                $ne: \"user\"\n            }\n        });\n        return {\n            totalUsers,\n            activeUsers,\n            adminUsers\n        };\n    } catch (error) {\n        console.error(\"ÏÇ¨Ïö©Ïûê ÌÜµÍ≥Ñ Ï°∞Ìöå Ïò§Î•ò:\", error);\n        return {\n            totalUsers: 0,\n            activeUsers: 0,\n            adminUsers: 0\n        };\n    }\n}\n/**\r\n * ÏÇ¨Ïö©Ïûê ÌÜµÍ≥Ñ ÏàòÏßë\r\n */ async function getUserStatsForTitles(user) {\n    try {\n        // Like Î™®Îç∏ÏóêÏÑú Ìï¥Îãπ ÏÇ¨Ïö©ÏûêÏùò Ï¢ãÏïÑÏöî Ïàò Ï°∞Ìöå\n        const Like = (await __webpack_require__.e(/*! import() */ \"_rsc_src_models_Like_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/models/Like */ \"(rsc)/./src/models/Like.ts\"))).default;\n        const likeCount = await Like.countDocuments({\n            userId: user._id\n        });\n        // Playlist Î™®Îç∏ÏóêÏÑú Ìï¥Îãπ ÏÇ¨Ïö©ÏûêÏùò ÌîåÎ†àÏù¥Î¶¨Ïä§Ìä∏ Ïàò Ï°∞Ìöå\n        const Playlist = (await __webpack_require__.e(/*! import() */ \"_rsc_src_models_Playlist_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/models/Playlist */ \"(rsc)/./src/models/Playlist.ts\"))).default;\n        const playlistCount = await Playlist.countDocuments({\n            userId: user._id\n        });\n        // Ïã§Ï†ú ÌôúÎèô ÌÜµÍ≥Ñ ÏÇ¨Ïö© (activityStatsÍ∞Ä ÏóÜÏúºÎ©¥ Í∏∞Î≥∏Í∞í)\n        const activityStats = user.activityStats || {\n            totalLoginDays: 1,\n            currentStreak: 1,\n            longestStreak: 1,\n            lastVisitDate: null\n        };\n        return {\n            likeCount,\n            playlistCount,\n            loginCount: activityStats.totalLoginDays,\n            consecutiveDays: activityStats.currentStreak\n        };\n    } catch (error) {\n        console.error(\"ÏÇ¨Ïö©Ïûê ÌÜµÍ≥Ñ ÏàòÏßë Ïò§Î•ò:\", error);\n        return {\n            likeCount: 0,\n            playlistCount: 0,\n            loginCount: 1,\n            consecutiveDays: 1\n        };\n    }\n}\n/**\r\n * ÏÇ¨Ïö©Ïûê Ïπ≠Ìò∏ Ï≤¥ÌÅ¨ Î∞è Î∂ÄÏó¨\r\n */ async function checkAndGrantTitles(user) {\n    try {\n        // Í∏∞Ï°¥ Ïπ≠Ìò∏Í∞Ä ÏóÜÏúºÎ©¥ Îπà Î∞∞Ïó¥Î°ú Ï¥àÍ∏∞Ìôî\n        if (!user.titles) {\n            user.titles = [];\n        }\n        if (user.selectedTitle === undefined) {\n            user.selectedTitle = null;\n        }\n        // ÏÇ¨Ïö©Ïûê ÌÜµÍ≥Ñ ÏàòÏßë\n        const stats = await getUserStatsForTitles(user);\n        // ÏÉàÎ°ú ÌöçÎìùÌï† Ïàò ÏûàÎäî Ïπ≠Ìò∏ ÌôïÏù∏\n        const newTitleDefs = (0,_lib_titleSystem__WEBPACK_IMPORTED_MODULE_2__.checkForNewTitles)(user, stats);\n        // ÏÉà Ïπ≠Ìò∏ Î∂ÄÏó¨\n        let grantedCount = 0;\n        for (const titleDef of newTitleDefs){\n            if ((0,_lib_titleSystem__WEBPACK_IMPORTED_MODULE_2__.grantTitle)(user, titleDef)) {\n                grantedCount++;\n                console.log(`Ïπ≠Ìò∏ Î∂ÄÏó¨: ${user.channelName} ‚Üí ${titleDef.name}`);\n                // MongooseÍ∞Ä Î∞∞Ïó¥ Î≥ÄÍ≤ΩÏùÑ Í∞êÏßÄÌïòÎèÑÎ°ù Î™ÖÏãúÏ†ÅÏúºÎ°ú ÌëúÏãú\n                user.markModified(\"titles\");\n                user.markModified(\"selectedTitle\");\n            }\n        }\n        if (grantedCount > 0) {\n            console.log(`Ï¥ù ${grantedCount}Í∞úÏùò ÏÉàÎ°úÏö¥ Ïπ≠Ìò∏Î•º Î∂ÄÏó¨ÌñàÏäµÎãàÎã§`);\n            console.log(\"üèÜ ÌòÑÏû¨ ÏÇ¨Ïö©Ïûê Ïπ≠Ìò∏ ÏÉÅÌÉú:\", {\n                titlesCount: user.titles.length,\n                selectedTitle: user.selectedTitle,\n                titles: user.titles.map((t)=>t.name)\n            });\n        }\n    } catch (error) {\n        console.error(\"Ïπ≠Ìò∏ Ï≤¥ÌÅ¨ Î∞è Î∂ÄÏó¨ Ïò§Î•ò:\", error);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBS2MsTUFBTSxDQUFDTyxNQUFNO2dCQUMvQk4sZUFBZWYsS0FBS2UsYUFBYTtnQkFDakNELFFBQVFkLEtBQUtjLE1BQU0sQ0FBQ1EsR0FBRyxDQUFDLENBQUNDLElBQU1BLEVBQUVDLElBQUk7WUFDdkM7UUFDRjtJQUNGLEVBQUUsT0FBT08sT0FBTztRQUNkckIsUUFBUXFCLEtBQUssQ0FBQyxrQkFBa0JBO0lBQ2xDO0FBQ0YiLCJzb3VyY2VzIjpbIi9tbnQvZi9EYXRhL0dpdC9jbGF1ZGUtY29kZS9heWF1a2UtcGFnZS9heWF1a2UtcGFnZS9zcmMvbGliL3VzZXJTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuaW1wb3J0IFVzZXIsIHsgSVVzZXIgfSBmcm9tIFwiQC9tb2RlbHMvVXNlclwiO1xyXG5pbXBvcnQgeyBnZXRTdGF0aWNVc2VyUm9sZSB9IGZyb20gXCJAL2xpYi9hZG1pbkNoYW5uZWxzXCI7XHJcbmltcG9ydCB7IGNoZWNrRm9yTmV3VGl0bGVzLCBncmFudFRpdGxlLCBVc2VyU3RhdHMgfSBmcm9tIFwiQC9saWIvdGl0bGVTeXN0ZW1cIjtcclxuXHJcbi8qKlxyXG4gKiDsgqzsmqnsnpAg7IOd7ISxIOuYkOuKlCDsl4XrjbDsnbTtirggKOuhnOq3uOyduCDsi5wg7Zi47LacKVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlVXNlcih1c2VyRGF0YToge1xyXG4gIGNoYW5uZWxJZDogc3RyaW5nO1xyXG4gIGNoYW5uZWxOYW1lOiBzdHJpbmc7XHJcbiAgcHJvZmlsZUltYWdlVXJsPzogc3RyaW5nO1xyXG59KTogUHJvbWlzZTxJVXNlcj4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdGF0aWNSb2xlID0gZ2V0U3RhdGljVXNlclJvbGUodXNlckRhdGEuY2hhbm5lbElkKTtcclxuXHJcbiAgICAvLyDquLDsobQg7IKs7Jqp7J6QIOywvuq4sFxyXG4gICAgbGV0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBjaGFubmVsSWQ6IHVzZXJEYXRhLmNoYW5uZWxJZCB9KTtcclxuXHJcbiAgICBpZiAodXNlcikge1xyXG4gICAgICAvLyDquLDsobQg7IKs7Jqp7J6QIOyXheuNsOydtO2KuFxyXG4gICAgICBjb25zdCBvbGRDaGFubmVsTmFtZSA9IHVzZXIuY2hhbm5lbE5hbWU7XHJcbiAgICAgIGNvbnN0IG5ld0NoYW5uZWxOYW1lID0gdXNlckRhdGEuY2hhbm5lbE5hbWU7XHJcblxyXG4gICAgICAvLyBjaGFubmVsTmFtZSDrs4Dqsr0g6rCQ7KeAIOuwjyDsnbTroKUg7LaU6rCAXHJcbiAgICAgIGlmIChvbGRDaGFubmVsTmFtZSAhPT0gbmV3Q2hhbm5lbE5hbWUpIHtcclxuICAgICAgICB1c2VyLmNoYW5uZWxOYW1lSGlzdG9yeS5wdXNoKHtcclxuICAgICAgICAgIGNoYW5uZWxOYW1lOiBuZXdDaGFubmVsTmFtZSxcclxuICAgICAgICAgIGNoYW5nZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICAgIHNvdXJjZTogXCJsb2dpblwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgYOy5mOyngOyngSDssYTrhJDrqoUg67OA6rK9IOqwkOyngDogJHtvbGRDaGFubmVsTmFtZX0g4oaSICR7bmV3Q2hhbm5lbE5hbWV9YFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHVzZXIuY2hhbm5lbE5hbWUgPSBuZXdDaGFubmVsTmFtZTtcclxuICAgICAgLy8gZGlzcGxheU5hbWXsnbQg7JeG7Jy866m0IGNoYW5uZWxOYW1l7Jy866GcIOyEpOygle2VmOyngCDslYrsnYwgKO2UhOuhnO2VhCDsiJjsoJUg7Iuc7JeQ66eMIOyDneyEsSlcclxuICAgICAgdXNlci5wcm9maWxlSW1hZ2VVcmwgPSB1c2VyRGF0YS5wcm9maWxlSW1hZ2VVcmwgfHwgdXNlci5wcm9maWxlSW1hZ2VVcmw7XHJcblxyXG4gICAgICAvLyDsoJXsoIEg6raM7ZWc7J20IO2YhOyerCDqtoztlZzrs7Tri6Qg64aS7Jy866m0IOyXheuNsOydtO2KuFxyXG4gICAgICAvLyBpZiAoc3RhdGljUm9sZSAhPT0gJ3VzZXInICYmICh1c2VyLnJvbGUgPT09ICd1c2VyJyB8fCBzdGF0aWNSb2xlID09PSAnc3VwZXJfYWRtaW4nKSkge1xyXG4gICAgICAvLyAgIHVzZXIucm9sZSA9IHN0YXRpY1JvbGVcclxuICAgICAgLy8gICBjb25zb2xlLmxvZyhg7IKs7Jqp7J6QIOq2jO2VnCDsl4XrjbDsnbTtirg6ICR7dXNlckRhdGEuY2hhbm5lbE5hbWV9IOKGkiAke3N0YXRpY1JvbGV9YClcclxuICAgICAgLy8gfVxyXG5cclxuICAgICAgdXNlci5sYXN0TG9naW5BdCA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAvLyDquLDsobQg7IKs7Jqp7J6Q7J2YIOy5re2YuCDtlYTrk5zqsIAg7JeG7Jy866m0IOy0iOq4sO2ZlFxyXG4gICAgICBpZiAoIXVzZXIudGl0bGVzKSB7XHJcbiAgICAgICAgdXNlci50aXRsZXMgPSBbXTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodXNlci5zZWxlY3RlZFRpdGxlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB1c2VyLnNlbGVjdGVkVGl0bGUgPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDsua3tmLgg7LK07YGsIOuwjyDrtoDsl6xcclxuICAgICAgYXdhaXQgY2hlY2tBbmRHcmFudFRpdGxlcyh1c2VyKTtcclxuXHJcbiAgICAgIGNvbnN0IHNhdmVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBg6riw7KG0IOyCrOyaqeyekCDsl4XrjbDsnbTtirg6ICR7dXNlckRhdGEuY2hhbm5lbE5hbWV9ICgke3VzZXJEYXRhLmNoYW5uZWxJZH0pYFxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8g7KCA7J6lIO2bhCDsi6TsoJwgREIg7IOB7YOcIO2ZleyduFxyXG4gICAgICBjb25zb2xlLmxvZyhcIvCfj4Yg7KCA7J6lIO2bhCBEQiDsg4Htg5w6XCIsIHtcclxuICAgICAgICB0aXRsZXNDb3VudDogc2F2ZWRVc2VyLnRpdGxlcz8ubGVuZ3RoIHx8IDAsXHJcbiAgICAgICAgc2VsZWN0ZWRUaXRsZTogc2F2ZWRVc2VyLnNlbGVjdGVkVGl0bGUsXHJcbiAgICAgICAgdGl0bGVzOiBzYXZlZFVzZXIudGl0bGVzPy5tYXAoKHQ6IGFueSkgPT4gdC5uYW1lKSB8fCBbXSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBEQuyXkOyEnCDri6Tsi5wg7KGw7ZqM7ZW07IScIOyLpOygnCDsoIDsnqUg7ZmV7J24XHJcbiAgICAgIGNvbnN0IHJlbG9hZGVkVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XHJcbiAgICAgICAgY2hhbm5lbElkOiB1c2VyRGF0YS5jaGFubmVsSWQsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIvCfj4YgREIg7J6s7KGw7ZqMIOqysOqzvDpcIiwge1xyXG4gICAgICAgIHRpdGxlc0NvdW50OiByZWxvYWRlZFVzZXI/LnRpdGxlcz8ubGVuZ3RoIHx8IDAsXHJcbiAgICAgICAgc2VsZWN0ZWRUaXRsZTogcmVsb2FkZWRVc2VyPy5zZWxlY3RlZFRpdGxlLFxyXG4gICAgICAgIHRpdGxlczogcmVsb2FkZWRVc2VyPy50aXRsZXM/Lm1hcCgodDogYW55KSA9PiB0Lm5hbWUpIHx8IFtdLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIOyDiCDsgqzsmqnsnpAg7IOd7ISxXHJcbiAgICAgIHVzZXIgPSBuZXcgVXNlcih7XHJcbiAgICAgICAgY2hhbm5lbElkOiB1c2VyRGF0YS5jaGFubmVsSWQsXHJcbiAgICAgICAgY2hhbm5lbE5hbWU6IHVzZXJEYXRhLmNoYW5uZWxOYW1lLFxyXG4gICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyRGF0YS5jaGFubmVsTmFtZSwgLy8g6rCA7J6F7IucIGNoYW5uZWxOYW1l7J2EIGRpc3BsYXlOYW1l7Jy866GcIOyEpOyglVxyXG4gICAgICAgIHByb2ZpbGVJbWFnZVVybDogdXNlckRhdGEucHJvZmlsZUltYWdlVXJsLFxyXG4gICAgICAgIHJvbGU6IHN0YXRpY1JvbGUsXHJcbiAgICAgICAgbGFzdExvZ2luQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgY2hhbm5lbE5hbWVIaXN0b3J5OiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGNoYW5uZWxOYW1lOiB1c2VyRGF0YS5jaGFubmVsTmFtZSxcclxuICAgICAgICAgICAgY2hhbmdlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBzb3VyY2U6IFwiaW5pdGlhbFwiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIHRpdGxlczogW10sIC8vIOu5iCDsua3tmLgg67Cw7Je066GcIOy0iOq4sO2ZlFxyXG4gICAgICAgIHNlbGVjdGVkVGl0bGU6IG51bGwsXHJcbiAgICAgICAgcHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIHRoZW1lOiBcInN5c3RlbVwiLFxyXG4gICAgICAgICAgZGVmYXVsdFBsYXlsaXN0VmlldzogXCJncmlkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyDsi6Dqt5wg7IKs7Jqp7J6QIOy5re2YuCDssrTtgawg67CPIOu2gOyXrFxyXG4gICAgICBhd2FpdCBjaGVja0FuZEdyYW50VGl0bGVzKHVzZXIpO1xyXG5cclxuICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgIGDsg4gg7IKs7Jqp7J6QIOyDneyEsTogJHt1c2VyRGF0YS5jaGFubmVsTmFtZX0gKCR7dXNlckRhdGEuY2hhbm5lbElkfSkgLSDqtoztlZw6ICR7c3RhdGljUm9sZX1gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHVzZXI7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCLsgqzsmqnsnpAg7IOd7ISxL+yXheuNsOydtO2KuCDsmKTrpZg6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOyCrOyaqeyekCDsoJXrs7Qg7KGw7ZqMXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5Q2hhbm5lbElkKFxyXG4gIGNoYW5uZWxJZDogc3RyaW5nXHJcbik6IFByb21pc2U8SVVzZXIgfCBudWxsPiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBhd2FpdCBVc2VyLmZpbmRPbmUoeyBjaGFubmVsSWQgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCLsgqzsmqnsnpAg7KGw7ZqMIOyYpOulmDpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICog7IKs7Jqp7J6QIO2ZmOqyveyEpOyglSDsl4XrjbDsnbTtirhcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyUHJlZmVyZW5jZXMoXHJcbiAgY2hhbm5lbElkOiBzdHJpbmcsXHJcbiAgcHJlZmVyZW5jZXM6IFBhcnRpYWw8SVVzZXJbXCJwcmVmZXJlbmNlc1wiXT5cclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBjaGFubmVsSWQgfSk7XHJcbiAgICBpZiAoIXVzZXIpIHJldHVybiBudWxsO1xyXG5cclxuICAgIHVzZXIucHJlZmVyZW5jZXMgPSB7IC4uLnVzZXIucHJlZmVyZW5jZXMsIC4uLnByZWZlcmVuY2VzIH07XHJcbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcclxuXHJcbiAgICByZXR1cm4gdXNlcjtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIuyCrOyaqeyekCDtmZjqsr3shKTsoJUg7JeF642w7J207Yq4IOyYpOulmDpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICog6rSA66as7J6QIOuqqeuhnSDsobDtmoxcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBZG1pblVzZXJzKCk6IFByb21pc2U8SVVzZXJbXT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgVXNlci5maW5kKHsgcm9sZTogeyAkbmU6IFwidXNlclwiIH0gfSkuc29ydCh7IGxhc3RMb2dpbkF0OiAtMSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIuq0gOumrOyekCDrqqnroZ0g7KGw7ZqMIOyYpOulmDpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIO2ZnOyEsSDsgqzsmqnsnpAg7Ya16rOEXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclN0YXRzKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB0b3RhbFVzZXJzID0gYXdhaXQgVXNlci5jb3VudERvY3VtZW50cygpO1xyXG4gICAgY29uc3QgYWN0aXZlVXNlcnMgPSBhd2FpdCBVc2VyLmNvdW50RG9jdW1lbnRzKHtcclxuICAgICAgbGFzdExvZ2luQXQ6IHsgJGd0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCkgfSwgLy8gMzDsnbwg64K0XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGFkbWluVXNlcnMgPSBhd2FpdCBVc2VyLmNvdW50RG9jdW1lbnRzKHsgcm9sZTogeyAkbmU6IFwidXNlclwiIH0gfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG90YWxVc2VycyxcclxuICAgICAgYWN0aXZlVXNlcnMsXHJcbiAgICAgIGFkbWluVXNlcnMsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi7IKs7Jqp7J6QIO2GteqzhCDsobDtmowg7Jik66WYOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3RhbFVzZXJzOiAwLFxyXG4gICAgICBhY3RpdmVVc2VyczogMCxcclxuICAgICAgYWRtaW5Vc2VyczogMCxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICog7IKs7Jqp7J6QIO2GteqzhCDsiJjsp5FcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGdldFVzZXJTdGF0c0ZvclRpdGxlcyh1c2VyOiBJVXNlcik6IFByb21pc2U8VXNlclN0YXRzPiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIExpa2Ug66qo64247JeQ7IScIO2VtOuLuSDsgqzsmqnsnpDsnZgg7KKL7JWE7JqUIOyImCDsobDtmoxcclxuICAgIGNvbnN0IExpa2UgPSAoYXdhaXQgaW1wb3J0KFwiQC9tb2RlbHMvTGlrZVwiKSkuZGVmYXVsdDtcclxuICAgIGNvbnN0IGxpa2VDb3VudCA9IGF3YWl0IExpa2UuY291bnREb2N1bWVudHMoeyB1c2VySWQ6IHVzZXIuX2lkIH0pO1xyXG5cclxuICAgIC8vIFBsYXlsaXN0IOuqqOuNuOyXkOyEnCDtlbTri7kg7IKs7Jqp7J6Q7J2YIO2UjOugiOydtOumrOyKpO2KuCDsiJgg7KGw7ZqMXHJcbiAgICBjb25zdCBQbGF5bGlzdCA9IChhd2FpdCBpbXBvcnQoXCJAL21vZGVscy9QbGF5bGlzdFwiKSkuZGVmYXVsdDtcclxuICAgIGNvbnN0IHBsYXlsaXN0Q291bnQgPSBhd2FpdCBQbGF5bGlzdC5jb3VudERvY3VtZW50cyh7IHVzZXJJZDogdXNlci5faWQgfSk7XHJcblxyXG4gICAgLy8g7Iuk7KCcIO2ZnOuPmSDthrXqs4Qg7IKs7JqpIChhY3Rpdml0eVN0YXRz6rCAIOyXhuycvOuptCDquLDrs7jqsJIpXHJcbiAgICBjb25zdCBhY3Rpdml0eVN0YXRzID0gdXNlci5hY3Rpdml0eVN0YXRzIHx8IHtcclxuICAgICAgdG90YWxMb2dpbkRheXM6IDEsXHJcbiAgICAgIGN1cnJlbnRTdHJlYWs6IDEsXHJcbiAgICAgIGxvbmdlc3RTdHJlYWs6IDEsXHJcbiAgICAgIGxhc3RWaXNpdERhdGU6IG51bGwsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGxpa2VDb3VudCxcclxuICAgICAgcGxheWxpc3RDb3VudCxcclxuICAgICAgbG9naW5Db3VudDogYWN0aXZpdHlTdGF0cy50b3RhbExvZ2luRGF5cyxcclxuICAgICAgY29uc2VjdXRpdmVEYXlzOiBhY3Rpdml0eVN0YXRzLmN1cnJlbnRTdHJlYWssXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi7IKs7Jqp7J6QIO2GteqzhCDsiJjsp5Eg7Jik66WYOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBsaWtlQ291bnQ6IDAsXHJcbiAgICAgIHBsYXlsaXN0Q291bnQ6IDAsXHJcbiAgICAgIGxvZ2luQ291bnQ6IDEsXHJcbiAgICAgIGNvbnNlY3V0aXZlRGF5czogMSxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICog7IKs7Jqp7J6QIOy5re2YuCDssrTtgawg67CPIOu2gOyXrFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gY2hlY2tBbmRHcmFudFRpdGxlcyh1c2VyOiBJVXNlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyDquLDsobQg7Lmt7Zi46rCAIOyXhuycvOuptCDruYgg67Cw7Je066GcIOy0iOq4sO2ZlFxyXG4gICAgaWYgKCF1c2VyLnRpdGxlcykge1xyXG4gICAgICB1c2VyLnRpdGxlcyA9IFtdO1xyXG4gICAgfVxyXG4gICAgaWYgKHVzZXIuc2VsZWN0ZWRUaXRsZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHVzZXIuc2VsZWN0ZWRUaXRsZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g7IKs7Jqp7J6QIO2GteqzhCDsiJjsp5FcclxuICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgZ2V0VXNlclN0YXRzRm9yVGl0bGVzKHVzZXIpO1xyXG5cclxuICAgIC8vIOyDiOuhnCDtmo3rk53tlaAg7IiYIOyeiOuKlCDsua3tmLgg7ZmV7J24XHJcbiAgICBjb25zdCBuZXdUaXRsZURlZnMgPSBjaGVja0Zvck5ld1RpdGxlcyh1c2VyLCBzdGF0cyk7XHJcblxyXG4gICAgLy8g7IOIIOy5re2YuCDrtoDsl6xcclxuICAgIGxldCBncmFudGVkQ291bnQgPSAwO1xyXG4gICAgZm9yIChjb25zdCB0aXRsZURlZiBvZiBuZXdUaXRsZURlZnMpIHtcclxuICAgICAgaWYgKGdyYW50VGl0bGUodXNlciwgdGl0bGVEZWYpKSB7XHJcbiAgICAgICAgZ3JhbnRlZENvdW50Kys7XHJcbiAgICAgICAgY29uc29sZS5sb2coYOy5re2YuCDrtoDsl6w6ICR7dXNlci5jaGFubmVsTmFtZX0g4oaSICR7dGl0bGVEZWYubmFtZX1gKTtcclxuICAgICAgICAvLyBNb25nb29zZeqwgCDrsLDsl7Qg67OA6rK97J2EIOqwkOyngO2VmOuPhOuhnSDrqoXsi5zsoIHsnLzroZwg7ZGc7IucXHJcbiAgICAgICAgdXNlci5tYXJrTW9kaWZpZWQoXCJ0aXRsZXNcIik7XHJcbiAgICAgICAgdXNlci5tYXJrTW9kaWZpZWQoXCJzZWxlY3RlZFRpdGxlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGdyYW50ZWRDb3VudCA+IDApIHtcclxuICAgICAgY29uc29sZS5sb2coYOy0nSAke2dyYW50ZWRDb3VudH3qsJzsnZgg7IOI66Gc7Jq0IOy5re2YuOulvCDrtoDsl6ztlojsirXri4jri6RgKTtcclxuICAgICAgY29uc29sZS5sb2coXCLwn4+GIO2YhOyerCDsgqzsmqnsnpAg7Lmt7Zi4IOyDge2DnDpcIiwge1xyXG4gICAgICAgIHRpdGxlc0NvdW50OiB1c2VyLnRpdGxlcy5sZW5ndGgsXHJcbiAgICAgICAgc2VsZWN0ZWRUaXRsZTogdXNlci5zZWxlY3RlZFRpdGxlLFxyXG4gICAgICAgIHRpdGxlczogdXNlci50aXRsZXMubWFwKCh0KSA9PiB0Lm5hbWUpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIuy5re2YuCDssrTtgawg67CPIOu2gOyXrCDsmKTrpZg6XCIsIGVycm9yKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIlVzZXIiLCJnZXRTdGF0aWNVc2VyUm9sZSIsImNoZWNrRm9yTmV3VGl0bGVzIiwiZ3JhbnRUaXRsZSIsImNyZWF0ZU9yVXBkYXRlVXNlciIsInVzZXJEYXRhIiwic3RhdGljUm9sZSIsImNoYW5uZWxJZCIsInVzZXIiLCJmaW5kT25lIiwib2xkQ2hhbm5lbE5hbWUiLCJjaGFubmVsTmFtZSIsIm5ld0NoYW5uZWxOYW1lIiwiY2hhbm5lbE5hbWVIaXN0b3J5IiwicHVzaCIsImNoYW5nZWRBdCIsIkRhdGUiLCJzb3VyY2UiLCJjb25zb2xlIiwibG9nIiwicHJvZmlsZUltYWdlVXJsIiwibGFzdExvZ2luQXQiLCJ0aXRsZXMiLCJzZWxlY3RlZFRpdGxlIiwidW5kZWZpbmVkIiwiY2hlY2tBbmRHcmFudFRpdGxlcyIsInNhdmVkVXNlciIsInNhdmUiLCJ0aXRsZXNDb3VudCIsImxlbmd0aCIsIm1hcCIsInQiLCJuYW1lIiwicmVsb2FkZWRVc2VyIiwiZGlzcGxheU5hbWUiLCJyb2xlIiwicHJlZmVyZW5jZXMiLCJ0aGVtZSIsImRlZmF1bHRQbGF5bGlzdFZpZXciLCJlcnJvciIsImdldFVzZXJCeUNoYW5uZWxJZCIsInVwZGF0ZVVzZXJQcmVmZXJlbmNlcyIsImdldEFkbWluVXNlcnMiLCJmaW5kIiwiJG5lIiwic29ydCIsImdldFVzZXJTdGF0cyIsInRvdGFsVXNlcnMiLCJjb3VudERvY3VtZW50cyIsImFjdGl2ZVVzZXJzIiwiJGd0ZSIsIm5vdyIsImFkbWluVXNlcnMiLCJnZXRVc2VyU3RhdHNGb3JUaXRsZXMiLCJMaWtlIiwiZGVmYXVsdCIsImxpa2VDb3VudCIsInVzZXJJZCIsIl9pZCIsIlBsYXlsaXN0IiwicGxheWxpc3RDb3VudCIsImFjdGl2aXR5U3RhdHMiLCJ0b3RhbExvZ2luRGF5cyIsImN1cnJlbnRTdHJlYWsiLCJsb25nZXN0U3RyZWFrIiwibGFzdFZpc2l0RGF0ZSIsImxvZ2luQ291bnQiLCJjb25zZWN1dGl2ZURheXMiLCJzdGF0cyIsIm5ld1RpdGxlRGVmcyIsImdyYW50ZWRDb3VudCIsInRpdGxlRGVmIiwibWFya01vZGlmaWVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/userService.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/SongDetail.ts":
/*!**********************************!*\
  !*** ./src/models/SongDetail.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MRLinkSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    url: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    skipSeconds: {\n        type: Number,\n        default: 0,\n        min: 0\n    },\n    label: {\n        type: String,\n        trim: true\n    },\n    duration: {\n        type: String,\n        trim: true\n    }\n}, {\n    _id: false\n});\nconst SongDetailSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    title: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    artist: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    titleAlias: {\n        type: String,\n        trim: true\n    },\n    artistAlias: {\n        type: String,\n        trim: true\n    },\n    language: {\n        type: String,\n        trim: true,\n        enum: [\n            'Korean',\n            'English',\n            'Japanese',\n            'Chinese',\n            'Other'\n        ]\n    },\n    lyrics: {\n        type: String,\n        trim: true\n    },\n    searchTags: [\n        {\n            type: String,\n            trim: true\n        }\n    ],\n    sungCount: {\n        type: Number,\n        default: 0,\n        min: 0\n    },\n    likeCount: {\n        type: Number,\n        default: 0,\n        min: 0\n    },\n    lastSungDate: {\n        type: String,\n        trim: true\n    },\n    keyAdjustment: {\n        type: Number,\n        default: null,\n        validate: {\n            validator: function(v) {\n                if (v === undefined || v === null) return true;\n                return v >= -12 && v <= 12;\n            },\n            message: 'ÌÇ§ Ï°∞Ï†àÏùÄ -12Î∂ÄÌÑ∞ +12 ÏÇ¨Ïù¥Ïùò Ïà´ÏûêÎ°ú ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.'\n        }\n    },\n    mrLinks: [\n        MRLinkSchema\n    ],\n    selectedMRIndex: {\n        type: Number,\n        default: 0,\n        min: 0,\n        validate: {\n            validator: function(v) {\n                if (v === undefined || v === null) return true;\n                const mrLinks = this.mrLinks;\n                if (!mrLinks || mrLinks.length === 0) return true;\n                return v < mrLinks.length;\n            },\n            message: 'selectedMRIndex must be within the range of available MR links'\n        }\n    },\n    personalNotes: {\n        type: String,\n        trim: true\n    },\n    imageUrl: {\n        type: String,\n        trim: true,\n        validate: {\n            validator: function(v) {\n                if (!v) return true; // Îπà Í∞íÏùÄ ÌóàÏö©\n                // URL ÌòïÏãù Í≤ÄÏ¶ù\n                try {\n                    new URL(v);\n                    return true;\n                } catch  {\n                    return false;\n                }\n            },\n            message: 'Ïò¨Î∞îÎ•∏ URL ÌòïÏãùÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.'\n        }\n    },\n    // Í≥° ÏÉÅÌÉú Í¥ÄÎ¶¨\n    status: {\n        type: String,\n        enum: [\n            'active',\n            'deleted',\n            'pending',\n            'rejected'\n        ],\n        default: 'active'\n    },\n    // Í≥° ÏÜåÏä§ ÌÉÄÏûÖ (Í∏∞Ï°¥ source ÌïÑÎìú ÌôïÏû•)\n    sourceType: {\n        type: String,\n        enum: [\n            'sheet',\n            'admin',\n            'user_suggestion'\n        ],\n        default: 'sheet'\n    },\n    // Ï∂îÏ≤úÏûê Ï†ïÎ≥¥ (ÏÇ¨Ïö©Ïûê Ï∂îÏ≤úÍ≥°Ïù∏ Í≤ΩÏö∞)\n    suggestedBy: {\n        type: String,\n        trim: true\n    },\n    // ÏÇ≠Ï†ú Í¥ÄÎ†® Ï†ïÎ≥¥\n    deletedAt: {\n        type: Date\n    },\n    deletedBy: {\n        type: String,\n        trim: true\n    },\n    deleteReason: {\n        type: String,\n        trim: true\n    },\n    // ÏäπÏù∏ Í¥ÄÎ†® Ï†ïÎ≥¥ (Ï∂îÏ≤úÍ≥°Ïö©)\n    approvedAt: {\n        type: Date\n    },\n    approvedBy: {\n        type: String,\n        trim: true\n    }\n}, {\n    timestamps: true\n});\n// Ï†úÎ™©+ÏïÑÌã∞Ïä§Ìä∏ Î≥µÌï© unique Ïù∏Îç±Ïä§ (Í∞ôÏùÄ Ï†úÎ™©Ïù¥ÎùºÎèÑ Îã§Î•∏ ÏïÑÌã∞Ïä§Ìä∏Î©¥ ÌóàÏö©)\nSongDetailSchema.index({\n    title: 1,\n    artist: 1\n}, {\n    unique: true\n});\nSongDetailSchema.index({\n    title: 1\n}); // Ï†úÎ™© Í≤ÄÏÉâÏö©\nSongDetailSchema.index({\n    sungCount: -1\n});\nSongDetailSchema.index({\n    lastSungDate: -1\n});\nSongDetailSchema.index({\n    searchTags: 1\n});\nSongDetailSchema.index({\n    language: 1\n});\nSongDetailSchema.index({\n    status: 1\n});\nSongDetailSchema.index({\n    sourceType: 1\n});\nSongDetailSchema.index({\n    suggestedBy: 1\n});\nSongDetailSchema.index({\n    deletedAt: -1\n});\n// ÏÉàÎ°úÏö¥ ÌÜµÏùºÎêú Î™®Îç∏Î™Ö (SongDetail)\nconst SongDetail = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).SongDetail || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('SongDetail', SongDetailSchema);\n// Í∏∞Ï°¥ Ìò∏ÌôòÏÑ±ÏùÑ ÏúÑÌïú Î≥ÑÏπ≠ Ï†úÍ±∞ (ÎßàÏù¥Í∑∏Î†àÏù¥ÏÖò ÏôÑÎ£å)\n// SongDetail Î™®Îç∏Îßå ÏÇ¨Ïö©\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SongDetail);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L2F5YXVrZS1wYWdlL2F5YXVrZS1wYWdlL3NyYy9tb2RlbHMvU29uZ0RldGFpbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCB9IGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0IHsgU29uZ0RldGFpbCB9IGZyb20gJ0AvdHlwZXMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJU29uZ0RldGFpbCBleHRlbmRzIFNvbmdEZXRhaWwsIERvY3VtZW50IHt9XHJcblxyXG5jb25zdCBNUkxpbmtTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICB1cmw6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICB9LFxyXG4gIHNraXBTZWNvbmRzOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwLFxyXG4gICAgbWluOiAwLFxyXG4gIH0sXHJcbiAgbGFiZWw6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHRyaW06IHRydWUsXHJcbiAgfSxcclxuICBkdXJhdGlvbjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICB9LFxyXG59LCB7IF9pZDogZmFsc2UgfSk7XHJcblxyXG5jb25zdCBTb25nRGV0YWlsU2NoZW1hOiBTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICB0aXRsZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB0cmltOiB0cnVlLFxyXG4gIH0sXHJcbiAgYXJ0aXN0OiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIHRyaW06IHRydWUsXHJcbiAgfSxcclxuICB0aXRsZUFsaWFzOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB0cmltOiB0cnVlLFxyXG4gIH0sXHJcbiAgYXJ0aXN0QWxpYXM6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHRyaW06IHRydWUsXHJcbiAgfSxcclxuICBsYW5ndWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICAgIGVudW06IFsnS29yZWFuJywgJ0VuZ2xpc2gnLCAnSmFwYW5lc2UnLCAnQ2hpbmVzZScsICdPdGhlciddLFxyXG4gIH0sXHJcbiAgbHlyaWNzOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB0cmltOiB0cnVlLFxyXG4gIH0sXHJcbiAgc2VhcmNoVGFnczogW3tcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHRyaW06IHRydWUsXHJcbiAgfV0sXHJcbiAgc3VuZ0NvdW50OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwLFxyXG4gICAgbWluOiAwLFxyXG4gIH0sXHJcbiAgbGlrZUNvdW50OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwLFxyXG4gICAgbWluOiAwLFxyXG4gIH0sXHJcbiAgbGFzdFN1bmdEYXRlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB0cmltOiB0cnVlLFxyXG4gIH0sXHJcbiAga2V5QWRqdXN0bWVudDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICAgIHZhbGlkYXRlOiB7XHJcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24odjogbnVtYmVyIHwgbnVsbCkge1xyXG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcmV0dXJuIHYgPj0gLTEyICYmIHYgPD0gMTI7XHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2U6ICftgqQg7KGw7KCI7J2AIC0xMuu2gO2EsCArMTIg7IKs7J207J2YIOyIq+yekOuhnCDsnoXroKXtlbTso7zshLjsmpQuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgbXJMaW5rczogW01STGlua1NjaGVtYV0sXHJcbiAgc2VsZWN0ZWRNUkluZGV4OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwLFxyXG4gICAgbWluOiAwLFxyXG4gICAgdmFsaWRhdGU6IHtcclxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih0aGlzOiBJU29uZ0RldGFpbCwgdjogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSBudWxsKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBjb25zdCBtckxpbmtzID0gdGhpcy5tckxpbmtzO1xyXG4gICAgICAgIGlmICghbXJMaW5rcyB8fCBtckxpbmtzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcmV0dXJuIHYgPCBtckxpbmtzLmxlbmd0aDtcclxuICAgICAgfSxcclxuICAgICAgbWVzc2FnZTogJ3NlbGVjdGVkTVJJbmRleCBtdXN0IGJlIHdpdGhpbiB0aGUgcmFuZ2Ugb2YgYXZhaWxhYmxlIE1SIGxpbmtzJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgcGVyc29uYWxOb3Rlczoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICB9LFxyXG4gIGltYWdlVXJsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB0cmltOiB0cnVlLFxyXG4gICAgdmFsaWRhdGU6IHtcclxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih2OiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoIXYpIHJldHVybiB0cnVlOyAvLyDruYgg6rCS7J2AIO2XiOyaqVxyXG4gICAgICAgIC8vIFVSTCDtmJXsi50g6rKA7KadXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIG5ldyBVUkwodik7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2U6ICfsmKzrsJTrpbggVVJMIO2YleyLneydhCDsnoXroKXtlbTso7zshLjsmpQuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8g6rOhIOyDge2DnCDqtIDrpqxcclxuICBzdGF0dXM6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudW06IFsnYWN0aXZlJywgJ2RlbGV0ZWQnLCAncGVuZGluZycsICdyZWplY3RlZCddLFxyXG4gICAgZGVmYXVsdDogJ2FjdGl2ZSdcclxuICB9LFxyXG4gIC8vIOqzoSDshozsiqQg7YOA7J6FICjquLDsobQgc291cmNlIO2VhOuTnCDtmZXsnqUpXHJcbiAgc291cmNlVHlwZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZW51bTogWydzaGVldCcsICdhZG1pbicsICd1c2VyX3N1Z2dlc3Rpb24nXSxcclxuICAgIGRlZmF1bHQ6ICdzaGVldCdcclxuICB9LFxyXG4gIC8vIOy2lOyynOyekCDsoJXrs7QgKOyCrOyaqeyekCDstpTsspzqs6Hsnbgg6rK97JqwKVxyXG4gIHN1Z2dlc3RlZEJ5OiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsIC8vIOyCrOyaqeyekCDssYTrhJAgSURcclxuICAgIHRyaW06IHRydWUsXHJcbiAgfSxcclxuICAvLyDsgq3soJwg6rSA66CoIOygleuztFxyXG4gIGRlbGV0ZWRBdDoge1xyXG4gICAgdHlwZTogRGF0ZSxcclxuICB9LFxyXG4gIGRlbGV0ZWRCeToge1xyXG4gICAgdHlwZTogU3RyaW5nLCAvLyDsgq3soJztlZwg6rSA66as7J6QIOyxhOuEkCBJRFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICB9LFxyXG4gIGRlbGV0ZVJlYXNvbjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICB9LFxyXG4gIC8vIOyKueyduCDqtIDroKgg7KCV67O0ICjstpTsspzqs6HsmqkpXHJcbiAgYXBwcm92ZWRBdDoge1xyXG4gICAgdHlwZTogRGF0ZSxcclxuICB9LFxyXG4gIGFwcHJvdmVkQnk6IHtcclxuICAgIHR5cGU6IFN0cmluZywgLy8g7Iq57J247ZWcIOq0gOumrOyekCDssYTrhJAgSURcclxuICAgIHRyaW06IHRydWUsXHJcbiAgfSxcclxufSwge1xyXG4gIHRpbWVzdGFtcHM6IHRydWUsXHJcbn0pO1xyXG5cclxuLy8g7KCc66qpK+yVhO2LsOyKpO2KuCDrs7XtlakgdW5pcXVlIOyduOuNseyKpCAo6rCZ7J2AIOygnOuqqeydtOudvOuPhCDri6Trpbgg7JWE7Yuw7Iqk7Yq466m0IO2XiOyaqSlcclxuU29uZ0RldGFpbFNjaGVtYS5pbmRleCh7IHRpdGxlOiAxLCBhcnRpc3Q6IDEgfSwgeyB1bmlxdWU6IHRydWUgfSk7XHJcblNvbmdEZXRhaWxTY2hlbWEuaW5kZXgoeyB0aXRsZTogMSB9KTsgLy8g7KCc66qpIOqygOyDieyaqVxyXG5Tb25nRGV0YWlsU2NoZW1hLmluZGV4KHsgc3VuZ0NvdW50OiAtMSB9KTtcclxuU29uZ0RldGFpbFNjaGVtYS5pbmRleCh7IGxhc3RTdW5nRGF0ZTogLTEgfSk7XHJcblNvbmdEZXRhaWxTY2hlbWEuaW5kZXgoeyBzZWFyY2hUYWdzOiAxIH0pO1xyXG5Tb25nRGV0YWlsU2NoZW1hLmluZGV4KHsgbGFuZ3VhZ2U6IDEgfSk7XHJcblNvbmdEZXRhaWxTY2hlbWEuaW5kZXgoeyBzdGF0dXM6IDEgfSk7XHJcblNvbmdEZXRhaWxTY2hlbWEuaW5kZXgoeyBzb3VyY2VUeXBlOiAxIH0pO1xyXG5Tb25nRGV0YWlsU2NoZW1hLmluZGV4KHsgc3VnZ2VzdGVkQnk6IDEgfSk7XHJcblNvbmdEZXRhaWxTY2hlbWEuaW5kZXgoeyBkZWxldGVkQXQ6IC0xIH0pO1xyXG5cclxuLy8g7IOI66Gc7Jq0IO2GteydvOuQnCDrqqjrjbjrqoUgKFNvbmdEZXRhaWwpXHJcbmNvbnN0IFNvbmdEZXRhaWwgPSBtb25nb29zZS5tb2RlbHMuU29uZ0RldGFpbCB8fCBtb25nb29zZS5tb2RlbDxJU29uZ0RldGFpbD4oJ1NvbmdEZXRhaWwnLCBTb25nRGV0YWlsU2NoZW1hKTtcclxuXHJcbi8vIOq4sOyhtCDtmLjtmZjshLHsnYQg7JyE7ZWcIOuzhOy5rSDsoJzqsbAgKOuniOydtOq3uOugiOydtOyFmCDsmYTro4wpXHJcbi8vIFNvbmdEZXRhaWwg66qo642466eMIOyCrOyaqVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU29uZ0RldGFpbDsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJNUkxpbmtTY2hlbWEiLCJ1cmwiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ0cmltIiwic2tpcFNlY29uZHMiLCJOdW1iZXIiLCJkZWZhdWx0IiwibWluIiwibGFiZWwiLCJkdXJhdGlvbiIsIl9pZCIsIlNvbmdEZXRhaWxTY2hlbWEiLCJ0aXRsZSIsImFydGlzdCIsInRpdGxlQWxpYXMiLCJhcnRpc3RBbGlhcyIsImxhbmd1YWdlIiwiZW51bSIsImx5cmljcyIsInNlYXJjaFRhZ3MiLCJzdW5nQ291bnQiLCJsaWtlQ291bnQiLCJsYXN0U3VuZ0RhdGUiLCJrZXlBZGp1c3RtZW50IiwidmFsaWRhdGUiLCJ2YWxpZGF0b3IiLCJ2IiwidW5kZWZpbmVkIiwibWVzc2FnZSIsIm1yTGlua3MiLCJzZWxlY3RlZE1SSW5kZXgiLCJsZW5ndGgiLCJwZXJzb25hbE5vdGVzIiwiaW1hZ2VVcmwiLCJVUkwiLCJzdGF0dXMiLCJzb3VyY2VUeXBlIiwic3VnZ2VzdGVkQnkiLCJkZWxldGVkQXQiLCJEYXRlIiwiZGVsZXRlZEJ5IiwiZGVsZXRlUmVhc29uIiwiYXBwcm92ZWRBdCIsImFwcHJvdmVkQnkiLCJ0aW1lc3RhbXBzIiwiaW5kZXgiLCJ1bmlxdWUiLCJTb25nRGV0YWlsIiwibW9kZWxzIiwibW9kZWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/models/SongDetail.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/User.ts":
/*!****************************!*\
  !*** ./src/models/User.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst userSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    channelId: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    channelName: {\n        type: String,\n        required: true\n    },\n    displayName: {\n        type: String,\n        required: false\n    },\n    profileImageUrl: {\n        type: String,\n        default: null\n    },\n    role: {\n        type: String,\n        enum: [\n            \"super_admin\",\n            \"song_admin\",\n            \"song_editor\",\n            \"user\"\n        ],\n        default: \"user\"\n    },\n    grantedBy: {\n        type: String,\n        default: null\n    },\n    grantedAt: {\n        type: Date,\n        default: null\n    },\n    lastLoginAt: {\n        type: Date,\n        default: Date.now\n    },\n    channelNameHistory: [\n        {\n            channelName: {\n                type: String,\n                required: true\n            },\n            changedAt: {\n                type: Date,\n                default: Date.now\n            },\n            source: {\n                type: String,\n                enum: [\n                    \"login\",\n                    \"initial\"\n                ],\n                required: true\n            }\n        }\n    ],\n    titles: [\n        {\n            id: {\n                type: String,\n                required: true\n            },\n            name: {\n                type: String,\n                required: true\n            },\n            description: {\n                type: String,\n                required: true\n            },\n            earnedAt: {\n                type: Date,\n                default: Date.now\n            },\n            condition: {\n                type: String,\n                required: true\n            },\n            rarity: {\n                type: String,\n                enum: [\n                    \"common\",\n                    \"rare\",\n                    \"epic\",\n                    \"legendary\"\n                ],\n                required: true\n            }\n        }\n    ],\n    selectedTitle: {\n        type: String,\n        default: null\n    },\n    preferences: {\n        theme: {\n            type: String,\n            enum: [\n                \"light\",\n                \"dark\",\n                \"system\"\n            ],\n            default: \"system\"\n        },\n        defaultPlaylistView: {\n            type: String,\n            enum: [\n                \"grid\",\n                \"list\"\n            ],\n            default: \"grid\"\n        }\n    },\n    activityStats: {\n        totalLoginDays: {\n            type: Number,\n            default: 0\n        },\n        currentStreak: {\n            type: Number,\n            default: 0\n        },\n        longestStreak: {\n            type: Number,\n            default: 0\n        },\n        lastVisitDate: {\n            type: String,\n            default: null\n        }\n    }\n}, {\n    timestamps: true\n});\n// Ïù∏Îç±Ïä§ Ï∂îÍ∞Ä (channelIdÎäî unique: trueÎ°ú ÏûêÎèô Ïù∏Îç±Ïä§ ÏÉùÏÑ±Îê®)\nuserSchema.index({\n    role: 1\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", userSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1VzZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBdUNoQyxNQUFNQyxhQUFhLElBQUlELHdEQUFlLENBQ3BDO0lBQ0VHLFdBQVc7UUFDVEMsTUFBTUM7UUFDTkMsVUFBVTtRQUNWQyxRQUFRO0lBQ1Y7SUFDQUMsYUFBYTtRQUNYSixNQUFNQztRQUNOQyxVQUFVO0lBQ1o7SUFDQUcsYUFBYTtRQUNYTCxNQUFNQztRQUNOQyxVQUFVO0lBQ1o7SUFDQUksaUJBQWlCO1FBQ2ZOLE1BQU1DO1FBQ05NLFNBQVM7SUFDWDtJQUNBQyxNQUFNO1FBQ0pSLE1BQU1DO1FBQ05RLE1BQU07WUFBQztZQUFlO1lBQWM7WUFBZTtTQUFPO1FBQzFERixTQUFTO0lBQ1g7SUFDQUcsV0FBVztRQUNUVixNQUFNQztRQUNOTSxTQUFTO0lBQ1g7SUFDQUksV0FBVztRQUNUWCxNQUFNWTtRQUNOTCxTQUFTO0lBQ1g7SUFDQU0sYUFBYTtRQUNYYixNQUFNWTtRQUNOTCxTQUFTSyxLQUFLRSxHQUFHO0lBQ25CO0lBQ0FDLG9CQUFvQjtRQUNsQjtZQUNFWCxhQUFhO2dCQUNYSixNQUFNQztnQkFDTkMsVUFBVTtZQUNaO1lBQ0FjLFdBQVc7Z0JBQ1RoQixNQUFNWTtnQkFDTkwsU0FBU0ssS0FBS0UsR0FBRztZQUNuQjtZQUNBRyxRQUFRO2dCQUNOakIsTUFBTUM7Z0JBQ05RLE1BQU07b0JBQUM7b0JBQVM7aUJBQVU7Z0JBQzFCUCxVQUFVO1lBQ1o7UUFDRjtLQUNEO0lBQ0RnQixRQUFRO1FBQ047WUFDRUMsSUFBSTtnQkFDRm5CLE1BQU1DO2dCQUNOQyxVQUFVO1lBQ1o7WUFDQWtCLE1BQU07Z0JBQ0pwQixNQUFNQztnQkFDTkMsVUFBVTtZQUNaO1lBQ0FtQixhQUFhO2dCQUNYckIsTUFBTUM7Z0JBQ05DLFVBQVU7WUFDWjtZQUNBb0IsVUFBVTtnQkFDUnRCLE1BQU1ZO2dCQUNOTCxTQUFTSyxLQUFLRSxHQUFHO1lBQ25CO1lBQ0FTLFdBQVc7Z0JBQ1R2QixNQUFNQztnQkFDTkMsVUFBVTtZQUNaO1lBQ0FzQixRQUFRO2dCQUNOeEIsTUFBTUM7Z0JBQ05RLE1BQU07b0JBQUM7b0JBQVU7b0JBQVE7b0JBQVE7aUJBQVk7Z0JBQzdDUCxVQUFVO1lBQ1o7UUFDRjtLQUNEO0lBQ0R1QixlQUFlO1FBQ2J6QixNQUFNQztRQUNOTSxTQUFTO0lBQ1g7SUFDQW1CLGFBQWE7UUFDWEMsT0FBTztZQUNMM0IsTUFBTUM7WUFDTlEsTUFBTTtnQkFBQztnQkFBUztnQkFBUTthQUFTO1lBQ2pDRixTQUFTO1FBQ1g7UUFDQXFCLHFCQUFxQjtZQUNuQjVCLE1BQU1DO1lBQ05RLE1BQU07Z0JBQUM7Z0JBQVE7YUFBTztZQUN0QkYsU0FBUztRQUNYO0lBQ0Y7SUFDQXNCLGVBQWU7UUFDYkMsZ0JBQWdCO1lBQ2Q5QixNQUFNK0I7WUFDTnhCLFNBQVM7UUFDWDtRQUNBeUIsZUFBZTtZQUNiaEMsTUFBTStCO1lBQ054QixTQUFTO1FBQ1g7UUFDQTBCLGVBQWU7WUFDYmpDLE1BQU0rQjtZQUNOeEIsU0FBUztRQUNYO1FBQ0EyQixlQUFlO1lBQ2JsQyxNQUFNQztZQUNOTSxTQUFTO1FBQ1g7SUFDRjtBQUNGLEdBQ0E7SUFDRTRCLFlBQVk7QUFDZDtBQUdGLCtDQUErQztBQUMvQ3RDLFdBQVd1QyxLQUFLLENBQUM7SUFBRTVCLE1BQU07QUFBRTtBQUUzQixpRUFBZVosd0RBQWUsQ0FBQzBDLElBQUksSUFDakMxQyxxREFBYyxDQUFRLFFBQVFDLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIi9tbnQvZi9EYXRhL0dpdC9jbGF1ZGUtY29kZS9heWF1a2UtcGFnZS9heWF1a2UtcGFnZS9zcmMvbW9kZWxzL1VzZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJVXNlciBleHRlbmRzIG1vbmdvb3NlLkRvY3VtZW50IHtcclxuICBjaGFubmVsSWQ6IHN0cmluZztcclxuICBjaGFubmVsTmFtZTogc3RyaW5nO1xyXG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XHJcbiAgcHJvZmlsZUltYWdlVXJsPzogc3RyaW5nO1xyXG4gIHJvbGU6IFwic3VwZXJfYWRtaW5cIiB8IFwiYXlhdWtlX2FkbWluXCIgfCBcInNvbmdfYWRtaW5cIiB8IFwic29uZ19lZGl0b3JcIiB8IFwidXNlclwiO1xyXG4gIGdyYW50ZWRCeT86IHN0cmluZztcclxuICBncmFudGVkQXQ/OiBEYXRlO1xyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxuICBsYXN0TG9naW5BdDogRGF0ZTtcclxuICBjaGFubmVsTmFtZUhpc3Rvcnk6IEFycmF5PHtcclxuICAgIGNoYW5uZWxOYW1lOiBzdHJpbmc7XHJcbiAgICBjaGFuZ2VkQXQ6IERhdGU7XHJcbiAgICBzb3VyY2U6IFwibG9naW5cIiB8IFwiaW5pdGlhbFwiO1xyXG4gIH0+O1xyXG4gIHRpdGxlczogQXJyYXk8e1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICBlYXJuZWRBdDogRGF0ZTtcclxuICAgIGNvbmRpdGlvbjogc3RyaW5nO1xyXG4gICAgcmFyaXR5OiBcImNvbW1vblwiIHwgXCJyYXJlXCIgfCBcImVwaWNcIiB8IFwibGVnZW5kYXJ5XCI7XHJcbiAgfT47XHJcbiAgc2VsZWN0ZWRUaXRsZTogc3RyaW5nIHwgbnVsbDtcclxuICBwcmVmZXJlbmNlczoge1xyXG4gICAgdGhlbWU6IFwibGlnaHRcIiB8IFwiZGFya1wiIHwgXCJzeXN0ZW1cIjtcclxuICAgIGRlZmF1bHRQbGF5bGlzdFZpZXc6IFwiZ3JpZFwiIHwgXCJsaXN0XCI7XHJcbiAgfTtcclxuICAvLyDtmZzrj5kg7Ya16rOEICjsmpTslb0g642w7J207YSw66eMIOyggOyepSlcclxuICBhY3Rpdml0eVN0YXRzOiB7XHJcbiAgICB0b3RhbExvZ2luRGF5czogbnVtYmVyOyAvLyDstJ0g66Gc6re47J247ZWcIOuCoCDsiJhcclxuICAgIGN1cnJlbnRTdHJlYWs6IG51bWJlcjsgLy8g7ZiE7J6sIOyXsOyGjSDsoJHsho3snbxcclxuICAgIGxvbmdlc3RTdHJlYWs6IG51bWJlcjsgLy8g7LWc7J6lIOyXsOyGjSDsoJHsho3snbwg6riw66GdXHJcbiAgICBsYXN0VmlzaXREYXRlOiBzdHJpbmc7IC8vIOuniOyngOuniSDrsKnrrLgg64Kg7KecIChZWVlZLU1NLUREKVxyXG4gIH07XHJcbn1cclxuXHJcbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hPElVc2VyPihcclxuICB7XHJcbiAgICBjaGFubmVsSWQ6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgdW5pcXVlOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIGNoYW5uZWxOYW1lOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgZGlzcGxheU5hbWU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgcHJvZmlsZUltYWdlVXJsOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgIH0sXHJcbiAgICByb2xlOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgZW51bTogW1wic3VwZXJfYWRtaW5cIiwgXCJzb25nX2FkbWluXCIsIFwic29uZ19lZGl0b3JcIiwgXCJ1c2VyXCJdLFxyXG4gICAgICBkZWZhdWx0OiBcInVzZXJcIixcclxuICAgIH0sXHJcbiAgICBncmFudGVkQnk6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgfSxcclxuICAgIGdyYW50ZWRBdDoge1xyXG4gICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgfSxcclxuICAgIGxhc3RMb2dpbkF0OiB7XHJcbiAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgIGRlZmF1bHQ6IERhdGUubm93LFxyXG4gICAgfSxcclxuICAgIGNoYW5uZWxOYW1lSGlzdG9yeTogW1xyXG4gICAgICB7XHJcbiAgICAgICAgY2hhbm5lbE5hbWU6IHtcclxuICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hhbmdlZEF0OiB7XHJcbiAgICAgICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzb3VyY2U6IHtcclxuICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgIGVudW06IFtcImxvZ2luXCIsIFwiaW5pdGlhbFwiXSxcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgdGl0bGVzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBpZDoge1xyXG4gICAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBuYW1lOiB7XHJcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiB7XHJcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhcm5lZEF0OiB7XHJcbiAgICAgICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb25kaXRpb246IHtcclxuICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmFyaXR5OiB7XHJcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgICBlbnVtOiBbXCJjb21tb25cIiwgXCJyYXJlXCIsIFwiZXBpY1wiLCBcImxlZ2VuZGFyeVwiXSxcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgc2VsZWN0ZWRUaXRsZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICB9LFxyXG4gICAgcHJlZmVyZW5jZXM6IHtcclxuICAgICAgdGhlbWU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZW51bTogW1wibGlnaHRcIiwgXCJkYXJrXCIsIFwic3lzdGVtXCJdLFxyXG4gICAgICAgIGRlZmF1bHQ6IFwic3lzdGVtXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlZmF1bHRQbGF5bGlzdFZpZXc6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZW51bTogW1wiZ3JpZFwiLCBcImxpc3RcIl0sXHJcbiAgICAgICAgZGVmYXVsdDogXCJncmlkXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgYWN0aXZpdHlTdGF0czoge1xyXG4gICAgICB0b3RhbExvZ2luRGF5czoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICBkZWZhdWx0OiAwLFxyXG4gICAgICB9LFxyXG4gICAgICBjdXJyZW50U3RyZWFrOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6IDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIGxvbmdlc3RTdHJlYWs6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgZGVmYXVsdDogMCxcclxuICAgICAgfSxcclxuICAgICAgbGFzdFZpc2l0RGF0ZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9LFxyXG4gIHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgfVxyXG4pO1xyXG5cclxuLy8g7J24642x7IqkIOy2lOqwgCAoY2hhbm5lbElk64qUIHVuaXF1ZTogdHJ1ZeuhnCDsnpDrj5kg7J24642x7IqkIOyDneyEseuQqClcclxudXNlclNjaGVtYS5pbmRleCh7IHJvbGU6IDEgfSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuVXNlciB8fFxyXG4gIG1vbmdvb3NlLm1vZGVsPElVc2VyPihcIlVzZXJcIiwgdXNlclNjaGVtYSk7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJjaGFubmVsSWQiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJjaGFubmVsTmFtZSIsImRpc3BsYXlOYW1lIiwicHJvZmlsZUltYWdlVXJsIiwiZGVmYXVsdCIsInJvbGUiLCJlbnVtIiwiZ3JhbnRlZEJ5IiwiZ3JhbnRlZEF0IiwiRGF0ZSIsImxhc3RMb2dpbkF0Iiwibm93IiwiY2hhbm5lbE5hbWVIaXN0b3J5IiwiY2hhbmdlZEF0Iiwic291cmNlIiwidGl0bGVzIiwiaWQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJlYXJuZWRBdCIsImNvbmRpdGlvbiIsInJhcml0eSIsInNlbGVjdGVkVGl0bGUiLCJwcmVmZXJlbmNlcyIsInRoZW1lIiwiZGVmYXVsdFBsYXlsaXN0VmlldyIsImFjdGl2aXR5U3RhdHMiLCJ0b3RhbExvZ2luRGF5cyIsIk51bWJlciIsImN1cnJlbnRTdHJlYWsiLCJsb25nZXN0U3RyZWFrIiwibGFzdFZpc2l0RGF0ZSIsInRpbWVzdGFtcHMiLCJpbmRleCIsIm1vZGVscyIsIlVzZXIiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/User.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/UserActivity.ts":
/*!************************************!*\
  !*** ./src/models/UserActivity.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserActivity: () => (/* binding */ UserActivity),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserActivitySchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    userId: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: 'User',\n        required: true,\n        index: true\n    },\n    date: {\n        type: String,\n        required: true\n    },\n    visitCount: {\n        type: Number,\n        default: 1\n    },\n    firstVisitAt: {\n        type: Date,\n        required: true\n    },\n    lastVisitAt: {\n        type: Date,\n        required: true\n    }\n}, {\n    timestamps: true\n});\n// Î≥µÌï© Ïù∏Îç±Ïä§: ÏÇ¨Ïö©ÏûêÎ≥Ñ ÎÇ†Ïßú Ï°∞Ìöå ÏµúÏ†ÅÌôî\nUserActivitySchema.index({\n    userId: 1,\n    date: 1\n}, {\n    unique: true\n});\n// ÎÇ†ÏßúÎ≥Ñ Ïù∏Îç±Ïä§: Ïò§ÎûòÎêú Îç∞Ïù¥ÌÑ∞ Ï†ïÎ¶¨ Ïãú ÏÇ¨Ïö©\nUserActivitySchema.index({\n    date: 1\n});\nconst UserActivity = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).UserActivity || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('UserActivity', UserActivitySchema);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserActivity);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1VzZXJBY3Rpdml0eS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFEO0FBWXJELE1BQU1FLHFCQUFxQixJQUFJRCw0Q0FBTUEsQ0FBZ0I7SUFDbkRFLFFBQVE7UUFDTkMsTUFBTUgsNENBQU1BLENBQUNJLEtBQUssQ0FBQ0MsUUFBUTtRQUMzQkMsS0FBSztRQUNMQyxVQUFVO1FBQ1ZDLE9BQU87SUFDVDtJQUNBQyxNQUFNO1FBQ0pOLE1BQU1PO1FBQ05ILFVBQVU7SUFDWjtJQUNBSSxZQUFZO1FBQ1ZSLE1BQU1TO1FBQ05DLFNBQVM7SUFDWDtJQUNBQyxjQUFjO1FBQ1pYLE1BQU1ZO1FBQ05SLFVBQVU7SUFDWjtJQUNBUyxhQUFhO1FBQ1hiLE1BQU1ZO1FBQ05SLFVBQVU7SUFDWjtBQUNGLEdBQUc7SUFDRFUsWUFBWTtBQUNkO0FBRUEseUJBQXlCO0FBQ3pCaEIsbUJBQW1CTyxLQUFLLENBQUM7SUFBRU4sUUFBUTtJQUFHTyxNQUFNO0FBQUUsR0FBRztJQUFFUyxRQUFRO0FBQUs7QUFFaEUsMkJBQTJCO0FBQzNCakIsbUJBQW1CTyxLQUFLLENBQUM7SUFBRUMsTUFBTTtBQUFFO0FBRW5DLE1BQU1VLGVBQWVwQix3REFBZSxDQUFDb0IsWUFBWSxJQUFJcEIscURBQWMsQ0FBZ0IsZ0JBQWdCRTtBQUU1RTtBQUN2QixpRUFBZWtCLFlBQVlBLEVBQUEiLCJzb3VyY2VzIjpbIi9tbnQvZi9EYXRhL0dpdC9jbGF1ZGUtY29kZS9heWF1a2UtcGFnZS9heWF1a2UtcGFnZS9zcmMvbW9kZWxzL1VzZXJBY3Rpdml0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCB9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJVXNlckFjdGl2aXR5IGV4dGVuZHMgRG9jdW1lbnQge1xyXG4gIHVzZXJJZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWRcclxuICBkYXRlOiBzdHJpbmcgLy8gJ1lZWVktTU0tREQnIO2YleyLnVxyXG4gIHZpc2l0Q291bnQ6IG51bWJlclxyXG4gIGZpcnN0VmlzaXRBdDogRGF0ZVxyXG4gIGxhc3RWaXNpdEF0OiBEYXRlXHJcbiAgY3JlYXRlZEF0OiBEYXRlXHJcbiAgdXBkYXRlZEF0OiBEYXRlXHJcbn1cclxuXHJcbmNvbnN0IFVzZXJBY3Rpdml0eVNjaGVtYSA9IG5ldyBTY2hlbWE8SVVzZXJBY3Rpdml0eT4oe1xyXG4gIHVzZXJJZDoge1xyXG4gICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVmOiAnVXNlcicsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIGluZGV4OiB0cnVlXHJcbiAgfSxcclxuICBkYXRlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZVxyXG4gIH0sXHJcbiAgdmlzaXRDb3VudDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMVxyXG4gIH0sXHJcbiAgZmlyc3RWaXNpdEF0OiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG4gIGxhc3RWaXNpdEF0OiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9XHJcbn0sIHtcclxuICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pXHJcblxyXG4vLyDrs7Xtlakg7J24642x7IqkOiDsgqzsmqnsnpDrs4Qg64Kg7KecIOyhsO2ajCDstZzsoIHtmZRcclxuVXNlckFjdGl2aXR5U2NoZW1hLmluZGV4KHsgdXNlcklkOiAxLCBkYXRlOiAxIH0sIHsgdW5pcXVlOiB0cnVlIH0pXHJcblxyXG4vLyDrgqDsp5zrs4Qg7J24642x7IqkOiDsmKTrnpjrkJwg642w7J207YSwIOygleumrCDsi5wg7IKs7JqpXHJcblVzZXJBY3Rpdml0eVNjaGVtYS5pbmRleCh7IGRhdGU6IDEgfSlcclxuXHJcbmNvbnN0IFVzZXJBY3Rpdml0eSA9IG1vbmdvb3NlLm1vZGVscy5Vc2VyQWN0aXZpdHkgfHwgbW9uZ29vc2UubW9kZWw8SVVzZXJBY3Rpdml0eT4oJ1VzZXJBY3Rpdml0eScsIFVzZXJBY3Rpdml0eVNjaGVtYSlcclxuXHJcbmV4cG9ydCB7IFVzZXJBY3Rpdml0eSB9XHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJBY3Rpdml0eSJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIlVzZXJBY3Rpdml0eVNjaGVtYSIsInVzZXJJZCIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJpbmRleCIsImRhdGUiLCJTdHJpbmciLCJ2aXNpdENvdW50IiwiTnVtYmVyIiwiZGVmYXVsdCIsImZpcnN0VmlzaXRBdCIsIkRhdGUiLCJsYXN0VmlzaXRBdCIsInRpbWVzdGFtcHMiLCJ1bmlxdWUiLCJVc2VyQWN0aXZpdHkiLCJtb2RlbHMiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/UserActivity.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/ws","vendor-chunks/chzzk","vendor-chunks/oauth","vendor-chunks/preact","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva","vendor-chunks/isomorphic-ws"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fadmin%2Fsongs%2Froute&page=%2Fapi%2Fadmin%2Fsongs%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fsongs%2Froute.ts&appDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();