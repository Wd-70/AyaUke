/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/timeline-parser/route";
exports.ids = ["app/api/timeline-parser/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftimeline-parser%2Froute&page=%2Fapi%2Ftimeline-parser%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftimeline-parser%2Froute.ts&appDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftimeline-parser%2Froute&page=%2Fapi%2Ftimeline-parser%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftimeline-parser%2Froute.ts&appDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _mnt_f_Data_Git_claude_code_ayauke_page_ayauke_page_src_app_api_timeline_parser_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/timeline-parser/route.ts */ \"(rsc)/./src/app/api/timeline-parser/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/timeline-parser/route\",\n        pathname: \"/api/timeline-parser\",\n        filename: \"route\",\n        bundlePath: \"app/api/timeline-parser/route\"\n    },\n    resolvedPagePath: \"/mnt/f/Data/Git/claude-code/ayauke-page/ayauke-page/src/app/api/timeline-parser/route.ts\",\n    nextConfigOutput,\n    userland: _mnt_f_Data_Git_claude_code_ayauke_page_ayauke_page_src_app_api_timeline_parser_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZ0aW1lbGluZS1wYXJzZXIlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnRpbWVsaW5lLXBhcnNlciUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnRpbWVsaW5lLXBhcnNlciUyRnJvdXRlLnRzJmFwcERpcj0lMkZtbnQlMkZmJTJGRGF0YSUyRkdpdCUyRmNsYXVkZS1jb2RlJTJGYXlhdWtlLXBhZ2UlMkZheWF1a2UtcGFnZSUyRnNyYyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGbW50JTJGZiUyRkRhdGElMkZHaXQlMkZjbGF1ZGUtY29kZSUyRmF5YXVrZS1wYWdlJTJGYXlhdWtlLXBhZ2UmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ3dDO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3Qix5R0FBbUI7QUFDM0M7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsc0RBQXNEO0FBQzlEO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzBGOztBQUUxRiIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvbW50L2YvRGF0YS9HaXQvY2xhdWRlLWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL2FwcC9hcGkvdGltZWxpbmUtcGFyc2VyL3JvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS90aW1lbGluZS1wYXJzZXIvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS90aW1lbGluZS1wYXJzZXJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3RpbWVsaW5lLXBhcnNlci9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIi9tbnQvZi9EYXRhL0dpdC9jbGF1ZGUtY29kZS9heWF1a2UtcGFnZS9heWF1a2UtcGFnZS9zcmMvYXBwL2FwaS90aW1lbGluZS1wYXJzZXIvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftimeline-parser%2Froute&page=%2Fapi%2Ftimeline-parser%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftimeline-parser%2Froute.ts&appDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/timeline-parser/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/timeline-parser/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var next_auth_next__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/next */ \"(rsc)/./node_modules/next-auth/next/index.js\");\n/* harmony import */ var _lib_authOptions__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/authOptions */ \"(rsc)/./src/lib/authOptions.ts\");\n/* harmony import */ var _lib_permissions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/permissions */ \"(rsc)/./src/lib/permissions.ts\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n/* harmony import */ var _models_YouTubeComment__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/models/YouTubeComment */ \"(rsc)/./src/models/YouTubeComment.ts\");\n/* harmony import */ var _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/models/SongDetail */ \"(rsc)/./src/models/SongDetail.ts\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_7__);\n\n\n\n\n\n\n\n\n// 파싱된 타임라인 데이터를 위한 MongoDB 스키마\nconst ParsedTimelineSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_7___default().Schema)({\n    id: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    videoId: {\n        type: String,\n        required: true\n    },\n    videoTitle: {\n        type: String,\n        required: true\n    },\n    uploadedDate: {\n        type: Date,\n        required: true\n    },\n    videoPublishedAt: {\n        type: Date\n    },\n    originalDateString: {\n        type: String\n    },\n    artist: {\n        type: String,\n        required: true\n    },\n    songTitle: {\n        type: String,\n        required: true\n    },\n    videoUrl: {\n        type: String,\n        required: true\n    },\n    startTimeSeconds: {\n        type: Number,\n        required: true\n    },\n    endTimeSeconds: {\n        type: Number\n    },\n    duration: {\n        type: Number\n    },\n    isRelevant: {\n        type: Boolean,\n        default: true\n    },\n    isExcluded: {\n        type: Boolean,\n        default: false\n    },\n    matchedSong: {\n        songId: {\n            type: String\n        },\n        title: {\n            type: String\n        },\n        artist: {\n            type: String\n        },\n        confidence: {\n            type: Number\n        }\n    },\n    originalComment: {\n        type: String,\n        required: true\n    },\n    commentAuthor: {\n        type: String,\n        required: true\n    },\n    commentId: {\n        type: String,\n        required: true\n    },\n    commentPublishedAt: {\n        type: Date\n    },\n    // 수동 검증 관련 필드\n    isTimeVerified: {\n        type: Boolean,\n        default: false\n    },\n    verifiedBy: {\n        type: String\n    },\n    verifiedAt: {\n        type: Date\n    },\n    verificationNotes: {\n        type: String\n    },\n    customDescription: {\n        type: String\n    },\n    specialTags: [\n        {\n            type: String\n        }\n    ],\n    createdAt: {\n        type: Date,\n        default: Date.now\n    },\n    updatedAt: {\n        type: Date,\n        default: Date.now\n    }\n}, {\n    // 스키마 옵션\n    strict: true,\n    timestamps: false,\n    versionKey: false // __v 필드 제거\n});\n// 기존 모델이 있다면 삭제 후 재생성 (개발 환경에서만)\nif ((mongoose__WEBPACK_IMPORTED_MODULE_7___default().models).ParsedTimeline) {\n    delete (mongoose__WEBPACK_IMPORTED_MODULE_7___default().models).ParsedTimeline;\n}\nconst ParsedTimeline = mongoose__WEBPACK_IMPORTED_MODULE_7___default().model('ParsedTimeline', ParsedTimelineSchema);\n// 텍스트 정규화 함수 (공백/특수문자 제거, 소문자 변환)\nfunction normalizeText(text) {\n    return text.toLowerCase().trim().replace(/\\s+/g, '') // 모든 공백 제거\n    .replace(/[-_.,!?()[\\]{}]/g, '') // 기본 구두점만 제거\n    .replace(/[^\\w가-힣]/g, ''); // 한글, 영문, 숫자만 유지\n}\n// Levenshtein distance 계산\nfunction levenshteinDistance(str1, str2) {\n    const matrix = [];\n    for(let i = 0; i <= str2.length; i++){\n        matrix[i] = [\n            i\n        ];\n    }\n    for(let j = 0; j <= str1.length; j++){\n        matrix[0][j] = j;\n    }\n    for(let i = 1; i <= str2.length; i++){\n        for(let j = 1; j <= str1.length; j++){\n            if (str2.charAt(i - 1) === str1.charAt(j - 1)) {\n                matrix[i][j] = matrix[i - 1][j - 1];\n            } else {\n                matrix[i][j] = Math.min(matrix[i - 1][j - 1] + 1, matrix[i][j - 1] + 1, matrix[i - 1][j] + 1 // deletion\n                );\n            }\n        }\n    }\n    return matrix[str2.length][str1.length];\n}\n// 개선된 문자열 유사도 계산\nfunction calculateSimilarity(str1, str2) {\n    if (!str1 || !str2) return 0;\n    const s1 = str1.toLowerCase().trim();\n    const s2 = str2.toLowerCase().trim();\n    if (s1 === s2) return 1;\n    // 1. 포함 관계 체크 (높은 점수)\n    if (s1.includes(s2) || s2.includes(s1)) {\n        const longer = s1.length > s2.length ? s1 : s2;\n        const shorter = s1.length > s2.length ? s2 : s1;\n        return 0.8 + shorter.length / longer.length * 0.2; // 0.8~1.0\n    }\n    // 2. 공통 부분 문자열 찾기\n    let commonLength = 0;\n    const minLen = Math.min(s1.length, s2.length);\n    // 시작 부분 공통 문자열\n    for(let i = 0; i < minLen; i++){\n        if (s1[i] === s2[i]) {\n            commonLength++;\n        } else {\n            break;\n        }\n    }\n    // 끝 부분 공통 문자열\n    for(let i = 1; i <= minLen - commonLength; i++){\n        if (s1[s1.length - i] === s2[s2.length - i]) {\n            commonLength++;\n        } else {\n            break;\n        }\n    }\n    if (commonLength > 0) {\n        const maxLen = Math.max(s1.length, s2.length);\n        const similarity = commonLength / maxLen;\n        if (similarity >= 0.3) return similarity;\n    }\n    // 3. Levenshtein distance 기반 계산\n    const maxLen = Math.max(s1.length, s2.length);\n    if (maxLen === 0) return 1;\n    const distance = levenshteinDistance(s1, s2);\n    return Math.max(0, (maxLen - distance) / maxLen);\n}\n// 아티스트 검색 (아티스트, artistAlias, searchTags)\nfunction searchInArtistFields(song, normalizedQuery) {\n    const fields = [\n        song.artist,\n        song.artistAlias,\n        ...song.searchTags || []\n    ].filter(Boolean);\n    let maxSimilarity = 0;\n    let exactMatch = false;\n    for (const field of fields){\n        const normalizedField = normalizeText(field);\n        // 1. 완전 일치 체크\n        if (normalizedField === normalizedQuery) {\n            exactMatch = true;\n            maxSimilarity = 1.0;\n            break;\n        }\n        // 2. 포함 관계 체크 (양방향)\n        if (normalizedField.includes(normalizedQuery) || normalizedQuery.includes(normalizedField)) {\n            maxSimilarity = Math.max(maxSimilarity, 0.8);\n        }\n        // 3. 유사도 계산\n        const similarity = calculateSimilarity(normalizedQuery, normalizedField);\n        maxSimilarity = Math.max(maxSimilarity, similarity);\n        // 4. 짧은 문자열 특별 처리 (3글자 이하)\n        if (normalizedQuery.length <= 3 || normalizedField.length <= 3) {\n            if (normalizedField.includes(normalizedQuery) || normalizedQuery.includes(normalizedField)) {\n                maxSimilarity = Math.max(maxSimilarity, 0.7);\n            }\n        }\n    }\n    return maxSimilarity;\n}\n// 제목 검색 (title, titleAlias, searchTags)\nfunction searchInTitleFields(song, normalizedQuery) {\n    const fields = [\n        song.title,\n        song.titleAlias,\n        ...song.searchTags || []\n    ].filter(Boolean);\n    let maxSimilarity = 0;\n    let exactMatch = false;\n    for (const field of fields){\n        const normalizedField = normalizeText(field);\n        // 1. 완전 일치 체크\n        if (normalizedField === normalizedQuery) {\n            exactMatch = true;\n            maxSimilarity = 1.0;\n            break;\n        }\n        // 2. 포함 관계 체크 (양방향)\n        if (normalizedField.includes(normalizedQuery) || normalizedQuery.includes(normalizedField)) {\n            maxSimilarity = Math.max(maxSimilarity, 0.8);\n        }\n        // 3. 유사도 계산\n        const similarity = calculateSimilarity(normalizedQuery, normalizedField);\n        maxSimilarity = Math.max(maxSimilarity, similarity);\n        // 4. 짧은 문자열 특별 처리 (3글자 이하)\n        if (normalizedQuery.length <= 3 || normalizedField.length <= 3) {\n            if (normalizedField.includes(normalizedQuery) || normalizedQuery.includes(normalizedField)) {\n                maxSimilarity = Math.max(maxSimilarity, 0.7);\n            }\n        }\n    }\n    return maxSimilarity;\n}\n// 캐시된 곡 데이터를 사용한 매칭 함수 (DB 요청 최소화)\nfunction matchTimelineWithSongsFromCache(artist, title, allSongs) {\n    const normalizedArtist = normalizeText(artist);\n    const normalizedTitle = normalizeText(title);\n    console.log(`🔍 캐시 검색: \"${artist}\" - \"${title}\"`);\n    const candidates = [];\n    let processedCount = 0;\n    for (const song of allSongs){\n        const artistSimilarity = searchInArtistFields(song, normalizedArtist);\n        const titleSimilarity = searchInTitleFields(song, normalizedTitle);\n        // 전체 일치율 = (아티스트 유사도 + 제목 유사도) / 2\n        const overallSimilarity = (artistSimilarity + titleSimilarity) / 2;\n        // 높은 유사도 결과만 로그\n        if (overallSimilarity > 0.3) {\n            console.log(`🎯 매치: \"${song.artist}\" - \"${song.title}\" (${(overallSimilarity * 100).toFixed(1)}%)`);\n        }\n        // 최소 임계값 이상인 경우만 후보로 추가\n        if (overallSimilarity > 0.1) {\n            candidates.push({\n                song,\n                artistSimilarity,\n                titleSimilarity,\n                overallSimilarity,\n                isExactMatch: overallSimilarity >= 0.95\n            });\n        }\n        processedCount++;\n    }\n    console.log(`✅ 캐시 검색 완료: ${candidates.length}개 후보 발견`);\n    // 일치율 순으로 정렬\n    candidates.sort((a, b)=>b.overallSimilarity - a.overallSimilarity);\n    return candidates.slice(0, 10); // 상위 10개만 반환\n}\n// 타임라인 데이터와 노래 DB 매칭\nasync function matchTimelineWithSongs(artist, title) {\n    await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n    const normalizedArtist = normalizeText(artist);\n    const normalizedTitle = normalizeText(title);\n    // 기본 로그만 유지\n    console.log(`🔍 검색 시작: \"${artist}\" - \"${title}\"`);\n    // 모든 곡 또는 활성+상태없는 곡 가져오기\n    let allSongs = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].find({\n        $or: [\n            {\n                status: 'active'\n            },\n            {\n                status: {\n                    $exists: false\n                }\n            },\n            {\n                status: null\n            }\n        ]\n    }).lean();\n    // 검색 대상이 적다면 모든 곡을 대상으로 검색\n    if (allSongs.length < 100) {\n        allSongs = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].find({}).lean();\n    }\n    console.log(`🔍 검색 대상 곡 수: ${allSongs.length}개`);\n    const candidates = [];\n    let processedCount = 0;\n    for (const song of allSongs){\n        const artistSimilarity = searchInArtistFields(song, normalizedArtist);\n        const titleSimilarity = searchInTitleFields(song, normalizedTitle);\n        // 전체 일치율 = (아티스트 유사도 + 제목 유사도) / 2\n        const overallSimilarity = (artistSimilarity + titleSimilarity) / 2;\n        // 높은 유사도 결과만 로그\n        if (overallSimilarity > 0.3) {\n            console.log(`🎯 매치: \"${song.artist}\" - \"${song.title}\" (${(overallSimilarity * 100).toFixed(1)}%)`);\n        }\n        // 최소 임계값 이상인 경우만 후보로 추가 (임계값 낮춤)\n        if (overallSimilarity > 0.1) {\n            candidates.push({\n                song,\n                artistSimilarity,\n                titleSimilarity,\n                overallSimilarity,\n                isExactMatch: overallSimilarity >= 0.95\n            });\n        }\n        processedCount++;\n    }\n    console.log(`✅ 검색 완료: ${candidates.length}개 후보 발견`);\n    // 일치율 순으로 정렬\n    candidates.sort((a, b)=>b.overallSimilarity - a.overallSimilarity);\n    return candidates.slice(0, 10); // 상위 10개만 반환\n}\n// 시간 파라미터를 초로 변환하는 함수 (콜론 형태 우선 처리)\nfunction parseTimeToSeconds(timeParam) {\n    // 콜론 형태 처리 (최우선)\n    // h:m:s 형식 (예: 1:23:45)\n    const colonHmsMatch = timeParam.match(/^(\\d{1,2}):(\\d{2}):(\\d{2})$/);\n    if (colonHmsMatch) {\n        const hours = parseInt(colonHmsMatch[1]);\n        const minutes = parseInt(colonHmsMatch[2]);\n        const seconds = parseInt(colonHmsMatch[3]);\n        return hours * 3600 + minutes * 60 + seconds;\n    }\n    // m:s 형식 (예: 23:45)\n    const colonMsMatch = timeParam.match(/^(\\d{1,2}):(\\d{2})$/);\n    if (colonMsMatch) {\n        const minutes = parseInt(colonMsMatch[1]);\n        const seconds = parseInt(colonMsMatch[2]);\n        return minutes * 60 + seconds;\n    }\n    // 숫자만 있는 경우 (초)\n    if (/^\\d+$/.test(timeParam)) {\n        return parseInt(timeParam);\n    }\n    // h:m:s 형식 (예: 1h23m45s)\n    const hmsMatch = timeParam.match(/(\\d+)h(\\d+)m(\\d+)s/);\n    if (hmsMatch) {\n        const hours = parseInt(hmsMatch[1]);\n        const minutes = parseInt(hmsMatch[2]);\n        const seconds = parseInt(hmsMatch[3]);\n        return hours * 3600 + minutes * 60 + seconds;\n    }\n    // m:s 형식 (예: 23m45s)\n    const msMatch = timeParam.match(/(\\d+)m(\\d+)s/);\n    if (msMatch) {\n        const minutes = parseInt(msMatch[1]);\n        const seconds = parseInt(msMatch[2]);\n        return minutes * 60 + seconds;\n    }\n    // h:m 형식 (예: 1h23m)\n    const hmMatch = timeParam.match(/(\\d+)h(\\d+)m/);\n    if (hmMatch) {\n        const hours = parseInt(hmMatch[1]);\n        const minutes = parseInt(hmMatch[2]);\n        return hours * 3600 + minutes * 60;\n    }\n    // m 형식 (예: 23m)\n    const mMatch = timeParam.match(/(\\d+)m/);\n    if (mMatch) {\n        const minutes = parseInt(mMatch[1]);\n        return minutes * 60;\n    }\n    // s 형식 (예: 45s)\n    const sMatch = timeParam.match(/(\\d+)s/);\n    if (sMatch) {\n        return parseInt(sMatch[1]);\n    }\n    return 0;\n}\n// 개선된 HTML 엔티티 디코딩 함수\nfunction decodeHtmlEntities(text) {\n    // 기본 HTML 엔티티 매핑\n    const namedEntities = {\n        '&amp;': '&',\n        '&lt;': '<',\n        '&gt;': '>',\n        '&quot;': '\"',\n        '&apos;': \"'\",\n        '&nbsp;': ' ',\n        '&copy;': '©',\n        '&reg;': '®',\n        '&trade;': '™'\n    };\n    return text// 1. 숫자 형태의 HTML 엔티티 디코딩 (&#39; → ')\n    .replace(/&#(\\d+);/g, (match, code)=>{\n        try {\n            return String.fromCharCode(parseInt(code, 10));\n        } catch (e) {\n            return match; // 변환 실패 시 원본 반환\n        }\n    })// 2. 16진수 형태의 HTML 엔티티 디코딩 (&#x27; → ')\n    .replace(/&#x([0-9a-fA-F]+);/g, (match, code)=>{\n        try {\n            return String.fromCharCode(parseInt(code, 16));\n        } catch (e) {\n            return match; // 변환 실패 시 원본 반환\n        }\n    })// 3. 이름 기반 HTML 엔티티 디코딩\n    .replace(/&[a-zA-Z][a-zA-Z0-9]*;/g, (entity)=>{\n        return namedEntities[entity] || entity;\n    });\n}\n// 음악 컨텐츠 여부 판단 함수 (모든 것 포함)\nfunction isMusicContent(text) {\n    // 완전히 빈 텍스트나 의미없는 기호만 제외\n    if (!text || text.trim() === '' || /^[?!.~\\s]*$/.test(text)) {\n        return false;\n    }\n    // 그 외 모든 내용 포함\n    return true;\n}\n// 범용 타임라인 파싱 함수 - 모든 타임스탬프 패턴을 캐치\nfunction splitCommentByTimestamps(decodedHtml) {\n    console.log('🔍 범용 타임라인 파싱 시작...');\n    const results = [];\n    let baseVideoUrl = '';\n    // 첫 번째 유튜브 링크에서 기본 URL 추출\n    const linkMatch = decodedHtml.match(/<a[^>]*href=\"([^\"]*youtube[^\"]*)\"[^>]*>/);\n    if (linkMatch) {\n        baseVideoUrl = linkMatch[1].replace(/[?&]t=\\d+/, '').replace(/[?&]$/, '');\n    }\n    // 1단계: 모든 타임스탬프 링크를 찾고 주변 텍스트 추출\n    const allTimestampPattern = /<a[^>]*>(\\d{1,2}:\\d{2}(?::\\d{2})?)<\\/a>/g;\n    let match;\n    const timestampPositions = [];\n    while((match = allTimestampPattern.exec(decodedHtml)) !== null){\n        timestampPositions.push({\n            timeText: match[1],\n            timeSeconds: parseTimeToSeconds(match[1]),\n            startPos: match.index,\n            endPos: match.index + match[0].length,\n            fullMatch: match[0]\n        });\n    }\n    console.log(`🕐 총 ${timestampPositions.length}개 타임스탬프 발견`);\n    // 2단계: 각 타임스탬프 주변의 컨텍스트 추출\n    timestampPositions.forEach((timestamp, index)=>{\n        // 현재 타임스탬프 이후부터 다음 타임스탬프 전까지의 텍스트\n        const nextStartPos = index < timestampPositions.length - 1 ? timestampPositions[index + 1].startPos : decodedHtml.length;\n        const contextText = decodedHtml.substring(timestamp.endPos, nextStartPos);\n        // 텍스트 정리 및 추출\n        let cleanText = contextText.replace(/<br\\s*\\/?>/gi, ' ') // <br> 태그를 공백으로\n        .replace(/<[^>]*>/g, ' ') // 모든 HTML 태그 제거\n        .replace(/\\s+/g, ' ') // 연속 공백을 하나로\n        .trim();\n        // 특수 마커나 브래킷 정보 제거\n        cleanText = cleanText.replace(/^[🎵🪻]\\s*/, '') // 이모지 마커 제거\n        .replace(/^\\[.*?\\]\\s*/, '') // 브래킷 정보 제거 ([저챗], [노래타임] 등)\n        .replace(/^\\s*-\\s*/, '') // 시작 대시 제거\n        .replace(/^\\s*~\\s*/, '') // 시작 틸드 제거\n        .trim();\n        // VS 패턴 처리 - \"곡1 VS 시간 곡2\" 형태를 분리\n        const vsMatch = cleanText.match(/^(.*?)\\s+VS\\s+(\\d{1,2}:\\d{2}(?::\\d{2})?)\\s+(.*?)$/);\n        if (vsMatch) {\n            // VS 앞부분만 현재 타임스탬프에 연결\n            cleanText = vsMatch[1].trim();\n        }\n        // 빈 텍스트나 너무 짧은 텍스트 스킵\n        if (!cleanText || cleanText.length < 2) {\n            return;\n        }\n        // 음악 관련 여부 판단\n        const isLikelyMusic = isMusicContent(cleanText);\n        if (isLikelyMusic) {\n            results.push({\n                timeText: timestamp.timeText,\n                timeSeconds: timestamp.timeSeconds,\n                content: cleanText,\n                baseVideoUrl,\n                source: 'general'\n            });\n            console.log(`🎶 발견: ${timestamp.timeText} → \"${cleanText}\"`);\n        } else {\n            console.log(`❌ 제외: ${timestamp.timeText} → \"${cleanText.substring(0, 50)}...\"`);\n        }\n    });\n    // 시간순 정렬\n    results.sort((a, b)=>a.timeSeconds - b.timeSeconds);\n    console.log(`📍 총 ${results.length}개 음악 항목 발견`);\n    return results;\n}\n// 기본 비디오 URL 추출\nfunction extractBaseVideoUrl(timelines) {\n    const linkTimeline = timelines.find((t)=>t.type === 'link' && t.url);\n    if (linkTimeline) {\n        return linkTimeline.url.replace(/[?&]t=\\d+/, '').replace(/[?&]$/, '');\n    }\n    return '';\n}\n// 완전히 새로운 타임라인 파싱 함수\nfunction parseTimelineComment(htmlText, videoTitle) {\n    console.log(`🔍 원본 댓글 파싱 시작...`);\n    // HTML 엔티티 디코딩\n    const decodedHtml = decodeHtmlEntities(htmlText);\n    // 1단계: 타임스탬프 기준으로 댓글을 완전히 분할\n    const sections = splitCommentByTimestamps(decodedHtml);\n    if (sections.length === 0) {\n        console.log(`❌ 타임스탬프가 발견되지 않음`);\n        return [];\n    }\n    console.log(`📊 총 ${sections.length}개 구간으로 분할됨`);\n    // 2단계: 각 분할된 구간을 개별적으로 파싱 (원본 댓글은 더 이상 보지 않음)\n    const rawMatches = [];\n    for(let i = 0; i < sections.length; i++){\n        const section = sections[i];\n        console.log(`\\n🔄 구간 ${i + 1} 개별 파싱: ${section.timeText}`);\n        console.log(`📝 구간 내용: \"${section.content}\"`);\n        // 3단계: 분할된 구간만 사용하여 곡 정보 파싱\n        const songInfo = parseSongInfo(section.content);\n        const isRelevant = songInfo.artist !== '알 수 없음';\n        rawMatches.push({\n            url: section.baseVideoUrl || '',\n            timeSeconds: section.timeSeconds,\n            timeText: section.timeText,\n            sectionText: section.content,\n            artist: songInfo.artist,\n            songTitle: songInfo.songTitle,\n            isRelevant: isRelevant\n        });\n        console.log(`${isRelevant ? '✅' : '⚠️'} 구간 파싱 완료: ${section.timeText} - ${songInfo.artist} - ${songInfo.songTitle}`);\n    }\n    console.log(`📊 총 ${rawMatches.length}개 유효한 곡 발견`);\n    // 시간순 정렬\n    rawMatches.sort((a, b)=>a.timeSeconds - b.timeSeconds);\n    // 기본 비디오 URL 추출 (t 파라미터 제거)\n    const baseVideoUrl = rawMatches.length > 0 ? rawMatches[0].url.replace(/[?&]t=\\d+/, '').replace(/[?&]$/, '') : '';\n    // 날짜 추출\n    const dateInfo = extractDateFromTitle(videoTitle);\n    // 결과 배열 초기화\n    const songEntries = [];\n    // 각 곡 정보와 시작/종료 시간 계산\n    for(let i = 0; i < rawMatches.length; i++){\n        const current = rawMatches[i];\n        const next = rawMatches[i + 1];\n        const liveClip = {\n            videoUrl: baseVideoUrl,\n            artist: current.artist,\n            songTitle: current.songTitle,\n            startTimeSeconds: current.timeSeconds,\n            endTimeSeconds: next ? next.timeSeconds : null,\n            duration: next ? next.timeSeconds - current.timeSeconds : null,\n            uploadedDate: dateInfo.date,\n            originalDateString: dateInfo.originalString,\n            isRelevant: current.isRelevant\n        };\n        songEntries.push(liveClip);\n    }\n    return songEntries;\n}\n// 곡 정보 파싱 함수 (아티스트와 곡명 분리)\nfunction parseSongInfo(songText) {\n    const cleanText = songText.trim();\n    // 다양한 구분자로 분리 시도\n    const separators = [\n        ' - ',\n        ' – ',\n        ' — ',\n        ' | ',\n        ' / '\n    ];\n    for (const separator of separators){\n        if (cleanText.includes(separator)) {\n            const parts = cleanText.split(separator);\n            if (parts.length >= 2 && parts[0].trim() && parts[1].trim()) {\n                return {\n                    artist: parts[0].trim(),\n                    songTitle: parts.slice(1).join(separator).trim()\n                };\n            }\n        }\n    }\n    // 구분자가 없는 경우, 전체를 곡명으로 처리\n    return {\n        artist: '알 수 없음',\n        songTitle: cleanText\n    };\n}\n// 초를 HH:MM:SS 또는 MM:SS 형식으로 변환\nfunction formatSeconds(seconds) {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor(seconds % 3600 / 60);\n    const secs = seconds % 60;\n    if (hours > 0) {\n        return `${hours}:${minutes.toString().padStart(2, '0')}:${secs.toString().padStart(2, '0')}`;\n    } else {\n        return `${minutes}:${secs.toString().padStart(2, '0')}`;\n    }\n}\n// 노래 데이터베이스에서 매칭 찾기\nasync function findSongMatches(artist, songTitle) {\n    try {\n        // 활성 상태인 곡들만 검색\n        const songs = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].find({\n            status: {\n                $in: [\n                    'active',\n                    'pending'\n                ]\n            }\n        }).lean();\n        const normalizedInputArtist = normalizeText(artist);\n        const normalizedInputTitle = normalizeText(songTitle);\n        const matches = [];\n        for (const song of songs){\n            // 기본 아티스트/제목 매칭\n            const artistSimilarity = calculateSimilarity(normalizedInputArtist, normalizeText(song.artist));\n            const titleSimilarity = calculateSimilarity(normalizedInputTitle, normalizeText(song.title));\n            // 별칭이 있는 경우 별칭도 확인\n            let bestArtistSimilarity = artistSimilarity;\n            let bestTitleSimilarity = titleSimilarity;\n            if (song.artistAlias) {\n                const aliasSimilarity = calculateSimilarity(normalizedInputArtist, normalizeText(song.artistAlias));\n                bestArtistSimilarity = Math.max(bestArtistSimilarity, aliasSimilarity);\n            }\n            if (song.titleAlias) {\n                const aliasSimilarity = calculateSimilarity(normalizedInputTitle, normalizeText(song.titleAlias));\n                bestTitleSimilarity = Math.max(bestTitleSimilarity, aliasSimilarity);\n            }\n            // 검색 태그도 확인\n            if (song.searchTags && song.searchTags.length > 0) {\n                for (const tag of song.searchTags){\n                    const tagArtistSimilarity = calculateSimilarity(normalizedInputArtist, normalizeText(tag));\n                    const tagTitleSimilarity = calculateSimilarity(normalizedInputTitle, normalizeText(tag));\n                    bestArtistSimilarity = Math.max(bestArtistSimilarity, tagArtistSimilarity);\n                    bestTitleSimilarity = Math.max(bestTitleSimilarity, tagTitleSimilarity);\n                }\n            }\n            // 종합 점수 계산 (아티스트 40%, 제목 60%)\n            const overallConfidence = bestArtistSimilarity * 0.4 + bestTitleSimilarity * 0.6;\n            // 최소 신뢰도 기준 (0.6 이상만 후보로 선정)\n            if (overallConfidence >= 0.6) {\n                matches.push({\n                    songId: song._id.toString(),\n                    title: song.title,\n                    artist: song.artist,\n                    confidence: overallConfidence,\n                    artistSimilarity: bestArtistSimilarity,\n                    titleSimilarity: bestTitleSimilarity,\n                    matchedField: bestArtistSimilarity > artistSimilarity || bestTitleSimilarity > titleSimilarity ? 'alias' : 'main'\n                });\n            }\n        }\n        // 신뢰도 순으로 정렬하고 상위 5개만 반환\n        return matches.sort((a, b)=>b.confidence - a.confidence).slice(0, 5);\n    } catch (error) {\n        console.error('노래 매칭 중 오류:', error);\n        return [];\n    }\n}\n// 최적 매칭 선택 (가장 높은 신뢰도)\nasync function getBestSongMatch(artist, songTitle) {\n    const matches = await findSongMatches(artist, songTitle);\n    if (matches.length === 0) return null;\n    const bestMatch = matches[0];\n    // 신뢰도가 0.8 이상일 때만 자동 매칭으로 처리\n    if (bestMatch.confidence >= 0.8) {\n        return {\n            songId: bestMatch.songId,\n            title: bestMatch.title,\n            artist: bestMatch.artist,\n            confidence: bestMatch.confidence\n        };\n    }\n    return null;\n}\n// 비디오 제목에서 날짜 추출 (개선된 버전)\nfunction extractDateFromTitle(title) {\n    // 25.06.01 형식 패턴 (YY.MM.DD)\n    const shortYearPattern = /(\\d{2})\\.(\\d{1,2})\\.(\\d{1,2})/;\n    const shortYearMatch = title.match(shortYearPattern);\n    if (shortYearMatch) {\n        const year = parseInt(shortYearMatch[1]);\n        const month = parseInt(shortYearMatch[2]);\n        const day = parseInt(shortYearMatch[3]);\n        // 2000년대로 가정 (25 -> 2025)\n        const fullYear = year < 50 ? 2000 + year : 1900 + year;\n        try {\n            const date = new Date(fullYear, month - 1, day);\n            return {\n                date: date,\n                originalString: shortYearMatch[0]\n            };\n        } catch (error) {\n            console.error('날짜 파싱 오류:', error);\n        }\n    }\n    // 다른 날짜 형식들\n    const datePatterns = [\n        {\n            pattern: /(\\d{4})[\\.\\-\\/](\\d{1,2})[\\.\\-\\/](\\d{1,2})/,\n            parser: (match)=>new Date(parseInt(match[1]), parseInt(match[2]) - 1, parseInt(match[3]))\n        },\n        {\n            pattern: /(\\d{1,2})[\\.\\-\\/](\\d{1,2})[\\.\\-\\/](\\d{4})/,\n            parser: (match)=>new Date(parseInt(match[3]), parseInt(match[1]) - 1, parseInt(match[2]))\n        },\n        {\n            pattern: /(\\d{4})년\\s*(\\d{1,2})월\\s*(\\d{1,2})일/,\n            parser: (match)=>new Date(parseInt(match[1]), parseInt(match[2]) - 1, parseInt(match[3]))\n        }\n    ];\n    for (const { pattern, parser } of datePatterns){\n        const match = title.match(pattern);\n        if (match) {\n            try {\n                const date = parser(match);\n                return {\n                    date: date,\n                    originalString: match[0]\n                };\n            } catch (error) {\n                console.error('날짜 파싱 오류:', error);\n            }\n        }\n    }\n    return {\n        date: null,\n        originalString: null\n    };\n}\nasync function POST(request) {\n    try {\n        const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_authOptions__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session || !(0,_lib_permissions__WEBPACK_IMPORTED_MODULE_3__.hasPermission)(session.user.role, _lib_permissions__WEBPACK_IMPORTED_MODULE_3__.Permission.SONGS_EDIT)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: '편집 권한이 필요합니다.'\n            }, {\n                status: 403\n            });\n        }\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n        const body = await request.json();\n        const { action, itemId, isRelevant, isExcluded, skipProcessed = true } = body;\n        switch(action){\n            case 'reprocess-timeline-comments':\n                // 기존 데이터를 개선된 멀티라인 파싱 방식으로 업데이트\n                console.log('🔄 기존 파싱된 타임라인 데이터를 개선된 방식으로 업데이트 시작...');\n                // 모든 타임라인 댓글 조회 (처리완료 여부 무관)\n                const allTimelineComments = await _models_YouTubeComment__WEBPACK_IMPORTED_MODULE_5__.YouTubeComment.find({\n                    isTimeline: true\n                });\n                console.log(`📝 총 ${allTimelineComments.length}개 타임라인 댓글 발견`);\n                let reprocessedCount = 0;\n                let dataUpdatedCount = 0;\n                let newItemsCount = 0;\n                for (const comment of allTimelineComments){\n                    try {\n                        // 비디오 정보 조회\n                        const video = await _models_YouTubeComment__WEBPACK_IMPORTED_MODULE_5__.YouTubeVideo.findOne({\n                            videoId: comment.videoId\n                        });\n                        if (!video) continue;\n                        console.log(`🔍 재처리 중: ${comment.commentId}`);\n                        const hasHtmlLinks = comment.textContent.includes('<a ');\n                        if (hasHtmlLinks) {\n                            // 개선된 멀티라인 타임라인 댓글 파싱\n                            const liveClips = parseTimelineComment(comment.textContent, video.title);\n                            if (liveClips.length > 0) {\n                                // 이 댓글에서 기존에 파싱된 타임라인들 조회\n                                const existingTimelines = await ParsedTimeline.find({\n                                    commentId: comment.commentId\n                                });\n                                // 기존 파싱 결과와 새 파싱 결과 비교\n                                console.log(`🔍 새로 파싱된 클립 개수: ${liveClips.length}개`);\n                                console.log(`🔍 기존 타임라인 개수: ${existingTimelines.length}개`);\n                                for (const clipData of liveClips){\n                                    console.log(`🔍 새 클립 - 시작시간: ${clipData.startTimeSeconds}초, 아티스트: ${clipData.artist}, 곡명: ${clipData.songTitle}`);\n                                    // 먼저 startTimeSeconds로 매칭 시도\n                                    let existingClip = existingTimelines.find((timeline)=>timeline.startTimeSeconds === clipData.startTimeSeconds);\n                                    // startTimeSeconds로 매칭되지 않는 경우, 아티스트-곡명으로 매칭 시도\n                                    if (!existingClip) {\n                                        existingClip = existingTimelines.find((timeline)=>timeline.artist === clipData.artist && timeline.songTitle === clipData.songTitle);\n                                        if (existingClip) {\n                                            console.log(`🔄 아티스트-곡명으로 매칭됨: ${existingClip.artist} - ${existingClip.songTitle} (기존 시간: ${existingClip.startTimeSeconds}초 → 새 시간: ${clipData.startTimeSeconds}초)`);\n                                        }\n                                    } else {\n                                        console.log(`✅ 시작시간으로 매칭됨: ${clipData.startTimeSeconds}초`);\n                                    }\n                                    if (existingClip) {\n                                        // 기존 데이터를 새로운 파싱 결과로 업데이트\n                                        const updateData = {\n                                            artist: clipData.artist,\n                                            songTitle: clipData.songTitle,\n                                            startTimeSeconds: clipData.startTimeSeconds,\n                                            endTimeSeconds: clipData.endTimeSeconds,\n                                            duration: clipData.duration,\n                                            isRelevant: clipData.isRelevant,\n                                            originalComment: comment.textContent,\n                                            updatedAt: new Date()\n                                        };\n                                        // 댓글 작성자 정보가 없는 경우에만 추가\n                                        if (!existingClip.commentAuthor) {\n                                            updateData.commentAuthor = comment.authorName;\n                                            updateData.commentId = comment.commentId;\n                                            updateData.commentPublishedAt = comment.publishedAt;\n                                        }\n                                        await ParsedTimeline.updateOne({\n                                            _id: existingClip._id\n                                        }, updateData);\n                                        dataUpdatedCount++;\n                                        console.log(`🔄 업데이트됨: ${clipData.startTimeSeconds}초 - ${clipData.artist} - ${clipData.songTitle}`);\n                                    } else {\n                                        // 새로운 데이터는 생성하지 않음 (기존 데이터 업데이트만)\n                                        console.log(`⏭️ 새로운 타임라인 발견했지만 생성하지 않음: ${clipData.startTimeSeconds}초 - ${clipData.artist} - ${clipData.songTitle}`);\n                                    }\n                                }\n                            }\n                            reprocessedCount++;\n                        }\n                    } catch (error) {\n                        console.error(`댓글 재처리 오류 (${comment.commentId}):`, error);\n                    }\n                }\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    message: `기존 데이터 업데이트 완료: ${reprocessedCount}개 댓글 처리, ${dataUpdatedCount}개 기존 데이터 업데이트 (새로운 데이터 생성 없음)`,\n                    data: {\n                        reprocessedCount,\n                        dataUpdatedCount,\n                        newItemsSkipped: newItemsCount\n                    }\n                });\n            case 'parse-timeline-comments':\n                console.log(`🔄 타임라인 댓글 파싱 시작... (처리완료 댓글 스킵: ${skipProcessed ? '예' : '아니오'})`);\n                // 타임라인 댓글 조회 (skipProcessed 옵션에 따라 필터링)\n                const queryFilter = {\n                    isTimeline: true\n                };\n                if (skipProcessed) {\n                    queryFilter.isProcessed = {\n                        $ne: true\n                    }; // isProcessed가 true가 아닌 것들만\n                }\n                const timelineComments = await _models_YouTubeComment__WEBPACK_IMPORTED_MODULE_5__.YouTubeComment.find(queryFilter);\n                console.log(`📝 총 ${timelineComments.length}개 타임라인 댓글 발견`);\n                // 이미 파싱된 commentId 목록 조회\n                const existingCommentIds = await ParsedTimeline.distinct('commentId');\n                console.log(`📊 기존에 파싱된 댓글: ${existingCommentIds.length}개`);\n                // 새로운 댓글과 최근에 업데이트된 댓글 필터링 (최근 7일 이내 업데이트된 댓글 재처리)\n                const sevenDaysAgo = new Date();\n                sevenDaysAgo.setDate(sevenDaysAgo.getDate() - 7);\n                const newTimelineComments = timelineComments.filter((comment)=>{\n                    const isNotProcessed = !existingCommentIds.includes(comment.commentId);\n                    const isRecentlyUpdated = comment.updatedAt && new Date(comment.updatedAt) > sevenDaysAgo;\n                    if (skipProcessed) {\n                        // skipProcessed가 true면 이미 DB 쿼리에서 필터링했으므로 추가 필터링 불필요\n                        return isNotProcessed || isRecentlyUpdated;\n                    } else {\n                        // skipProcessed가 false면 모든 댓글 처리 (처리완료 여부 무관)\n                        return isNotProcessed || isRecentlyUpdated;\n                    }\n                });\n                console.log(`📝 새로 처리할 댓글: ${newTimelineComments.length}개`);\n                console.log(`   - 완전히 새로운 댓글: ${timelineComments.filter((c)=>!existingCommentIds.includes(c.commentId)).length}개`);\n                console.log(`   - 최근 업데이트된 댓글: ${timelineComments.filter((c)=>existingCommentIds.includes(c.commentId) && c.updatedAt && new Date(c.updatedAt) > sevenDaysAgo).length}개`);\n                if (newTimelineComments.length === 0) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        message: '새로 파싱할 타임라인 댓글이 없습니다.',\n                        data: {\n                            newComments: 0,\n                            totalComments: timelineComments.length\n                        }\n                    });\n                }\n                // 처음 몇 개 댓글의 샘플 출력\n                console.log('\\n📋 첫 3개 댓글 샘플:');\n                for(let i = 0; i < Math.min(3, newTimelineComments.length); i++){\n                    const sample = newTimelineComments[i];\n                    console.log(`\\n샘플 ${i + 1} (${sample.commentId}):`);\n                    console.log(`내용: ${sample.textContent.substring(0, 300)}`);\n                    console.log(`HTML 링크 포함: ${sample.textContent.includes('<a ')}`);\n                    console.log(`YouTube 링크 포함: ${sample.textContent.includes('youtube.com')}`);\n                }\n                let processedCount = 0;\n                let totalLiveClips = 0;\n                for (const comment of newTimelineComments){\n                    try {\n                        // 비디오 정보 조회\n                        const video = await _models_YouTubeComment__WEBPACK_IMPORTED_MODULE_5__.YouTubeVideo.findOne({\n                            videoId: comment.videoId\n                        });\n                        if (!video) continue;\n                        // 디버그: 댓글 내용 확인\n                        console.log(`\\n🔍 댓글 내용 (${comment.commentId}):`);\n                        console.log(comment.textContent.substring(0, 200) + '...');\n                        // HTML 링크가 있는지 확인\n                        const hasHtmlLinks = comment.textContent.includes('<a ');\n                        console.log(`HTML 링크 포함: ${hasHtmlLinks}`);\n                        if (hasHtmlLinks) {\n                            // 타임라인 댓글 파싱\n                            const liveClips = parseTimelineComment(comment.textContent, video.title);\n                            console.log(`파싱 결과: ${liveClips.length}개 클립`);\n                            if (liveClips.length > 0) {\n                                console.log(`🎵 ${video.title}에서 ${liveClips.length}개 곡 발견`);\n                                for (const clipData of liveClips){\n                                    const clipId = `${comment.commentId}_${clipData.startTimeSeconds}`;\n                                    // 기존 파싱된 타임라인이 있는지 확인 (videoId + startTimeSeconds ±10초 범위로)\n                                    const existingClip = await ParsedTimeline.findOne({\n                                        videoId: comment.videoId,\n                                        startTimeSeconds: {\n                                            $gte: clipData.startTimeSeconds - 10,\n                                            $lte: clipData.startTimeSeconds + 10\n                                        }\n                                    });\n                                    if (existingClip) {\n                                        // 기존 데이터가 있으면 스킵\n                                        console.log(`⏭️ 스킵 (기존 데이터 존재): ${clipData.artist} - ${clipData.songTitle} (${formatSeconds(clipData.startTimeSeconds)}, 기존: ${formatSeconds(existingClip.startTimeSeconds)})`);\n                                    } else {\n                                        // 새로운 데이터 생성\n                                        const parsedTimeline = new ParsedTimeline({\n                                            id: clipId,\n                                            videoId: comment.videoId,\n                                            videoTitle: video.title,\n                                            uploadedDate: clipData.uploadedDate || video.publishedAt,\n                                            originalDateString: clipData.originalDateString,\n                                            artist: clipData.artist,\n                                            songTitle: clipData.songTitle,\n                                            videoUrl: clipData.videoUrl,\n                                            startTimeSeconds: clipData.startTimeSeconds,\n                                            endTimeSeconds: clipData.endTimeSeconds,\n                                            duration: clipData.duration,\n                                            originalComment: comment.textContent,\n                                            commentAuthor: comment.authorName,\n                                            commentId: comment.commentId,\n                                            commentPublishedAt: comment.publishedAt,\n                                            isRelevant: clipData.isRelevant,\n                                            isExcluded: false\n                                        });\n                                        await parsedTimeline.save();\n                                        totalLiveClips++;\n                                        console.log(`💾 새로 저장: ${clipData.artist} - ${clipData.songTitle} (${formatSeconds(clipData.startTimeSeconds)}${clipData.endTimeSeconds ? ` ~ ${formatSeconds(clipData.endTimeSeconds)}` : ''}) ${clipData.isRelevant ? '[관련성 있음]' : '[관련성 없음]'}`);\n                                    }\n                                }\n                            }\n                            // 댓글을 처리완료로 표시\n                            await _models_YouTubeComment__WEBPACK_IMPORTED_MODULE_5__.YouTubeComment.updateOne({\n                                commentId: comment.commentId\n                            }, {\n                                isProcessed: true,\n                                processedAt: new Date(),\n                                processedBy: 'timeline-parser'\n                            });\n                            processedCount++;\n                        } else {\n                            console.log(`❌ HTML 링크 없음, 건너뜀`);\n                        }\n                    } catch (error) {\n                        console.error(`댓글 파싱 오류 (${comment.commentId}):`, error);\n                    }\n                }\n                // 통계 계산\n                const totalVideos = await _models_YouTubeComment__WEBPACK_IMPORTED_MODULE_5__.YouTubeVideo.countDocuments();\n                const totalTimelineComments = await _models_YouTubeComment__WEBPACK_IMPORTED_MODULE_5__.YouTubeComment.countDocuments({\n                    isTimeline: true\n                });\n                const allParsedTimelines = await ParsedTimeline.find().sort({\n                    uploadedDate: -1,\n                    startTimeSeconds: 1\n                });\n                const relevantClips = allParsedTimelines.filter((clip)=>clip.isRelevant && !clip.isExcluded).length;\n                const matchedClips = allParsedTimelines.filter((clip)=>clip.matchedSong).length;\n                // 고유 곡 수 계산\n                const uniqueSongsSet = new Set();\n                allParsedTimelines.forEach((clip)=>{\n                    uniqueSongsSet.add(`${clip.artist}_${clip.songTitle}`);\n                });\n                const stats = {\n                    totalVideos,\n                    totalTimelineComments,\n                    parsedItems: allParsedTimelines.length,\n                    relevantItems: relevantClips,\n                    matchedSongs: matchedClips,\n                    uniqueSongs: uniqueSongsSet.size\n                };\n                console.log(`✅ 타임라인 파싱 완료: ${processedCount}개 댓글에서 ${totalLiveClips}개 파싱된 타임라인 생성`);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    data: {\n                        items: allParsedTimelines,\n                        stats\n                    },\n                    message: `타임라인 파싱 완료: ${totalLiveClips}개 파싱된 타임라인 생성`\n                });\n            case 'update-item-relevance':\n                if (!itemId) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'itemId가 필요합니다.'\n                    }, {\n                        status: 400\n                    });\n                }\n                await ParsedTimeline.updateOne({\n                    id: itemId\n                }, {\n                    isRelevant: isRelevant,\n                    updatedAt: new Date()\n                });\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    message: '관련성 상태가 업데이트되었습니다.'\n                });\n            case 'update-item-exclusion':\n                if (!itemId) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'itemId가 필요합니다.'\n                    }, {\n                        status: 400\n                    });\n                }\n                await ParsedTimeline.updateOne({\n                    id: itemId\n                }, {\n                    isExcluded: isExcluded,\n                    updatedAt: new Date()\n                });\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    message: '제외 상태가 업데이트되었습니다.'\n                });\n            case 'find-song-matches':\n                if (!itemId) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'itemId가 필요합니다.'\n                    }, {\n                        status: 400\n                    });\n                }\n                const parsedTimeline = await ParsedTimeline.findOne({\n                    id: itemId\n                });\n                if (!parsedTimeline) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: '파싱된 타임라인을 찾을 수 없습니다.'\n                    }, {\n                        status: 404\n                    });\n                }\n                const songMatches = await findSongMatches(parsedTimeline.artist, parsedTimeline.songTitle);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    data: {\n                        parsedTimeline: {\n                            id: parsedTimeline.id,\n                            artist: parsedTimeline.artist,\n                            songTitle: parsedTimeline.songTitle\n                        },\n                        matches: songMatches\n                    }\n                });\n            case 'assign-song-match':\n                const { songId, confidence } = body;\n                if (!itemId || !songId) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'itemId와 songId가 필요합니다.'\n                    }, {\n                        status: 400\n                    });\n                }\n                // 선택된 곡 정보 조회\n                const selectedSong = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findById(songId);\n                if (!selectedSong) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: '선택된 곡을 찾을 수 없습니다.'\n                    }, {\n                        status: 404\n                    });\n                }\n                await ParsedTimeline.updateOne({\n                    id: itemId\n                }, {\n                    matchedSong: {\n                        songId: selectedSong._id.toString(),\n                        title: selectedSong.title,\n                        artist: selectedSong.artist,\n                        confidence: confidence || 1.0 // 수동 매칭은 기본적으로 100% 신뢰도\n                    },\n                    updatedAt: new Date()\n                });\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    message: '곡 매칭이 완료되었습니다.'\n                });\n            case 'remove-song-match':\n                if (!itemId) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'itemId가 필요합니다.'\n                    }, {\n                        status: 400\n                    });\n                }\n                await ParsedTimeline.updateOne({\n                    id: itemId\n                }, {\n                    $unset: {\n                        matchedSong: \"\"\n                    },\n                    updatedAt: new Date()\n                });\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    message: '곡 매칭이 해제되었습니다.'\n                });\n            case 'update-live-clip':\n                const { artist, songTitle, startTimeSeconds, endTimeSeconds, customDescription } = body;\n                if (!itemId) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'itemId가 필요합니다.'\n                    }, {\n                        status: 400\n                    });\n                }\n                const updateFields = {\n                    updatedAt: new Date()\n                };\n                if (artist !== undefined) updateFields.artist = artist.trim();\n                if (songTitle !== undefined) updateFields.songTitle = songTitle.trim();\n                if (startTimeSeconds !== undefined) updateFields.startTimeSeconds = startTimeSeconds;\n                if (endTimeSeconds !== undefined) updateFields.endTimeSeconds = endTimeSeconds;\n                if (customDescription !== undefined) updateFields.customDescription = customDescription;\n                // 지속 시간 재계산 (종료 시간이 있는 경우)\n                if (endTimeSeconds !== undefined && startTimeSeconds !== undefined) {\n                    updateFields.duration = endTimeSeconds > startTimeSeconds ? endTimeSeconds - startTimeSeconds : null;\n                }\n                await ParsedTimeline.updateOne({\n                    id: itemId\n                }, updateFields);\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    message: '파싱된 타임라인 정보가 업데이트되었습니다.'\n                });\n            case 'search-song-matches':\n                const { searchArtist, searchTitle } = body;\n                if (!searchArtist || !searchTitle) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'searchArtist와 searchTitle이 필요합니다.'\n                    }, {\n                        status: 400\n                    });\n                }\n                try {\n                    const candidates = await matchTimelineWithSongs(searchArtist, searchTitle);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        data: {\n                            query: {\n                                artist: searchArtist,\n                                title: searchTitle\n                            },\n                            candidates: candidates || []\n                        }\n                    });\n                } catch (error) {\n                    console.error('곡 검색 오류:', error);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: '곡 검색 중 오류가 발생했습니다.'\n                    }, {\n                        status: 500\n                    });\n                }\n            case 'match-timeline-song':\n                const { timelineId, songId: matchSongId, confidence: matchConfidence } = body;\n                if (!timelineId) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'timelineId가 필요합니다.'\n                    }, {\n                        status: 400\n                    });\n                }\n                try {\n                    const updateData = {\n                        updatedAt: new Date()\n                    };\n                    if (matchSongId) {\n                        // 곡 매칭\n                        const matchedSong = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findById(matchSongId);\n                        if (!matchedSong) {\n                            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                                success: false,\n                                error: '해당 곡을 찾을 수 없습니다.'\n                            }, {\n                                status: 404\n                            });\n                        }\n                        updateData.matchedSong = {\n                            songId: matchedSong._id.toString(),\n                            title: matchedSong.title,\n                            artist: matchedSong.artist,\n                            confidence: matchConfidence || 0.9\n                        };\n                    } else {\n                        // 매칭 해제\n                        updateData.$unset = {\n                            matchedSong: \"\"\n                        };\n                    }\n                    await ParsedTimeline.updateOne({\n                        id: timelineId\n                    }, updateData);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        message: matchSongId ? '곡이 매칭되었습니다.' : '곡 매칭이 해제되었습니다.',\n                        data: {\n                            matchInfo: matchSongId ? {\n                                title: updateData.matchedSong?.title,\n                                artist: updateData.matchedSong?.artist\n                            } : null\n                        }\n                    });\n                } catch (error) {\n                    console.error('곡 매칭 오류:', error);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: '곡 매칭 중 오류가 발생했습니다.'\n                    }, {\n                        status: 500\n                    });\n                }\n            case 'batch-search-matches':\n                console.log('🔍 전체 타임라인 일괄 검색 시작...');\n                try {\n                    // 매칭되지 않은 모든 타임라인 항목 조회\n                    const unmatchedTimelines = await ParsedTimeline.find({\n                        isRelevant: true,\n                        isExcluded: false,\n                        matchedSong: {\n                            $exists: false\n                        }\n                    }).sort({\n                        uploadedDate: -1,\n                        startTimeSeconds: 1\n                    });\n                    console.log(`📊 매칭되지 않은 타임라인 항목: ${unmatchedTimelines.length}개`);\n                    if (unmatchedTimelines.length === 0) {\n                        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                            success: true,\n                            message: '매칭되지 않은 타임라인 항목이 없습니다.',\n                            data: {\n                                processed: 0,\n                                matched: 0,\n                                results: []\n                            }\n                        });\n                    }\n                    // 모든 곡 데이터를 한 번에 로드 (캐싱용)\n                    const allSongs = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].find({\n                        $or: [\n                            {\n                                status: 'active'\n                            },\n                            {\n                                status: {\n                                    $exists: false\n                                }\n                            },\n                            {\n                                status: null\n                            }\n                        ]\n                    }).lean();\n                    // 검색 대상이 적다면 모든 곡을 대상으로 검색\n                    if (allSongs.length < 100) {\n                        const allSongsNoFilter = await _models_SongDetail__WEBPACK_IMPORTED_MODULE_6__[\"default\"].find({}).lean();\n                        allSongs.push(...allSongsNoFilter);\n                    }\n                    console.log(`🎵 검색 대상 곡 수: ${allSongs.length}개`);\n                    const results = [];\n                    let matchedCount = 0;\n                    // 각 타임라인 항목에 대해 검색 수행\n                    for (const timeline of unmatchedTimelines){\n                        console.log(`🔍 검색 중: \"${timeline.artist}\" - \"${timeline.songTitle}\"`);\n                        const candidates = await matchTimelineWithSongsFromCache(timeline.artist, timeline.songTitle, allSongs);\n                        // 자동 매칭 조건: 95% 이상 유사도의 후보가 있는 경우\n                        const exactMatch = candidates.find((c)=>c.overallSimilarity >= 0.95);\n                        let matchResult = null;\n                        if (exactMatch) {\n                            // 자동 매칭 수행\n                            await ParsedTimeline.updateOne({\n                                _id: timeline._id\n                            }, {\n                                matchedSong: {\n                                    songId: exactMatch.song._id.toString(),\n                                    title: exactMatch.song.title,\n                                    artist: exactMatch.song.artist,\n                                    confidence: exactMatch.overallSimilarity\n                                },\n                                updatedAt: new Date()\n                            });\n                            matchResult = {\n                                songId: exactMatch.song._id.toString(),\n                                title: exactMatch.song.title,\n                                artist: exactMatch.song.artist,\n                                confidence: exactMatch.overallSimilarity\n                            };\n                            matchedCount++;\n                            console.log(`✅ 자동 매칭: \"${timeline.artist}\" - \"${timeline.songTitle}\" → \"${exactMatch.song.artist}\" - \"${exactMatch.song.title}\" (${(exactMatch.overallSimilarity * 100).toFixed(1)}%)`);\n                        }\n                        results.push({\n                            timelineId: timeline.id,\n                            timelineItem: {\n                                artist: timeline.artist,\n                                songTitle: timeline.songTitle,\n                                timeText: formatSeconds(timeline.startTimeSeconds),\n                                videoTitle: timeline.videoTitle\n                            },\n                            candidates: candidates.slice(0, 5),\n                            autoMatched: !!exactMatch,\n                            matchResult\n                        });\n                    }\n                    console.log(`✅ 일괄 검색 완료: ${unmatchedTimelines.length}개 처리, ${matchedCount}개 자동 매칭`);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        message: `일괄 검색 완료: ${unmatchedTimelines.length}개 처리, ${matchedCount}개 자동 매칭`,\n                        data: {\n                            processed: unmatchedTimelines.length,\n                            matched: matchedCount,\n                            results\n                        }\n                    });\n                } catch (error) {\n                    console.error('일괄 검색 오류:', error);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: '일괄 검색 중 오류가 발생했습니다.'\n                    }, {\n                        status: 500\n                    });\n                }\n            case 'update-time-verification':\n                const { timelineId: verifyTimelineId, isVerified, verificationNotes } = body;\n                if (!verifyTimelineId) {\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: 'timelineId가 필요합니다.'\n                    }, {\n                        status: 400\n                    });\n                }\n                try {\n                    const updateData = {\n                        updatedAt: new Date()\n                    };\n                    if (isVerified) {\n                        updateData.isTimeVerified = true;\n                        updateData.verifiedBy = session?.user?.name || session?.user?.channelId || 'Unknown';\n                        updateData.verifiedAt = new Date();\n                        if (verificationNotes) {\n                            updateData.verificationNotes = verificationNotes;\n                        }\n                    } else {\n                        updateData.isTimeVerified = false;\n                        updateData.$unset = {\n                            verifiedBy: \"\",\n                            verifiedAt: \"\",\n                            verificationNotes: \"\"\n                        };\n                    }\n                    await ParsedTimeline.updateOne({\n                        id: verifyTimelineId\n                    }, updateData);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: true,\n                        message: `시간 검증이 ${isVerified ? '완료' : '해제'}되었습니다.`,\n                        data: {\n                            isTimeVerified: isVerified,\n                            verifiedBy: isVerified ? session?.user?.name || session?.user?.channelId || 'Unknown' : null,\n                            verifiedAt: isVerified ? new Date() : null\n                        }\n                    });\n                } catch (error) {\n                    console.error('시간 검증 업데이트 오류:', error);\n                    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                        success: false,\n                        error: '시간 검증 업데이트 중 오류가 발생했습니다.'\n                    }, {\n                        status: 500\n                    });\n                }\n            default:\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: '올바르지 않은 action입니다.'\n                }, {\n                    status: 400\n                });\n        }\n    } catch (error) {\n        console.error('타임라인 파서 API 오류:', error);\n        let errorMessage = '알 수 없는 오류가 발생했습니다.';\n        if (error instanceof Error) {\n            errorMessage = error.message;\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: errorMessage\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    try {\n        const session = await (0,next_auth_next__WEBPACK_IMPORTED_MODULE_1__.getServerSession)(_lib_authOptions__WEBPACK_IMPORTED_MODULE_2__.authOptions);\n        if (!session || !(0,_lib_permissions__WEBPACK_IMPORTED_MODULE_3__.hasPermission)(session.user.role, _lib_permissions__WEBPACK_IMPORTED_MODULE_3__.Permission.SONGS_VIEW)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: false,\n                error: '권한이 필요합니다.'\n            }, {\n                status: 403\n            });\n        }\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n        const { searchParams } = new URL(request.url);\n        const action = searchParams.get('action');\n        switch(action){\n            case 'get-parsed-items':\n                const items = await ParsedTimeline.find().sort({\n                    uploadedDate: -1,\n                    startTimeSeconds: 1\n                });\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: true,\n                    data: items\n                });\n            default:\n                return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                    success: false,\n                    error: '올바르지 않은 action입니다.'\n                }, {\n                    status: 400\n                });\n        }\n    } catch (error) {\n        console.error('타임라인 파서 GET API 오류:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: false,\n            error: '데이터 조회 중 오류가 발생했습니다.'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS90aW1lbGluZS1wYXJzZXIvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBd0Q7QUFDTjtBQUNGO0FBQ3dCO0FBQ2xDO0FBQ2lDO0FBQzFCO0FBQ2I7QUFFaEMsK0JBQStCO0FBQy9CLE1BQU1VLHVCQUF1QixJQUFJRCx3REFBZSxDQUFDO0lBQy9DRyxJQUFJO1FBQUVDLE1BQU1DO1FBQVFDLFVBQVU7UUFBTUMsUUFBUTtJQUFLO0lBQ2pEQyxTQUFTO1FBQUVKLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUN4Q0csWUFBWTtRQUFFTCxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDM0NJLGNBQWM7UUFBRU4sTUFBTU87UUFBTUwsVUFBVTtJQUFLO0lBQzNDTSxrQkFBa0I7UUFBRVIsTUFBTU87SUFBSztJQUMvQkUsb0JBQW9CO1FBQUVULE1BQU1DO0lBQU87SUFDbkNTLFFBQVE7UUFBRVYsTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3ZDUyxXQUFXO1FBQUVYLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUMxQ1UsVUFBVTtRQUFFWixNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDekNXLGtCQUFrQjtRQUFFYixNQUFNYztRQUFRWixVQUFVO0lBQUs7SUFDakRhLGdCQUFnQjtRQUFFZixNQUFNYztJQUFPO0lBQy9CRSxVQUFVO1FBQUVoQixNQUFNYztJQUFPO0lBQ3pCRyxZQUFZO1FBQUVqQixNQUFNa0I7UUFBU0MsU0FBUztJQUFLO0lBQzNDQyxZQUFZO1FBQUVwQixNQUFNa0I7UUFBU0MsU0FBUztJQUFNO0lBQzVDRSxhQUFhO1FBQ1hDLFFBQVE7WUFBRXRCLE1BQU1DO1FBQU87UUFDdkJzQixPQUFPO1lBQUV2QixNQUFNQztRQUFPO1FBQ3RCUyxRQUFRO1lBQUVWLE1BQU1DO1FBQU87UUFDdkJ1QixZQUFZO1lBQUV4QixNQUFNYztRQUFPO0lBQzdCO0lBQ0FXLGlCQUFpQjtRQUFFekIsTUFBTUM7UUFBUUMsVUFB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b0JBQUU1RixjQUFjLENBQUM7b0JBQUdPLGtCQUFrQjtnQkFBRTtnQkFFdkYsT0FBTzFCLHFEQUFZQSxDQUFDd08sSUFBSSxDQUFDO29CQUN2QkMsU0FBUztvQkFDVHlCLE1BQU0wQztnQkFDUjtZQUVGO2dCQUNFLE9BQU81UyxxREFBWUEsQ0FBQ3dPLElBQUksQ0FDdEI7b0JBQUVDLFNBQVM7b0JBQU9uQixPQUFPO2dCQUFxQixHQUM5QztvQkFBRWhHLFFBQVE7Z0JBQUk7UUFFcEI7SUFFRixFQUFFLE9BQU9nRyxPQUFPO1FBQ2RqSCxRQUFRaUgsS0FBSyxDQUFDLHVCQUF1QkE7UUFFckMsT0FBT3ROLHFEQUFZQSxDQUFDd08sSUFBSSxDQUN0QjtZQUFFQyxTQUFTO1lBQU9uQixPQUFPO1FBQXVCLEdBQ2hEO1lBQUVoRyxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsiL21udC9mL0RhdGEvR2l0L2NsYXVkZS1jb2RlL2F5YXVrZS1wYWdlL2F5YXVrZS1wYWdlL3NyYy9hcHAvYXBpL3RpbWVsaW5lLXBhcnNlci9yb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoL25leHQnO1xyXG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJ0AvbGliL2F1dGhPcHRpb25zJztcclxuaW1wb3J0IHsgaGFzUGVybWlzc2lvbiwgUGVybWlzc2lvbiwgVXNlclJvbGUgfSBmcm9tICdAL2xpYi9wZXJtaXNzaW9ucyc7XHJcbmltcG9ydCBkYkNvbm5lY3QgZnJvbSAnQC9saWIvbW9uZ29kYic7XHJcbmltcG9ydCB7IFlvdVR1YmVDb21tZW50LCBZb3VUdWJlVmlkZW8gfSBmcm9tICdAL21vZGVscy9Zb3VUdWJlQ29tbWVudCc7XHJcbmltcG9ydCBTb25nRGV0YWlsIGZyb20gJ0AvbW9kZWxzL1NvbmdEZXRhaWwnO1xyXG5pbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuLy8g7YyM7Iux65CcIO2DgOyehOudvOyduCDrjbDsnbTthLDrpbwg7JyE7ZWcIE1vbmdvREIg7Iqk7YKk66eIXHJcbmNvbnN0IFBhcnNlZFRpbWVsaW5lU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgaWQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXHJcbiAgdmlkZW9JZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgdmlkZW9UaXRsZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgdXBsb2FkZWREYXRlOiB7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiB0cnVlIH0sIC8vIO2MjOyLseuQnCDrgqDsp5xcclxuICB2aWRlb1B1Ymxpc2hlZEF0OiB7IHR5cGU6IERhdGUgfSwgLy8g7Iuk7KCcIFlvdVR1YmUg7JiB7IOBIOyXheuhnOuTnCDrgqDsp5xcclxuICBvcmlnaW5hbERhdGVTdHJpbmc6IHsgdHlwZTogU3RyaW5nIH0sIC8vIOybkOuzuCDrgqDsp5wg66y47J6Q7Je0XHJcbiAgYXJ0aXN0OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSwgLy8gc29uZ0RhdGExXHJcbiAgc29uZ1RpdGxlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSwgLy8gc29uZ0RhdGEyXHJcbiAgdmlkZW9Vcmw6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LCAvLyDquLDrs7gg67mE65SU7JikIFVSTCAodCDtjIzrnbzrr7jthLAg7KCc7Jm4KVxyXG4gIHN0YXJ0VGltZVNlY29uZHM6IHsgdHlwZTogTnVtYmVyLCByZXF1aXJlZDogdHJ1ZSB9LCAvLyDsi5zsnpEg7Iuc6rCEICjstIgpXHJcbiAgZW5kVGltZVNlY29uZHM6IHsgdHlwZTogTnVtYmVyIH0sIC8vIOyiheujjCDsi5zqsIQgKOy0iCwg66eI7KeA66eJIOqzoeydgCBudWxsKVxyXG4gIGR1cmF0aW9uOiB7IHR5cGU6IE51bWJlciB9LCAvLyDqs6Eg6ri47J20ICjstIgpXHJcbiAgaXNSZWxldmFudDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH0sXHJcbiAgaXNFeGNsdWRlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LFxyXG4gIG1hdGNoZWRTb25nOiB7XHJcbiAgICBzb25nSWQ6IHsgdHlwZTogU3RyaW5nIH0sXHJcbiAgICB0aXRsZTogeyB0eXBlOiBTdHJpbmcgfSxcclxuICAgIGFydGlzdDogeyB0eXBlOiBTdHJpbmcgfSxcclxuICAgIGNvbmZpZGVuY2U6IHsgdHlwZTogTnVtYmVyIH1cclxuICB9LFxyXG4gIG9yaWdpbmFsQ29tbWVudDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sIC8vIOybkOuzuCDrjJPquIBcclxuICBjb21tZW50QXV0aG9yOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSwgLy8g64yT6riAIOyekeyEseyekFxyXG4gIGNvbW1lbnRJZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sIC8vIOybkOuzuCDrjJPquIAgSURcclxuICBjb21tZW50UHVibGlzaGVkQXQ6IHsgdHlwZTogRGF0ZSB9LCAvLyDrjJPquIAg7J6R7ISxIOyLnOqwhFxyXG4gIC8vIOyImOuPmSDqsoDspp0g6rSA66CoIO2VhOuTnFxyXG4gIGlzVGltZVZlcmlmaWVkOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sIC8vIOyLnOqwhCDqsoDspp0g7JmE66OMIOyXrOu2gFxyXG4gIHZlcmlmaWVkQnk6IHsgdHlwZTogU3RyaW5nIH0sIC8vIOqygOymne2VnCDsgqzsmqnsnpAgSUQv7J2066aEXHJcbiAgdmVyaWZpZWRBdDogeyB0eXBlOiBEYXRlIH0sIC8vIOqygOymnSDsmYTro4wg7Iuc6rCEXHJcbiAgdmVyaWZpY2F0aW9uTm90ZXM6IHsgdHlwZTogU3RyaW5nIH0sIC8vIOqygOymnSDqtIDroKgg66mU66qoXHJcbiAgY3VzdG9tRGVzY3JpcHRpb246IHsgdHlwZTogU3RyaW5nIH0sIC8vIOy7pOyKpO2FgCDshKTrqoUgKOudvOydtOu4jCDtgbTrpr0g7JeF66Gc65Oc7JqpKVxyXG4gIHNwZWNpYWxUYWdzOiBbeyB0eXBlOiBTdHJpbmcgfV0sIC8vIO2KueuzhCDtg5zqt7ggKOuqqOultOuKlCDqs6EsIOqzoSDsl4bsnYwg65OxKVxyXG4gIGNyZWF0ZWRBdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxyXG4gIHVwZGF0ZWRBdDogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9XHJcbn0sIHtcclxuICAvLyDsiqTtgqTrp4gg7Ji17IWYXHJcbiAgc3RyaWN0OiB0cnVlLCAvLyDsiqTtgqTrp4jsl5Ag7KCV7J2Y65CY7KeAIOyViuydgCDtlYTrk5wg7ZeI7Jqp7ZWY7KeAIOyViuydjFxyXG4gIHRpbWVzdGFtcHM6IGZhbHNlLCAvLyBjcmVhdGVkQXQsIHVwZGF0ZWRBdOydhCDsiJjrj5nsnLzroZwg6rSA66asXHJcbiAgdmVyc2lvbktleTogZmFsc2UgLy8gX192IO2VhOuTnCDsoJzqsbBcclxufSk7XHJcblxyXG4vLyDquLDsobQg66qo64247J20IOyeiOuLpOuptCDsgq3soJwg7ZuEIOyerOyDneyEsSAo6rCc67CcIO2ZmOqyveyXkOyEnOunjClcclxuaWYgKG1vbmdvb3NlLm1vZGVscy5QYXJzZWRUaW1lbGluZSkge1xyXG4gIGRlbGV0ZSBtb25nb29zZS5tb2RlbHMuUGFyc2VkVGltZWxpbmU7XHJcbn1cclxuXHJcbmNvbnN0IFBhcnNlZFRpbWVsaW5lID0gbW9uZ29vc2UubW9kZWwoJ1BhcnNlZFRpbWVsaW5lJywgUGFyc2VkVGltZWxpbmVTY2hlbWEpO1xyXG5cclxuLy8g7YWN7Iqk7Yq4IOygleq3nO2ZlCDtlajsiJggKOqzteuwsS/tirnsiJjrrLjsnpAg7KCc6rGwLCDshozrrLjsnpAg67OA7ZmYKVxyXG5mdW5jdGlvbiBub3JtYWxpemVUZXh0KHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgcmV0dXJuIHRleHRcclxuICAgIC50b0xvd2VyQ2FzZSgpXHJcbiAgICAudHJpbSgpXHJcbiAgICAucmVwbGFjZSgvXFxzKy9nLCAnJykgLy8g66qo65OgIOqzteuwsSDsoJzqsbBcclxuICAgIC5yZXBsYWNlKC9bLV8uLCE/KClbXFxde31dL2csICcnKSAvLyDquLDrs7gg6rWs65GQ7KCQ66eMIOygnOqxsFxyXG4gICAgLnJlcGxhY2UoL1teXFx36rCALe2eo10vZywgJycpOyAvLyDtlZzquIAsIOyYgeusuCwg7Iir7J6Q66eMIOycoOyngFxyXG59XHJcblxyXG4vLyBMZXZlbnNodGVpbiBkaXN0YW5jZSDqs4TsgrBcclxuZnVuY3Rpb24gbGV2ZW5zaHRlaW5EaXN0YW5jZShzdHIxOiBzdHJpbmcsIHN0cjI6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgY29uc3QgbWF0cml4ID0gW107XHJcbiAgXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPD0gc3RyMi5sZW5ndGg7IGkrKykge1xyXG4gICAgbWF0cml4W2ldID0gW2ldO1xyXG4gIH1cclxuICBcclxuICBmb3IgKGxldCBqID0gMDsgaiA8PSBzdHIxLmxlbmd0aDsgaisrKSB7XHJcbiAgICBtYXRyaXhbMF1bal0gPSBqO1xyXG4gIH1cclxuICBcclxuICBmb3IgKGxldCBpID0gMTsgaSA8PSBzdHIyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBmb3IgKGxldCBqID0gMTsgaiA8PSBzdHIxLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgIGlmIChzdHIyLmNoYXJBdChpIC0gMSkgPT09IHN0cjEuY2hhckF0KGogLSAxKSkge1xyXG4gICAgICAgIG1hdHJpeFtpXVtqXSA9IG1hdHJpeFtpIC0gMV1baiAtIDFdO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIG1hdHJpeFtpXVtqXSA9IE1hdGgubWluKFxyXG4gICAgICAgICAgbWF0cml4W2kgLSAxXVtqIC0gMV0gKyAxLCAvLyBzdWJzdGl0dXRpb25cclxuICAgICAgICAgIG1hdHJpeFtpXVtqIC0gMV0gKyAxLCAgICAgLy8gaW5zZXJ0aW9uXHJcbiAgICAgICAgICBtYXRyaXhbaSAtIDFdW2pdICsgMSAgICAgIC8vIGRlbGV0aW9uXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gbWF0cml4W3N0cjIubGVuZ3RoXVtzdHIxLmxlbmd0aF07XHJcbn1cclxuXHJcbi8vIOqwnOyEoOuQnCDrrLjsnpDsl7Qg7Jyg7IKs64+EIOqzhOyCsFxyXG5mdW5jdGlvbiBjYWxjdWxhdGVTaW1pbGFyaXR5KHN0cjE6IHN0cmluZywgc3RyMjogc3RyaW5nKTogbnVtYmVyIHtcclxuICBpZiAoIXN0cjEgfHwgIXN0cjIpIHJldHVybiAwO1xyXG4gIFxyXG4gIGNvbnN0IHMxID0gc3RyMS50b0xvd2VyQ2FzZSgpLnRyaW0oKTtcclxuICBjb25zdCBzMiA9IHN0cjIudG9Mb3dlckNhc2UoKS50cmltKCk7XHJcbiAgXHJcbiAgaWYgKHMxID09PSBzMikgcmV0dXJuIDE7XHJcbiAgXHJcbiAgLy8gMS4g7Y+s7ZWoIOq0gOqzhCDssrTtgawgKOuGkuydgCDsoJDsiJgpXHJcbiAgaWYgKHMxLmluY2x1ZGVzKHMyKSB8fCBzMi5pbmNsdWRlcyhzMSkpIHtcclxuICAgIGNvbnN0IGxvbmdlciA9IHMxLmxlbmd0aCA+IHMyLmxlbmd0aCA/IHMxIDogczI7XHJcbiAgICBjb25zdCBzaG9ydGVyID0gczEubGVuZ3RoID4gczIubGVuZ3RoID8gczIgOiBzMTtcclxuICAgIHJldHVybiAwLjggKyAoc2hvcnRlci5sZW5ndGggLyBsb25nZXIubGVuZ3RoKSAqIDAuMjsgLy8gMC44fjEuMFxyXG4gIH1cclxuICBcclxuICAvLyAyLiDqs7XthrUg67aA67aEIOusuOyekOyXtCDssL7quLBcclxuICBsZXQgY29tbW9uTGVuZ3RoID0gMDtcclxuICBjb25zdCBtaW5MZW4gPSBNYXRoLm1pbihzMS5sZW5ndGgsIHMyLmxlbmd0aCk7XHJcbiAgXHJcbiAgLy8g7Iuc7J6RIOu2gOu2hCDqs7XthrUg66y47J6Q7Je0XHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtaW5MZW47IGkrKykge1xyXG4gICAgaWYgKHMxW2ldID09PSBzMltpXSkge1xyXG4gICAgICBjb21tb25MZW5ndGgrKztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAvLyDrgZ0g67aA67aEIOqzte2GtSDrrLjsnpDsl7RcclxuICBmb3IgKGxldCBpID0gMTsgaSA8PSBtaW5MZW4gLSBjb21tb25MZW5ndGg7IGkrKykge1xyXG4gICAgaWYgKHMxW3MxLmxlbmd0aCAtIGldID09PSBzMltzMi5sZW5ndGggLSBpXSkge1xyXG4gICAgICBjb21tb25MZW5ndGgrKztcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICBpZiAoY29tbW9uTGVuZ3RoID4gMCkge1xyXG4gICAgY29uc3QgbWF4TGVuID0gTWF0aC5tYXgoczEubGVuZ3RoLCBzMi5sZW5ndGgpO1xyXG4gICAgY29uc3Qgc2ltaWxhcml0eSA9IGNvbW1vbkxlbmd0aCAvIG1heExlbjtcclxuICAgIGlmIChzaW1pbGFyaXR5ID49IDAuMykgcmV0dXJuIHNpbWlsYXJpdHk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIDMuIExldmVuc2h0ZWluIGRpc3RhbmNlIOq4sOuwmCDqs4TsgrBcclxuICBjb25zdCBtYXhMZW4gPSBNYXRoLm1heChzMS5sZW5ndGgsIHMyLmxlbmd0aCk7XHJcbiAgaWYgKG1heExlbiA9PT0gMCkgcmV0dXJuIDE7XHJcbiAgXHJcbiAgY29uc3QgZGlzdGFuY2UgPSBsZXZlbnNodGVpbkRpc3RhbmNlKHMxLCBzMik7XHJcbiAgcmV0dXJuIE1hdGgubWF4KDAsIChtYXhMZW4gLSBkaXN0YW5jZSkgLyBtYXhMZW4pO1xyXG59XHJcblxyXG5cclxuLy8g7JWE7Yuw7Iqk7Yq4IOqygOyDiSAo7JWE7Yuw7Iqk7Yq4LCBhcnRpc3RBbGlhcywgc2VhcmNoVGFncylcclxuZnVuY3Rpb24gc2VhcmNoSW5BcnRpc3RGaWVsZHMoc29uZzogYW55LCBub3JtYWxpemVkUXVlcnk6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgY29uc3QgZmllbGRzID0gW1xyXG4gICAgc29uZy5hcnRpc3QsXHJcbiAgICBzb25nLmFydGlzdEFsaWFzLFxyXG4gICAgLi4uKHNvbmcuc2VhcmNoVGFncyB8fCBbXSlcclxuICBdLmZpbHRlcihCb29sZWFuKTtcclxuICBcclxuICBsZXQgbWF4U2ltaWxhcml0eSA9IDA7XHJcbiAgbGV0IGV4YWN0TWF0Y2ggPSBmYWxzZTtcclxuICBcclxuICBmb3IgKGNvbnN0IGZpZWxkIG9mIGZpZWxkcykge1xyXG4gICAgY29uc3Qgbm9ybWFsaXplZEZpZWxkID0gbm9ybWFsaXplVGV4dChmaWVsZCk7XHJcbiAgICBcclxuICAgIC8vIDEuIOyZhOyghCDsnbzsuZgg7LK07YGsXHJcbiAgICBpZiAobm9ybWFsaXplZEZpZWxkID09PSBub3JtYWxpemVkUXVlcnkpIHtcclxuICAgICAgZXhhY3RNYXRjaCA9IHRydWU7XHJcbiAgICAgIG1heFNpbWlsYXJpdHkgPSAxLjA7XHJcbiAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyAyLiDtj6ztlagg6rSA6rOEIOyytO2BrCAo7JaR67Cp7ZalKVxyXG4gICAgaWYgKG5vcm1hbGl6ZWRGaWVsZC5pbmNsdWRlcyhub3JtYWxpemVkUXVlcnkpIHx8IG5vcm1hbGl6ZWRRdWVyeS5pbmNsdWRlcyhub3JtYWxpemVkRmllbGQpKSB7XHJcbiAgICAgIG1heFNpbWlsYXJpdHkgPSBNYXRoLm1heChtYXhTaW1pbGFyaXR5LCAwLjgpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyAzLiDsnKDsgqzrj4Qg6rOE7IKwXHJcbiAgICBjb25zdCBzaW1pbGFyaXR5ID0gY2FsY3VsYXRlU2ltaWxhcml0eShub3JtYWxpemVkUXVlcnksIG5vcm1hbGl6ZWRGaWVsZCk7XHJcbiAgICBtYXhTaW1pbGFyaXR5ID0gTWF0aC5tYXgobWF4U2ltaWxhcml0eSwgc2ltaWxhcml0eSk7XHJcbiAgICBcclxuICAgIC8vIDQuIOynp+ydgCDrrLjsnpDsl7Qg7Yq567OEIOyymOumrCAoM+q4gOyekCDsnbTtlZgpXHJcbiAgICBpZiAobm9ybWFsaXplZFF1ZXJ5Lmxlbmd0aCA8PSAzIHx8IG5vcm1hbGl6ZWRGaWVsZC5sZW5ndGggPD0gMykge1xyXG4gICAgICBpZiAobm9ybWFsaXplZEZpZWxkLmluY2x1ZGVzKG5vcm1hbGl6ZWRRdWVyeSkgfHwgbm9ybWFsaXplZFF1ZXJ5LmluY2x1ZGVzKG5vcm1hbGl6ZWRGaWVsZCkpIHtcclxuICAgICAgICBtYXhTaW1pbGFyaXR5ID0gTWF0aC5tYXgobWF4U2ltaWxhcml0eSwgMC43KTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICByZXR1cm4gbWF4U2ltaWxhcml0eTtcclxufVxyXG5cclxuLy8g7KCc66qpIOqygOyDiSAodGl0bGUsIHRpdGxlQWxpYXMsIHNlYXJjaFRhZ3MpXHJcbmZ1bmN0aW9uIHNlYXJjaEluVGl0bGVGaWVsZHMoc29uZzogYW55LCBub3JtYWxpemVkUXVlcnk6IHN0cmluZyk6IG51bWJlciB7XHJcbiAgY29uc3QgZmllbGRzID0gW1xyXG4gICAgc29uZy50aXRsZSxcclxuICAgIHNvbmcudGl0bGVBbGlhcyxcclxuICAgIC4uLihzb25nLnNlYXJjaFRhZ3MgfHwgW10pXHJcbiAgXS5maWx0ZXIoQm9vbGVhbik7XHJcbiAgXHJcbiAgbGV0IG1heFNpbWlsYXJpdHkgPSAwO1xyXG4gIGxldCBleGFjdE1hdGNoID0gZmFsc2U7XHJcbiAgXHJcbiAgZm9yIChjb25zdCBmaWVsZCBvZiBmaWVsZHMpIHtcclxuICAgIGNvbnN0IG5vcm1hbGl6ZWRGaWVsZCA9IG5vcm1hbGl6ZVRleHQoZmllbGQpO1xyXG4gICAgXHJcbiAgICAvLyAxLiDsmYTsoIQg7J287LmYIOyytO2BrFxyXG4gICAgaWYgKG5vcm1hbGl6ZWRGaWVsZCA9PT0gbm9ybWFsaXplZFF1ZXJ5KSB7XHJcbiAgICAgIGV4YWN0TWF0Y2ggPSB0cnVlO1xyXG4gICAgICBtYXhTaW1pbGFyaXR5ID0gMS4wO1xyXG4gICAgICBicmVhaztcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gMi4g7Y+s7ZWoIOq0gOqzhCDssrTtgawgKOyWkeuwqe2WpSlcclxuICAgIGlmIChub3JtYWxpemVkRmllbGQuaW5jbHVkZXMobm9ybWFsaXplZFF1ZXJ5KSB8fCBub3JtYWxpemVkUXVlcnkuaW5jbHVkZXMobm9ybWFsaXplZEZpZWxkKSkge1xyXG4gICAgICBtYXhTaW1pbGFyaXR5ID0gTWF0aC5tYXgobWF4U2ltaWxhcml0eSwgMC44KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gMy4g7Jyg7IKs64+EIOqzhOyCsFxyXG4gICAgY29uc3Qgc2ltaWxhcml0eSA9IGNhbGN1bGF0ZVNpbWlsYXJpdHkobm9ybWFsaXplZFF1ZXJ5LCBub3JtYWxpemVkRmllbGQpO1xyXG4gICAgbWF4U2ltaWxhcml0eSA9IE1hdGgubWF4KG1heFNpbWlsYXJpdHksIHNpbWlsYXJpdHkpO1xyXG4gICAgXHJcbiAgICAvLyA0LiDsp6fsnYAg66y47J6Q7Je0IO2KueuzhCDsspjrpqwgKDPquIDsnpAg7J207ZWYKVxyXG4gICAgaWYgKG5vcm1hbGl6ZWRRdWVyeS5sZW5ndGggPD0gMyB8fCBub3JtYWxpemVkRmllbGQubGVuZ3RoIDw9IDMpIHtcclxuICAgICAgaWYgKG5vcm1hbGl6ZWRGaWVsZC5pbmNsdWRlcyhub3JtYWxpemVkUXVlcnkpIHx8IG5vcm1hbGl6ZWRRdWVyeS5pbmNsdWRlcyhub3JtYWxpemVkRmllbGQpKSB7XHJcbiAgICAgICAgbWF4U2ltaWxhcml0eSA9IE1hdGgubWF4KG1heFNpbWlsYXJpdHksIDAuNyk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIG1heFNpbWlsYXJpdHk7XHJcbn1cclxuXHJcbi8vIOy6kOyLnOuQnCDqs6Eg642w7J207YSw66W8IOyCrOyaqe2VnCDrp6Tsua0g7ZWo7IiYIChEQiDsmpTssq0g7LWc7IaM7ZmUKVxyXG5mdW5jdGlvbiBtYXRjaFRpbWVsaW5lV2l0aFNvbmdzRnJvbUNhY2hlKGFydGlzdDogc3RyaW5nLCB0aXRsZTogc3RyaW5nLCBhbGxTb25nczogYW55W10pIHtcclxuICBjb25zdCBub3JtYWxpemVkQXJ0aXN0ID0gbm9ybWFsaXplVGV4dChhcnRpc3QpO1xyXG4gIGNvbnN0IG5vcm1hbGl6ZWRUaXRsZSA9IG5vcm1hbGl6ZVRleHQodGl0bGUpO1xyXG4gIFxyXG4gIGNvbnNvbGUubG9nKGDwn5SNIOy6kOyLnCDqsoDsg4k6IFwiJHthcnRpc3R9XCIgLSBcIiR7dGl0bGV9XCJgKTtcclxuICBcclxuICBjb25zdCBjYW5kaWRhdGVzID0gW107XHJcbiAgbGV0IHByb2Nlc3NlZENvdW50ID0gMDtcclxuICBcclxuICBmb3IgKGNvbnN0IHNvbmcgb2YgYWxsU29uZ3MpIHtcclxuICAgIGNvbnN0IGFydGlzdFNpbWlsYXJpdHkgPSBzZWFyY2hJbkFydGlzdEZpZWxkcyhzb25nLCBub3JtYWxpemVkQXJ0aXN0KTtcclxuICAgIGNvbnN0IHRpdGxlU2ltaWxhcml0eSA9IHNlYXJjaEluVGl0bGVGaWVsZHMoc29uZywgbm9ybWFsaXplZFRpdGxlKTtcclxuICAgIFxyXG4gICAgLy8g7KCE7LK0IOydvOy5mOycqCA9ICjslYTti7DsiqTtirgg7Jyg7IKs64+EICsg7KCc66qpIOycoOyCrOuPhCkgLyAyXHJcbiAgICBjb25zdCBvdmVyYWxsU2ltaWxhcml0eSA9IChhcnRpc3RTaW1pbGFyaXR5ICsgdGl0bGVTaW1pbGFyaXR5KSAvIDI7XHJcbiAgICBcclxuICAgIC8vIOuGkuydgCDsnKDsgqzrj4Qg6rKw6rO866eMIOuhnOq3uFxyXG4gICAgaWYgKG92ZXJhbGxTaW1pbGFyaXR5ID4gMC4zKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDwn46vIOunpOy5mDogXCIke3NvbmcuYXJ0aXN0fVwiIC0gXCIke3NvbmcudGl0bGV9XCIgKCR7KG92ZXJhbGxTaW1pbGFyaXR5ICogMTAwKS50b0ZpeGVkKDEpfSUpYCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOy1nOyGjCDsnoTqs4TqsJIg7J207IOB7J24IOqyveyasOunjCDtm4Trs7TroZwg7LaU6rCAXHJcbiAgICBpZiAob3ZlcmFsbFNpbWlsYXJpdHkgPiAwLjEpIHtcclxuICAgICAgY2FuZGlkYXRlcy5wdXNoKHtcclxuICAgICAgICBzb25nLFxyXG4gICAgICAgIGFydGlzdFNpbWlsYXJpdHksXHJcbiAgICAgICAgdGl0bGVTaW1pbGFyaXR5LFxyXG4gICAgICAgIG92ZXJhbGxTaW1pbGFyaXR5LFxyXG4gICAgICAgIGlzRXhhY3RNYXRjaDogb3ZlcmFsbFNpbWlsYXJpdHkgPj0gMC45NVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcHJvY2Vzc2VkQ291bnQrKztcclxuICB9XHJcbiAgXHJcbiAgY29uc29sZS5sb2coYOKchSDsupDsi5wg6rKA7IOJIOyZhOujjDogJHtjYW5kaWRhdGVzLmxlbmd0aH3qsJwg7ZuE67O0IOuwnOqyrGApO1xyXG4gIFxyXG4gIC8vIOydvOy5mOycqCDsiJzsnLzroZwg7KCV66CsXHJcbiAgY2FuZGlkYXRlcy5zb3J0KChhLCBiKSA9PiBiLm92ZXJhbGxTaW1pbGFyaXR5IC0gYS5vdmVyYWxsU2ltaWxhcml0eSk7XHJcbiAgXHJcbiAgcmV0dXJuIGNhbmRpZGF0ZXMuc2xpY2UoMCwgMTApOyAvLyDsg4HsnIQgMTDqsJzrp4wg67CY7ZmYXHJcbn1cclxuXHJcbi8vIO2DgOyehOudvOyduCDrjbDsnbTthLDsmYAg64W4656YIERCIOunpOy5rVxyXG5hc3luYyBmdW5jdGlvbiBtYXRjaFRpbWVsaW5lV2l0aFNvbmdzKGFydGlzdDogc3RyaW5nLCB0aXRsZTogc3RyaW5nKSB7XHJcbiAgYXdhaXQgZGJDb25uZWN0KCk7XHJcbiAgXHJcbiAgY29uc3Qgbm9ybWFsaXplZEFydGlzdCA9IG5vcm1hbGl6ZVRleHQoYXJ0aXN0KTtcclxuICBjb25zdCBub3JtYWxpemVkVGl0bGUgPSBub3JtYWxpemVUZXh0KHRpdGxlKTtcclxuICBcclxuICAvLyDquLDrs7gg66Gc6re466eMIOycoOyngFxyXG4gIGNvbnNvbGUubG9nKGDwn5SNIOqygOyDiSDsi5zsnpE6IFwiJHthcnRpc3R9XCIgLSBcIiR7dGl0bGV9XCJgKTtcclxuICBcclxuICAvLyDrqqjrk6Ag6rOhIOuYkOuKlCDtmZzshLEr7IOB7YOc7JeG64qUIOqzoSDqsIDsoLjsmKTquLBcclxuICBsZXQgYWxsU29uZ3MgPSBhd2FpdCBTb25nRGV0YWlsLmZpbmQoeyBcclxuICAgICRvcjogW1xyXG4gICAgICB7IHN0YXR1czogJ2FjdGl2ZScgfSxcclxuICAgICAgeyBzdGF0dXM6IHsgJGV4aXN0czogZmFsc2UgfSB9LFxyXG4gICAgICB7IHN0YXR1czogbnVsbCB9XHJcbiAgICBdXHJcbiAgfSkubGVhbigpO1xyXG4gIFxyXG4gIC8vIOqygOyDiSDrjIDsg4HsnbQg7KCB64uk66m0IOuqqOuToCDqs6HsnYQg64yA7IOB7Jy866GcIOqygOyDiVxyXG4gIGlmIChhbGxTb25ncy5sZW5ndGggPCAxMDApIHtcclxuICAgIGFsbFNvbmdzID0gYXdhaXQgU29uZ0RldGFpbC5maW5kKHt9KS5sZWFuKCk7XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnNvbGUubG9nKGDwn5SNIOqygOyDiSDrjIDsg4Eg6rOhIOyImDogJHthbGxTb25ncy5sZW5ndGh96rCcYCk7XHJcbiAgXHJcbiAgY29uc3QgY2FuZGlkYXRlcyA9IFtdO1xyXG4gIGxldCBwcm9jZXNzZWRDb3VudCA9IDA7XHJcbiAgXHJcbiAgZm9yIChjb25zdCBzb25nIG9mIGFsbFNvbmdzKSB7XHJcbiAgICBjb25zdCBhcnRpc3RTaW1pbGFyaXR5ID0gc2VhcmNoSW5BcnRpc3RGaWVsZHMoc29uZywgbm9ybWFsaXplZEFydGlzdCk7XHJcbiAgICBjb25zdCB0aXRsZVNpbWlsYXJpdHkgPSBzZWFyY2hJblRpdGxlRmllbGRzKHNvbmcsIG5vcm1hbGl6ZWRUaXRsZSk7XHJcbiAgICBcclxuICAgIC8vIOyghOyytCDsnbzsuZjsnKggPSAo7JWE7Yuw7Iqk7Yq4IOycoOyCrOuPhCArIOygnOuqqSDsnKDsgqzrj4QpIC8gMlxyXG4gICAgY29uc3Qgb3ZlcmFsbFNpbWlsYXJpdHkgPSAoYXJ0aXN0U2ltaWxhcml0eSArIHRpdGxlU2ltaWxhcml0eSkgLyAyO1xyXG4gICAgXHJcbiAgICAvLyDrhpLsnYAg7Jyg7IKs64+EIOqysOqzvOunjCDroZzqt7hcclxuICAgIGlmIChvdmVyYWxsU2ltaWxhcml0eSA+IDAuMykge1xyXG4gICAgICBjb25zb2xlLmxvZyhg8J+OryDrp6TsuZg6IFwiJHtzb25nLmFydGlzdH1cIiAtIFwiJHtzb25nLnRpdGxlfVwiICgkeyhvdmVyYWxsU2ltaWxhcml0eSAqIDEwMCkudG9GaXhlZCgxKX0lKWApO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyDstZzshowg7J6E6rOE6rCSIOydtOyDgeyduCDqsr3smrDrp4wg7ZuE67O066GcIOy2lOqwgCAo7J6E6rOE6rCSIOuCruy2pClcclxuICAgIGlmIChvdmVyYWxsU2ltaWxhcml0eSA+IDAuMSkge1xyXG4gICAgICBjYW5kaWRhdGVzLnB1c2goe1xyXG4gICAgICAgIHNvbmcsXHJcbiAgICAgICAgYXJ0aXN0U2ltaWxhcml0eSxcclxuICAgICAgICB0aXRsZVNpbWlsYXJpdHksXHJcbiAgICAgICAgb3ZlcmFsbFNpbWlsYXJpdHksXHJcbiAgICAgICAgaXNFeGFjdE1hdGNoOiBvdmVyYWxsU2ltaWxhcml0eSA+PSAwLjk1XHJcbiAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBwcm9jZXNzZWRDb3VudCsrO1xyXG4gIH1cclxuICBcclxuICBjb25zb2xlLmxvZyhg4pyFIOqygOyDiSDsmYTro4w6ICR7Y2FuZGlkYXRlcy5sZW5ndGh96rCcIO2bhOuztCDrsJzqsqxgKTtcclxuICBcclxuICAvLyDsnbzsuZjsnKgg7Iic7Jy866GcIOygleugrFxyXG4gIGNhbmRpZGF0ZXMuc29ydCgoYSwgYikgPT4gYi5vdmVyYWxsU2ltaWxhcml0eSAtIGEub3ZlcmFsbFNpbWlsYXJpdHkpO1xyXG4gIFxyXG4gIHJldHVybiBjYW5kaWRhdGVzLnNsaWNlKDAsIDEwKTsgLy8g7IOB7JyEIDEw6rCc66eMIOuwmO2ZmFxyXG59XHJcblxyXG4vLyDsi5zqsIQg7YyM652866+47YSw66W8IOy0iOuhnCDrs4DtmZjtlZjripQg7ZWo7IiYICjsvZzroaAg7ZiV7YOcIOyasOyEoCDsspjrpqwpXHJcbmZ1bmN0aW9uIHBhcnNlVGltZVRvU2Vjb25kcyh0aW1lUGFyYW06IHN0cmluZyk6IG51bWJlciB7XHJcbiAgLy8g7L2c66GgIO2Yle2DnCDsspjrpqwgKOy1nOyasOyEoClcclxuICAvLyBoOm06cyDtmJXsi50gKOyYiDogMToyMzo0NSlcclxuICBjb25zdCBjb2xvbkhtc01hdGNoID0gdGltZVBhcmFtLm1hdGNoKC9eKFxcZHsxLDJ9KTooXFxkezJ9KTooXFxkezJ9KSQvKTtcclxuICBpZiAoY29sb25IbXNNYXRjaCkge1xyXG4gICAgY29uc3QgaG91cnMgPSBwYXJzZUludChjb2xvbkhtc01hdGNoWzFdKTtcclxuICAgIGNvbnN0IG1pbnV0ZXMgPSBwYXJzZUludChjb2xvbkhtc01hdGNoWzJdKTtcclxuICAgIGNvbnN0IHNlY29uZHMgPSBwYXJzZUludChjb2xvbkhtc01hdGNoWzNdKTtcclxuICAgIHJldHVybiBob3VycyAqIDM2MDAgKyBtaW51dGVzICogNjAgKyBzZWNvbmRzO1xyXG4gIH1cclxuICBcclxuICAvLyBtOnMg7ZiV7IudICjsmIg6IDIzOjQ1KVxyXG4gIGNvbnN0IGNvbG9uTXNNYXRjaCA9IHRpbWVQYXJhbS5tYXRjaCgvXihcXGR7MSwyfSk6KFxcZHsyfSkkLyk7XHJcbiAgaWYgKGNvbG9uTXNNYXRjaCkge1xyXG4gICAgY29uc3QgbWludXRlcyA9IHBhcnNlSW50KGNvbG9uTXNNYXRjaFsxXSk7XHJcbiAgICBjb25zdCBzZWNvbmRzID0gcGFyc2VJbnQoY29sb25Nc01hdGNoWzJdKTtcclxuICAgIHJldHVybiBtaW51dGVzICogNjAgKyBzZWNvbmRzO1xyXG4gIH1cclxuICBcclxuICAvLyDsiKvsnpDrp4wg7J6I64qUIOqyveyasCAo7LSIKVxyXG4gIGlmICgvXlxcZCskLy50ZXN0KHRpbWVQYXJhbSkpIHtcclxuICAgIHJldHVybiBwYXJzZUludCh0aW1lUGFyYW0pO1xyXG4gIH1cclxuICBcclxuICAvLyBoOm06cyDtmJXsi50gKOyYiDogMWgyM200NXMpXHJcbiAgY29uc3QgaG1zTWF0Y2ggPSB0aW1lUGFyYW0ubWF0Y2goLyhcXGQrKWgoXFxkKyltKFxcZCspcy8pO1xyXG4gIGlmIChobXNNYXRjaCkge1xyXG4gICAgY29uc3QgaG91cnMgPSBwYXJzZUludChobXNNYXRjaFsxXSk7XHJcbiAgICBjb25zdCBtaW51dGVzID0gcGFyc2VJbnQoaG1zTWF0Y2hbMl0pO1xyXG4gICAgY29uc3Qgc2Vjb25kcyA9IHBhcnNlSW50KGhtc01hdGNoWzNdKTtcclxuICAgIHJldHVybiBob3VycyAqIDM2MDAgKyBtaW51dGVzICogNjAgKyBzZWNvbmRzO1xyXG4gIH1cclxuICBcclxuICAvLyBtOnMg7ZiV7IudICjsmIg6IDIzbTQ1cylcclxuICBjb25zdCBtc01hdGNoID0gdGltZVBhcmFtLm1hdGNoKC8oXFxkKyltKFxcZCspcy8pO1xyXG4gIGlmIChtc01hdGNoKSB7XHJcbiAgICBjb25zdCBtaW51dGVzID0gcGFyc2VJbnQobXNNYXRjaFsxXSk7XHJcbiAgICBjb25zdCBzZWNvbmRzID0gcGFyc2VJbnQobXNNYXRjaFsyXSk7XHJcbiAgICByZXR1cm4gbWludXRlcyAqIDYwICsgc2Vjb25kcztcclxuICB9XHJcbiAgXHJcbiAgLy8gaDptIO2YleyLnSAo7JiIOiAxaDIzbSlcclxuICBjb25zdCBobU1hdGNoID0gdGltZVBhcmFtLm1hdGNoKC8oXFxkKyloKFxcZCspbS8pO1xyXG4gIGlmIChobU1hdGNoKSB7XHJcbiAgICBjb25zdCBob3VycyA9IHBhcnNlSW50KGhtTWF0Y2hbMV0pO1xyXG4gICAgY29uc3QgbWludXRlcyA9IHBhcnNlSW50KGhtTWF0Y2hbMl0pO1xyXG4gICAgcmV0dXJuIGhvdXJzICogMzYwMCArIG1pbnV0ZXMgKiA2MDtcclxuICB9XHJcbiAgXHJcbiAgLy8gbSDtmJXsi50gKOyYiDogMjNtKVxyXG4gIGNvbnN0IG1NYXRjaCA9IHRpbWVQYXJhbS5tYXRjaCgvKFxcZCspbS8pO1xyXG4gIGlmIChtTWF0Y2gpIHtcclxuICAgIGNvbnN0IG1pbnV0ZXMgPSBwYXJzZUludChtTWF0Y2hbMV0pO1xyXG4gICAgcmV0dXJuIG1pbnV0ZXMgKiA2MDtcclxuICB9XHJcbiAgXHJcbiAgLy8gcyDtmJXsi50gKOyYiDogNDVzKVxyXG4gIGNvbnN0IHNNYXRjaCA9IHRpbWVQYXJhbS5tYXRjaCgvKFxcZCspcy8pO1xyXG4gIGlmIChzTWF0Y2gpIHtcclxuICAgIHJldHVybiBwYXJzZUludChzTWF0Y2hbMV0pO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gMDtcclxufVxyXG5cclxuLy8g6rCc7ISg65CcIEhUTUwg7JeU7Yuw7YuwIOuUlOy9lOuUqSDtlajsiJhcclxuZnVuY3Rpb24gZGVjb2RlSHRtbEVudGl0aWVzKHRleHQ6IHN0cmluZyk6IHN0cmluZyB7XHJcbiAgLy8g6riw67O4IEhUTUwg7JeU7Yuw7YuwIOunpO2VkVxyXG4gIGNvbnN0IG5hbWVkRW50aXRpZXM6IHsgW2tleTogc3RyaW5nXTogc3RyaW5nIH0gPSB7XHJcbiAgICAnJmFtcDsnOiAnJicsXHJcbiAgICAnJmx0Oyc6ICc8JyxcclxuICAgICcmZ3Q7JzogJz4nLFxyXG4gICAgJyZxdW90Oyc6ICdcIicsXHJcbiAgICAnJmFwb3M7JzogXCInXCIsXHJcbiAgICAnJm5ic3A7JzogJyAnLFxyXG4gICAgJyZjb3B5Oyc6ICfCqScsXHJcbiAgICAnJnJlZzsnOiAnwq4nLFxyXG4gICAgJyZ0cmFkZTsnOiAn4oSiJ1xyXG4gIH07XHJcbiAgXHJcbiAgcmV0dXJuIHRleHRcclxuICAgIC8vIDEuIOyIq+yekCDtmJXtg5zsnZggSFRNTCDsl5Tti7Dti7Ag65SU7L2U65SpICgmIzM5OyDihpIgJylcclxuICAgIC5yZXBsYWNlKC8mIyhcXGQrKTsvZywgKG1hdGNoLCBjb2RlKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoY29kZSwgMTApKTtcclxuICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJldHVybiBtYXRjaDsgLy8g67OA7ZmYIOyLpO2MqCDsi5wg7JuQ67O4IOuwmO2ZmFxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLy8gMi4gMTbsp4TsiJgg7ZiV7YOc7J2YIEhUTUwg7JeU7Yuw7YuwIOuUlOy9lOuUqSAoJiN4Mjc7IOKGkiAnKVxyXG4gICAgLnJlcGxhY2UoLyYjeChbMC05YS1mQS1GXSspOy9nLCAobWF0Y2gsIGNvZGUpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChjb2RlLCAxNikpO1xyXG4gICAgICB9IGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmV0dXJuIG1hdGNoOyAvLyDrs4DtmZgg7Iuk7YyoIOyLnCDsm5Drs7gg67CY7ZmYXHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAvLyAzLiDsnbTrpoQg6riw67CYIEhUTUwg7JeU7Yuw7YuwIOuUlOy9lOuUqVxyXG4gICAgLnJlcGxhY2UoLyZbYS16QS1aXVthLXpBLVowLTldKjsvZywgKGVudGl0eSkgPT4ge1xyXG4gICAgICByZXR1cm4gbmFtZWRFbnRpdGllc1tlbnRpdHldIHx8IGVudGl0eTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyDsnYzslYUg7Luo7YWQ7LigIOyXrOu2gCDtjJDri6gg7ZWo7IiYICjrqqjrk6Ag6rKDIO2PrO2VqClcclxuZnVuY3Rpb24gaXNNdXNpY0NvbnRlbnQodGV4dDogc3RyaW5nKTogYm9vbGVhbiB7XHJcbiAgLy8g7JmE7KCE7Z6IIOu5iCDthY3siqTtirjrgpgg7J2Y66+47JeG64qUIOq4sO2YuOunjCDsoJzsmbhcclxuICBpZiAoIXRleHQgfHwgdGV4dC50cmltKCkgPT09ICcnIHx8IC9eWz8hLn5cXHNdKiQvLnRlc3QodGV4dCkpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcbiAgXHJcbiAgLy8g6re4IOyZuCDrqqjrk6Ag64K07JqpIO2PrO2VqFxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vLyDrspTsmqkg7YOA7J6E65287J24IO2MjOyLsSDtlajsiJggLSDrqqjrk6Ag7YOA7J6E7Iqk7YOs7ZSEIO2MqO2EtOydhCDsupDsuZhcclxuZnVuY3Rpb24gc3BsaXRDb21tZW50QnlUaW1lc3RhbXBzKGRlY29kZWRIdG1sOiBzdHJpbmcpIHtcclxuICBjb25zb2xlLmxvZygn8J+UjSDrspTsmqkg7YOA7J6E65287J24IO2MjOyLsSDsi5zsnpEuLi4nKTtcclxuICBcclxuICBjb25zdCByZXN1bHRzID0gW107XHJcbiAgbGV0IGJhc2VWaWRlb1VybCA9ICcnO1xyXG4gIFxyXG4gIC8vIOyyqyDrsojsp7gg7Jyg7Yqc67iMIOunge2BrOyXkOyEnCDquLDrs7ggVVJMIOy2lOy2nFxyXG4gIGNvbnN0IGxpbmtNYXRjaCA9IGRlY29kZWRIdG1sLm1hdGNoKC88YVtePl0qaHJlZj1cIihbXlwiXSp5b3V0dWJlW15cIl0qKVwiW14+XSo+Lyk7XHJcbiAgaWYgKGxpbmtNYXRjaCkge1xyXG4gICAgYmFzZVZpZGVvVXJsID0gbGlua01hdGNoWzFdLnJlcGxhY2UoL1s/Jl10PVxcZCsvLCAnJykucmVwbGFjZSgvWz8mXSQvLCAnJyk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIDHri6jqs4Q6IOuqqOuToCDtg4DsnoTsiqTtg6ztlIQg66eB7YGs66W8IOywvuqzoCDso7zrs4Ag7YWN7Iqk7Yq4IOy2lOy2nFxyXG4gIGNvbnN0IGFsbFRpbWVzdGFtcFBhdHRlcm4gPSAvPGFbXj5dKj4oXFxkezEsMn06XFxkezJ9KD86OlxcZHsyfSk/KTxcXC9hPi9nO1xyXG4gIGxldCBtYXRjaDtcclxuICBjb25zdCB0aW1lc3RhbXBQb3NpdGlvbnMgPSBbXTtcclxuICBcclxuICB3aGlsZSAoKG1hdGNoID0gYWxsVGltZXN0YW1wUGF0dGVybi5leGVjKGRlY29kZWRIdG1sKSkgIT09IG51bGwpIHtcclxuICAgIHRpbWVzdGFtcFBvc2l0aW9ucy5wdXNoKHtcclxuICAgICAgdGltZVRleHQ6IG1hdGNoWzFdLFxyXG4gICAgICB0aW1lU2Vjb25kczogcGFyc2VUaW1lVG9TZWNvbmRzKG1hdGNoWzFdKSxcclxuICAgICAgc3RhcnRQb3M6IG1hdGNoLmluZGV4LFxyXG4gICAgICBlbmRQb3M6IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoLFxyXG4gICAgICBmdWxsTWF0Y2g6IG1hdGNoWzBdXHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgY29uc29sZS5sb2coYPCflZAg7LSdICR7dGltZXN0YW1wUG9zaXRpb25zLmxlbmd0aH3qsJwg7YOA7J6E7Iqk7YOs7ZSEIOuwnOqyrGApO1xyXG4gIFxyXG4gIC8vIDLri6jqs4Q6IOqwgSDtg4DsnoTsiqTtg6ztlIQg7KO867OA7J2YIOy7qO2FjeyKpO2KuCDstpTstpxcclxuICB0aW1lc3RhbXBQb3NpdGlvbnMuZm9yRWFjaCgodGltZXN0YW1wLCBpbmRleCkgPT4ge1xyXG4gICAgLy8g7ZiE7J6sIO2DgOyehOyKpO2DrO2UhCDsnbTtm4TrtoDthLAg64uk7J2MIO2DgOyehOyKpO2DrO2UhCDsoITquYzsp4DsnZgg7YWN7Iqk7Yq4XHJcbiAgICBjb25zdCBuZXh0U3RhcnRQb3MgPSBpbmRleCA8IHRpbWVzdGFtcFBvc2l0aW9ucy5sZW5ndGggLSAxID8gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcFBvc2l0aW9uc1tpbmRleCArIDFdLnN0YXJ0UG9zIDogXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlY29kZWRIdG1sLmxlbmd0aDtcclxuICAgIFxyXG4gICAgY29uc3QgY29udGV4dFRleHQgPSBkZWNvZGVkSHRtbC5zdWJzdHJpbmcodGltZXN0YW1wLmVuZFBvcywgbmV4dFN0YXJ0UG9zKTtcclxuICAgIFxyXG4gICAgLy8g7YWN7Iqk7Yq4IOygleumrCDrsI8g7LaU7LacXHJcbiAgICBsZXQgY2xlYW5UZXh0ID0gY29udGV4dFRleHRcclxuICAgICAgLnJlcGxhY2UoLzxiclxccypcXC8/Pi9naSwgJyAnKSAgLy8gPGJyPiDtg5zqt7jrpbwg6rO167Cx7Jy866GcXHJcbiAgICAgIC5yZXBsYWNlKC88W14+XSo+L2csICcgJykgICAgICAvLyDrqqjrk6AgSFRNTCDtg5zqt7gg7KCc6rGwXHJcbiAgICAgIC5yZXBsYWNlKC9cXHMrL2csICcgJykgICAgICAgICAgLy8g7Jew7IaNIOqzteuwseydhCDtlZjrgpjroZxcclxuICAgICAgLnRyaW0oKTtcclxuICAgIFxyXG4gICAgLy8g7Yq57IiYIOuniOy7pOuCmCDruIzrnpjtgrcg7KCV67O0IOygnOqxsFxyXG4gICAgY2xlYW5UZXh0ID0gY2xlYW5UZXh0XHJcbiAgICAgIC5yZXBsYWNlKC9eW/CfjrXwn6q7XVxccyovLCAnJykgICAgIC8vIOydtOuqqOyngCDrp4jsu6Qg7KCc6rGwXHJcbiAgICAgIC5yZXBsYWNlKC9eXFxbLio/XFxdXFxzKi8sICcnKSAgICAgLy8g67iM656Y7YK3IOygleuztCDsoJzqsbAgKFvsoIDssZddLCBb64W4656Y7YOA7J6EXSDrk7EpXHJcbiAgICAgIC5yZXBsYWNlKC9eXFxzKi1cXHMqLywgJycpICAgICAgICAvLyDsi5zsnpEg64yA7IucIOygnOqxsFxyXG4gICAgICAucmVwbGFjZSgvXlxccyp+XFxzKi8sICcnKSAgICAgICAgLy8g7Iuc7J6RIO2LuOuTnCDsoJzqsbBcclxuICAgICAgLnRyaW0oKTtcclxuICAgIFxyXG4gICAgLy8gVlMg7Yyo7YS0IOyymOumrCAtIFwi6rOhMSBWUyDsi5zqsIQg6rOhMlwiIO2Yle2DnOulvCDrtoTrpqxcclxuICAgIGNvbnN0IHZzTWF0Y2ggPSBjbGVhblRleHQubWF0Y2goL14oLio/KVxccytWU1xccysoXFxkezEsMn06XFxkezJ9KD86OlxcZHsyfSk/KVxccysoLio/KSQvKTtcclxuICAgIGlmICh2c01hdGNoKSB7XHJcbiAgICAgIC8vIFZTIOyVnuu2gOu2hOunjCDtmITsnqwg7YOA7J6E7Iqk7YOs7ZSE7JeQIOyXsOqysFxyXG4gICAgICBjbGVhblRleHQgPSB2c01hdGNoWzFdLnRyaW0oKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g67mIIO2FjeyKpO2KuOuCmCDrhIjrrLQg7Ken7J2AIO2FjeyKpO2KuCDsiqTtgrVcclxuICAgIGlmICghY2xlYW5UZXh0IHx8IGNsZWFuVGV4dC5sZW5ndGggPCAyKSB7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g7J2M7JWFIOq0gOugqCDsl6zrtoAg7YyQ64uoXHJcbiAgICBjb25zdCBpc0xpa2VseU11c2ljID0gaXNNdXNpY0NvbnRlbnQoY2xlYW5UZXh0KTtcclxuICAgIFxyXG4gICAgaWYgKGlzTGlrZWx5TXVzaWMpIHtcclxuICAgICAgcmVzdWx0cy5wdXNoKHtcclxuICAgICAgICB0aW1lVGV4dDogdGltZXN0YW1wLnRpbWVUZXh0LFxyXG4gICAgICAgIHRpbWVTZWNvbmRzOiB0aW1lc3RhbXAudGltZVNlY29uZHMsXHJcbiAgICAgICAgY29udGVudDogY2xlYW5UZXh0LFxyXG4gICAgICAgIGJhc2VWaWRlb1VybCxcclxuICAgICAgICBzb3VyY2U6ICdnZW5lcmFsJ1xyXG4gICAgICB9KTtcclxuICAgICAgY29uc29sZS5sb2coYPCfjrYg67Cc6rKsOiAke3RpbWVzdGFtcC50aW1lVGV4dH0g4oaSIFwiJHtjbGVhblRleHR9XCJgKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGDinYwg7KCc7Jm4OiAke3RpbWVzdGFtcC50aW1lVGV4dH0g4oaSIFwiJHtjbGVhblRleHQuc3Vic3RyaW5nKDAsIDUwKX0uLi5cImApO1xyXG4gICAgfVxyXG4gIH0pO1xyXG4gIFxyXG4gIC8vIOyLnOqwhOyInCDsoJXroKxcclxuICByZXN1bHRzLnNvcnQoKGEsIGIpID0+IGEudGltZVNlY29uZHMgLSBiLnRpbWVTZWNvbmRzKTtcclxuICBjb25zb2xlLmxvZyhg8J+TjSDstJ0gJHtyZXN1bHRzLmxlbmd0aH3qsJwg7J2M7JWFIO2VreuqqSDrsJzqsqxgKTtcclxuICBcclxuICByZXR1cm4gcmVzdWx0cztcclxufVxyXG5cclxuLy8g6riw67O4IOu5hOuUlOyYpCBVUkwg7LaU7LacXHJcbmZ1bmN0aW9uIGV4dHJhY3RCYXNlVmlkZW9VcmwodGltZWxpbmVzOiBhbnlbXSkge1xyXG4gIGNvbnN0IGxpbmtUaW1lbGluZSA9IHRpbWVsaW5lcy5maW5kKHQgPT4gdC50eXBlID09PSAnbGluaycgJiYgdC51cmwpO1xyXG4gIGlmIChsaW5rVGltZWxpbmUpIHtcclxuICAgIHJldHVybiBsaW5rVGltZWxpbmUudXJsLnJlcGxhY2UoL1s/Jl10PVxcZCsvLCAnJykucmVwbGFjZSgvWz8mXSQvLCAnJyk7XHJcbiAgfVxyXG4gIHJldHVybiAnJztcclxufVxyXG5cclxuLy8g7JmE7KCE7Z6IIOyDiOuhnOyatCDtg4DsnoTrnbzsnbgg7YyM7IuxIO2VqOyImFxyXG5mdW5jdGlvbiBwYXJzZVRpbWVsaW5lQ29tbWVudChodG1sVGV4dDogc3RyaW5nLCB2aWRlb1RpdGxlOiBzdHJpbmcpIHtcclxuICBjb25zb2xlLmxvZyhg8J+UjSDsm5Drs7gg64yT6riAIO2MjOyLsSDsi5zsnpEuLi5gKTtcclxuICBcclxuICAvLyBIVE1MIOyXlO2LsO2LsCDrlJTsvZTrlKlcclxuICBjb25zdCBkZWNvZGVkSHRtbCA9IGRlY29kZUh0bWxFbnRpdGllcyhodG1sVGV4dCk7XHJcbiAgXHJcbiAgLy8gMeuLqOqzhDog7YOA7J6E7Iqk7YOs7ZSEIOq4sOykgOycvOuhnCDrjJPquIDsnYQg7JmE7KCE7Z6IIOu2hO2VoFxyXG4gIGNvbnN0IHNlY3Rpb25zID0gc3BsaXRDb21tZW50QnlUaW1lc3RhbXBzKGRlY29kZWRIdG1sKTtcclxuICBcclxuICBpZiAoc2VjdGlvbnMubGVuZ3RoID09PSAwKSB7XHJcbiAgICBjb25zb2xlLmxvZyhg4p2MIO2DgOyehOyKpO2DrO2UhOqwgCDrsJzqsqzrkJjsp4Ag7JWK7J2MYCk7XHJcbiAgICByZXR1cm4gW107XHJcbiAgfVxyXG4gIFxyXG4gIGNvbnNvbGUubG9nKGDwn5OKIOy0nSAke3NlY3Rpb25zLmxlbmd0aH3qsJwg6rWs6rCE7Jy866GcIOu2hO2VoOuQqGApO1xyXG4gIFxyXG4gIC8vIDLri6jqs4Q6IOqwgSDrtoTtlaDrkJwg6rWs6rCE7J2EIOqwnOuzhOyggeycvOuhnCDtjIzsi7EgKOybkOuzuCDrjJPquIDsnYAg642UIOydtOyDgSDrs7Tsp4Ag7JWK7J2MKVxyXG4gIGNvbnN0IHJhd01hdGNoZXMgPSBbXTtcclxuICBcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IHNlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XHJcbiAgICBjb25zdCBzZWN0aW9uID0gc2VjdGlvbnNbaV07XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGBcXG7wn5SEIOq1rOqwhCAke2kgKyAxfSDqsJzrs4Qg7YyM7IuxOiAke3NlY3Rpb24udGltZVRleHR9YCk7XHJcbiAgICBjb25zb2xlLmxvZyhg8J+TnSDqtazqsIQg64K07JqpOiBcIiR7c2VjdGlvbi5jb250ZW50fVwiYCk7XHJcbiAgICBcclxuICAgIC8vIDPri6jqs4Q6IOu2hO2VoOuQnCDqtazqsITrp4wg7IKs7Jqp7ZWY7JesIOqzoSDsoJXrs7Qg7YyM7IuxXHJcbiAgICBjb25zdCBzb25nSW5mbyA9IHBhcnNlU29uZ0luZm8oc2VjdGlvbi5jb250ZW50KTtcclxuICAgIGNvbnN0IGlzUmVsZXZhbnQgPSBzb25nSW5mby5hcnRpc3QgIT09ICfslYwg7IiYIOyXhuydjCc7XHJcbiAgICBcclxuICAgIHJhd01hdGNoZXMucHVzaCh7XHJcbiAgICAgIHVybDogc2VjdGlvbi5iYXNlVmlkZW9VcmwgfHwgJycsIC8vIOq1rOqwhOyXkOyEnCDstpTstpzrkJwg67mE65SU7JikIFVSTCDsgqzsmqlcclxuICAgICAgdGltZVNlY29uZHM6IHNlY3Rpb24udGltZVNlY29uZHMsXHJcbiAgICAgIHRpbWVUZXh0OiBzZWN0aW9uLnRpbWVUZXh0LFxyXG4gICAgICBzZWN0aW9uVGV4dDogc2VjdGlvbi5jb250ZW50LFxyXG4gICAgICBhcnRpc3Q6IHNvbmdJbmZvLmFydGlzdCxcclxuICAgICAgc29uZ1RpdGxlOiBzb25nSW5mby5zb25nVGl0bGUsXHJcbiAgICAgIGlzUmVsZXZhbnQ6IGlzUmVsZXZhbnRcclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZyhgJHtpc1JlbGV2YW50ID8gJ+KchScgOiAn4pqg77iPJ30g6rWs6rCEIO2MjOyLsSDsmYTro4w6ICR7c2VjdGlvbi50aW1lVGV4dH0gLSAke3NvbmdJbmZvLmFydGlzdH0gLSAke3NvbmdJbmZvLnNvbmdUaXRsZX1gKTtcclxuICB9XHJcbiAgXHJcbiAgY29uc29sZS5sb2coYPCfk4og7LSdICR7cmF3TWF0Y2hlcy5sZW5ndGh96rCcIOycoO2aqO2VnCDqs6Eg67Cc6rKsYCk7XHJcblxyXG4gIC8vIOyLnOqwhOyInCDsoJXroKxcclxuICByYXdNYXRjaGVzLnNvcnQoKGEsIGIpID0+IGEudGltZVNlY29uZHMgLSBiLnRpbWVTZWNvbmRzKTtcclxuXHJcbiAgLy8g6riw67O4IOu5hOuUlOyYpCBVUkwg7LaU7LacICh0IO2MjOudvOuvuO2EsCDsoJzqsbApXHJcbiAgY29uc3QgYmFzZVZpZGVvVXJsID0gcmF3TWF0Y2hlcy5sZW5ndGggPiAwID8gXHJcbiAgICByYXdNYXRjaGVzWzBdLnVybC5yZXBsYWNlKC9bPyZddD1cXGQrLywgJycpLnJlcGxhY2UoL1s/Jl0kLywgJycpIDogJyc7XHJcblxyXG4gIC8vIOuCoOynnCDstpTstpxcclxuICBjb25zdCBkYXRlSW5mbyA9IGV4dHJhY3REYXRlRnJvbVRpdGxlKHZpZGVvVGl0bGUpO1xyXG5cclxuICAvLyDqsrDqs7wg67Cw7Je0IOy0iOq4sO2ZlFxyXG4gIGNvbnN0IHNvbmdFbnRyaWVzID0gW107XHJcblxyXG4gIC8vIOqwgSDqs6Eg7KCV67O07JmAIOyLnOyekS/sooXro4wg7Iuc6rCEIOqzhOyCsFxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgcmF3TWF0Y2hlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgY29uc3QgY3VycmVudCA9IHJhd01hdGNoZXNbaV07XHJcbiAgICBjb25zdCBuZXh0ID0gcmF3TWF0Y2hlc1tpICsgMV07XHJcbiAgICBcclxuICAgIGNvbnN0IGxpdmVDbGlwID0ge1xyXG4gICAgICB2aWRlb1VybDogYmFzZVZpZGVvVXJsLFxyXG4gICAgICBhcnRpc3Q6IGN1cnJlbnQuYXJ0aXN0LFxyXG4gICAgICBzb25nVGl0bGU6IGN1cnJlbnQuc29uZ1RpdGxlLFxyXG4gICAgICBzdGFydFRpbWVTZWNvbmRzOiBjdXJyZW50LnRpbWVTZWNvbmRzLFxyXG4gICAgICBlbmRUaW1lU2Vjb25kczogbmV4dCA/IG5leHQudGltZVNlY29uZHMgOiBudWxsLFxyXG4gICAgICBkdXJhdGlvbjogbmV4dCA/IChuZXh0LnRpbWVTZWNvbmRzIC0gY3VycmVudC50aW1lU2Vjb25kcykgOiBudWxsLFxyXG4gICAgICB1cGxvYWRlZERhdGU6IGRhdGVJbmZvLmRhdGUsXHJcbiAgICAgIG9yaWdpbmFsRGF0ZVN0cmluZzogZGF0ZUluZm8ub3JpZ2luYWxTdHJpbmcsXHJcbiAgICAgIGlzUmVsZXZhbnQ6IGN1cnJlbnQuaXNSZWxldmFudFxyXG4gICAgfTtcclxuICAgIFxyXG4gICAgc29uZ0VudHJpZXMucHVzaChsaXZlQ2xpcCk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4gc29uZ0VudHJpZXM7XHJcbn1cclxuXHJcbi8vIOqzoSDsoJXrs7Qg7YyM7IuxIO2VqOyImCAo7JWE7Yuw7Iqk7Yq47JmAIOqzoeuqhSDrtoTrpqwpXHJcbmZ1bmN0aW9uIHBhcnNlU29uZ0luZm8oc29uZ1RleHQ6IHN0cmluZykge1xyXG4gIGNvbnN0IGNsZWFuVGV4dCA9IHNvbmdUZXh0LnRyaW0oKTtcclxuICBcclxuICAvLyDri6TslpHtlZwg6rWs67aE7J6Q66GcIOu2hOumrCDsi5zrj4RcclxuICBjb25zdCBzZXBhcmF0b3JzID0gWycgLSAnLCAnIOKAkyAnLCAnIOKAlCAnLCAnIHwgJywgJyAvICddO1xyXG4gIFxyXG4gIGZvciAoY29uc3Qgc2VwYXJhdG9yIG9mIHNlcGFyYXRvcnMpIHtcclxuICAgIGlmIChjbGVhblRleHQuaW5jbHVkZXMoc2VwYXJhdG9yKSkge1xyXG4gICAgICBjb25zdCBwYXJ0cyA9IGNsZWFuVGV4dC5zcGxpdChzZXBhcmF0b3IpO1xyXG4gICAgICBpZiAocGFydHMubGVuZ3RoID49IDIgJiYgcGFydHNbMF0udHJpbSgpICYmIHBhcnRzWzFdLnRyaW0oKSkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICBhcnRpc3Q6IHBhcnRzWzBdLnRyaW0oKSxcclxuICAgICAgICAgIHNvbmdUaXRsZTogcGFydHMuc2xpY2UoMSkuam9pbihzZXBhcmF0b3IpLnRyaW0oKVxyXG4gICAgICAgIH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgLy8g6rWs67aE7J6Q6rCAIOyXhuuKlCDqsr3smrAsIOyghOyytOulvCDqs6HrqoXsnLzroZwg7LKY66asXHJcbiAgcmV0dXJuIHtcclxuICAgIGFydGlzdDogJ+yVjCDsiJgg7JeG7J2MJyxcclxuICAgIHNvbmdUaXRsZTogY2xlYW5UZXh0XHJcbiAgfTtcclxufVxyXG5cclxuLy8g7LSI66W8IEhIOk1NOlNTIOuYkOuKlCBNTTpTUyDtmJXsi53snLzroZwg67OA7ZmYXHJcbmZ1bmN0aW9uIGZvcm1hdFNlY29uZHMoc2Vjb25kczogbnVtYmVyKTogc3RyaW5nIHtcclxuICBjb25zdCBob3VycyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDM2MDApO1xyXG4gIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKChzZWNvbmRzICUgMzYwMCkgLyA2MCk7XHJcbiAgY29uc3Qgc2VjcyA9IHNlY29uZHMgJSA2MDtcclxuICBcclxuICBpZiAoaG91cnMgPiAwKSB7XHJcbiAgICByZXR1cm4gYCR7aG91cnN9OiR7bWludXRlcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9OiR7c2Vjcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcclxuICB9IGVsc2Uge1xyXG4gICAgcmV0dXJuIGAke21pbnV0ZXN9OiR7c2Vjcy50b1N0cmluZygpLnBhZFN0YXJ0KDIsICcwJyl9YDtcclxuICB9XHJcbn1cclxuXHJcblxyXG5cclxuLy8g64W4656YIOuNsOydtO2EsOuyoOydtOyKpOyXkOyEnCDrp6Tsua0g7LC+6riwXHJcbmFzeW5jIGZ1bmN0aW9uIGZpbmRTb25nTWF0Y2hlcyhhcnRpc3Q6IHN0cmluZywgc29uZ1RpdGxlOiBzdHJpbmcpIHtcclxuICB0cnkge1xyXG4gICAgLy8g7Zmc7ISxIOyDge2DnOyduCDqs6Hrk6Trp4wg6rKA7IOJXHJcbiAgICBjb25zdCBzb25ncyA9IGF3YWl0IFNvbmdEZXRhaWwuZmluZCh7IFxyXG4gICAgICBzdGF0dXM6IHsgJGluOiBbJ2FjdGl2ZScsICdwZW5kaW5nJ10gfSBcclxuICAgIH0pLmxlYW4oKTtcclxuICAgIFxyXG4gICAgY29uc3Qgbm9ybWFsaXplZElucHV0QXJ0aXN0ID0gbm9ybWFsaXplVGV4dChhcnRpc3QpO1xyXG4gICAgY29uc3Qgbm9ybWFsaXplZElucHV0VGl0bGUgPSBub3JtYWxpemVUZXh0KHNvbmdUaXRsZSk7XHJcbiAgICBcclxuICAgIGNvbnN0IG1hdGNoZXMgPSBbXTtcclxuICAgIFxyXG4gICAgZm9yIChjb25zdCBzb25nIG9mIHNvbmdzKSB7XHJcbiAgICAgIC8vIOq4sOuzuCDslYTti7DsiqTtirgv7KCc66qpIOunpOy5rVxyXG4gICAgICBjb25zdCBhcnRpc3RTaW1pbGFyaXR5ID0gY2FsY3VsYXRlU2ltaWxhcml0eShub3JtYWxpemVkSW5wdXRBcnRpc3QsIG5vcm1hbGl6ZVRleHQoc29uZy5hcnRpc3QpKTtcclxuICAgICAgY29uc3QgdGl0bGVTaW1pbGFyaXR5ID0gY2FsY3VsYXRlU2ltaWxhcml0eShub3JtYWxpemVkSW5wdXRUaXRsZSwgbm9ybWFsaXplVGV4dChzb25nLnRpdGxlKSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyDrs4Tsua3snbQg7J6I64qUIOqyveyasCDrs4Tsua3rj4Qg7ZmV7J24XHJcbiAgICAgIGxldCBiZXN0QXJ0aXN0U2ltaWxhcml0eSA9IGFydGlzdFNpbWlsYXJpdHk7XHJcbiAgICAgIGxldCBiZXN0VGl0bGVTaW1pbGFyaXR5ID0gdGl0bGVTaW1pbGFyaXR5O1xyXG4gICAgICBcclxuICAgICAgaWYgKHNvbmcuYXJ0aXN0QWxpYXMpIHtcclxuICAgICAgICBjb25zdCBhbGlhc1NpbWlsYXJpdHkgPSBjYWxjdWxhdGVTaW1pbGFyaXR5KG5vcm1hbGl6ZWRJbnB1dEFydGlzdCwgbm9ybWFsaXplVGV4dChzb25nLmFydGlzdEFsaWFzKSk7XHJcbiAgICAgICAgYmVzdEFydGlzdFNpbWlsYXJpdHkgPSBNYXRoLm1heChiZXN0QXJ0aXN0U2ltaWxhcml0eSwgYWxpYXNTaW1pbGFyaXR5KTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgaWYgKHNvbmcudGl0bGVBbGlhcykge1xyXG4gICAgICAgIGNvbnN0IGFsaWFzU2ltaWxhcml0eSA9IGNhbGN1bGF0ZVNpbWlsYXJpdHkobm9ybWFsaXplZElucHV0VGl0bGUsIG5vcm1hbGl6ZVRleHQoc29uZy50aXRsZUFsaWFzKSk7XHJcbiAgICAgICAgYmVzdFRpdGxlU2ltaWxhcml0eSA9IE1hdGgubWF4KGJlc3RUaXRsZVNpbWlsYXJpdHksIGFsaWFzU2ltaWxhcml0eSk7XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIC8vIOqygOyDiSDtg5zqt7jrj4Qg7ZmV7J24XHJcbiAgICAgIGlmIChzb25nLnNlYXJjaFRhZ3MgJiYgc29uZy5zZWFyY2hUYWdzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBmb3IgKGNvbnN0IHRhZyBvZiBzb25nLnNlYXJjaFRhZ3MpIHtcclxuICAgICAgICAgIGNvbnN0IHRhZ0FydGlzdFNpbWlsYXJpdHkgPSBjYWxjdWxhdGVTaW1pbGFyaXR5KG5vcm1hbGl6ZWRJbnB1dEFydGlzdCwgbm9ybWFsaXplVGV4dCh0YWcpKTtcclxuICAgICAgICAgIGNvbnN0IHRhZ1RpdGxlU2ltaWxhcml0eSA9IGNhbGN1bGF0ZVNpbWlsYXJpdHkobm9ybWFsaXplZElucHV0VGl0bGUsIG5vcm1hbGl6ZVRleHQodGFnKSk7XHJcbiAgICAgICAgICBiZXN0QXJ0aXN0U2ltaWxhcml0eSA9IE1hdGgubWF4KGJlc3RBcnRpc3RTaW1pbGFyaXR5LCB0YWdBcnRpc3RTaW1pbGFyaXR5KTtcclxuICAgICAgICAgIGJlc3RUaXRsZVNpbWlsYXJpdHkgPSBNYXRoLm1heChiZXN0VGl0bGVTaW1pbGFyaXR5LCB0YWdUaXRsZVNpbWlsYXJpdHkpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgLy8g7KKF7ZWpIOygkOyImCDqs4TsgrAgKOyVhO2LsOyKpO2KuCA0MCUsIOygnOuqqSA2MCUpXHJcbiAgICAgIGNvbnN0IG92ZXJhbGxDb25maWRlbmNlID0gKGJlc3RBcnRpc3RTaW1pbGFyaXR5ICogMC40KSArIChiZXN0VGl0bGVTaW1pbGFyaXR5ICogMC42KTtcclxuICAgICAgXHJcbiAgICAgIC8vIOy1nOyGjCDsi6DrorDrj4Qg6riw7KSAICgwLjYg7J207IOB66eMIO2bhOuztOuhnCDshKDsoJUpXHJcbiAgICAgIGlmIChvdmVyYWxsQ29uZmlkZW5jZSA+PSAwLjYpIHtcclxuICAgICAgICBtYXRjaGVzLnB1c2goe1xyXG4gICAgICAgICAgc29uZ0lkOiBzb25nLl9pZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgdGl0bGU6IHNvbmcudGl0bGUsXHJcbiAgICAgICAgICBhcnRpc3Q6IHNvbmcuYXJ0aXN0LFxyXG4gICAgICAgICAgY29uZmlkZW5jZTogb3ZlcmFsbENvbmZpZGVuY2UsXHJcbiAgICAgICAgICBhcnRpc3RTaW1pbGFyaXR5OiBiZXN0QXJ0aXN0U2ltaWxhcml0eSxcclxuICAgICAgICAgIHRpdGxlU2ltaWxhcml0eTogYmVzdFRpdGxlU2ltaWxhcml0eSxcclxuICAgICAgICAgIG1hdGNoZWRGaWVsZDogYmVzdEFydGlzdFNpbWlsYXJpdHkgPiBhcnRpc3RTaW1pbGFyaXR5IHx8IGJlc3RUaXRsZVNpbWlsYXJpdHkgPiB0aXRsZVNpbWlsYXJpdHkgPyAnYWxpYXMnIDogJ21haW4nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8g7Iug66Kw64+EIOyInOycvOuhnCDsoJXroKztlZjqs6Ag7IOB7JyEIDXqsJzrp4wg67CY7ZmYXHJcbiAgICByZXR1cm4gbWF0Y2hlc1xyXG4gICAgICAuc29ydCgoYSwgYikgPT4gYi5jb25maWRlbmNlIC0gYS5jb25maWRlbmNlKVxyXG4gICAgICAuc2xpY2UoMCwgNSk7XHJcbiAgICAgIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCfrhbjrnpgg66ek7LmtIOykkSDsmKTrpZg6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufVxyXG5cclxuLy8g7LWc7KCBIOunpOy5rSDshKDtg50gKOqwgOyepSDrhpLsnYAg7Iug66Kw64+EKVxyXG5hc3luYyBmdW5jdGlvbiBnZXRCZXN0U29uZ01hdGNoKGFydGlzdDogc3RyaW5nLCBzb25nVGl0bGU6IHN0cmluZykge1xyXG4gIGNvbnN0IG1hdGNoZXMgPSBhd2FpdCBmaW5kU29uZ01hdGNoZXMoYXJ0aXN0LCBzb25nVGl0bGUpO1xyXG4gIFxyXG4gIGlmIChtYXRjaGVzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIG51bGw7XHJcbiAgXHJcbiAgY29uc3QgYmVzdE1hdGNoID0gbWF0Y2hlc1swXTtcclxuICBcclxuICAvLyDsi6DrorDrj4TqsIAgMC44IOydtOyDgeydvCDrlYzrp4wg7J6Q64+ZIOunpOy5reycvOuhnCDsspjrpqxcclxuICBpZiAoYmVzdE1hdGNoLmNvbmZpZGVuY2UgPj0gMC44KSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBzb25nSWQ6IGJlc3RNYXRjaC5zb25nSWQsXHJcbiAgICAgIHRpdGxlOiBiZXN0TWF0Y2gudGl0bGUsXHJcbiAgICAgIGFydGlzdDogYmVzdE1hdGNoLmFydGlzdCxcclxuICAgICAgY29uZmlkZW5jZTogYmVzdE1hdGNoLmNvbmZpZGVuY2VcclxuICAgIH07XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBudWxsO1xyXG59XHJcblxyXG4vLyDruYTrlJTsmKQg7KCc66qp7JeQ7IScIOuCoOynnCDstpTstpwgKOqwnOyEoOuQnCDrsoTsoIQpXHJcbmZ1bmN0aW9uIGV4dHJhY3REYXRlRnJvbVRpdGxlKHRpdGxlOiBzdHJpbmcpOiB7IGRhdGU6IERhdGUgfCBudWxsLCBvcmlnaW5hbFN0cmluZzogc3RyaW5nIHwgbnVsbCB9IHtcclxuICAvLyAyNS4wNi4wMSDtmJXsi50g7Yyo7YS0IChZWS5NTS5ERClcclxuICBjb25zdCBzaG9ydFllYXJQYXR0ZXJuID0gLyhcXGR7Mn0pXFwuKFxcZHsxLDJ9KVxcLihcXGR7MSwyfSkvO1xyXG4gIGNvbnN0IHNob3J0WWVhck1hdGNoID0gdGl0bGUubWF0Y2goc2hvcnRZZWFyUGF0dGVybik7XHJcbiAgXHJcbiAgaWYgKHNob3J0WWVhck1hdGNoKSB7XHJcbiAgICBjb25zdCB5ZWFyID0gcGFyc2VJbnQoc2hvcnRZZWFyTWF0Y2hbMV0pO1xyXG4gICAgY29uc3QgbW9udGggPSBwYXJzZUludChzaG9ydFllYXJNYXRjaFsyXSk7XHJcbiAgICBjb25zdCBkYXkgPSBwYXJzZUludChzaG9ydFllYXJNYXRjaFszXSk7XHJcbiAgICBcclxuICAgIC8vIDIwMDDrhYTrjIDroZwg6rCA7KCVICgyNSAtPiAyMDI1KVxyXG4gICAgY29uc3QgZnVsbFllYXIgPSB5ZWFyIDwgNTAgPyAyMDAwICsgeWVhciA6IDE5MDAgKyB5ZWFyO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoZnVsbFllYXIsIG1vbnRoIC0gMSwgZGF5KTtcclxuICAgICAgcmV0dXJuIHtcclxuICAgICAgICBkYXRlOiBkYXRlLFxyXG4gICAgICAgIG9yaWdpbmFsU3RyaW5nOiBzaG9ydFllYXJNYXRjaFswXVxyXG4gICAgICB9O1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcign64Kg7KecIO2MjOyLsSDsmKTrpZg6JywgZXJyb3IpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8g64uk66W4IOuCoOynnCDtmJXsi53rk6RcclxuICBjb25zdCBkYXRlUGF0dGVybnMgPSBbXHJcbiAgICB7XHJcbiAgICAgIHBhdHRlcm46IC8oXFxkezR9KVtcXC5cXC1cXC9dKFxcZHsxLDJ9KVtcXC5cXC1cXC9dKFxcZHsxLDJ9KS8sICAvLyAyMDI0LjAzLjE1LCAyMDI0LTAzLTE1XHJcbiAgICAgIHBhcnNlcjogKG1hdGNoOiBSZWdFeHBNYXRjaEFycmF5KSA9PiBuZXcgRGF0ZShwYXJzZUludChtYXRjaFsxXSksIHBhcnNlSW50KG1hdGNoWzJdKSAtIDEsIHBhcnNlSW50KG1hdGNoWzNdKSlcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHBhdHRlcm46IC8oXFxkezEsMn0pW1xcLlxcLVxcL10oXFxkezEsMn0pW1xcLlxcLVxcL10oXFxkezR9KS8sICAvLyAwMy4xNS4yMDI0XHJcbiAgICAgIHBhcnNlcjogKG1hdGNoOiBSZWdFeHBNYXRjaEFycmF5KSA9PiBuZXcgRGF0ZShwYXJzZUludChtYXRjaFszXSksIHBhcnNlSW50KG1hdGNoWzFdKSAtIDEsIHBhcnNlSW50KG1hdGNoWzJdKSlcclxuICAgIH0sXHJcbiAgICB7XHJcbiAgICAgIHBhdHRlcm46IC8oXFxkezR9KeuFhFxccyooXFxkezEsMn0p7JuUXFxzKihcXGR7MSwyfSnsnbwvLCAgICAgICAvLyAyMDI064WEIDPsm5QgMTXsnbxcclxuICAgICAgcGFyc2VyOiAobWF0Y2g6IFJlZ0V4cE1hdGNoQXJyYXkpID0+IG5ldyBEYXRlKHBhcnNlSW50KG1hdGNoWzFdKSwgcGFyc2VJbnQobWF0Y2hbMl0pIC0gMSwgcGFyc2VJbnQobWF0Y2hbM10pKVxyXG4gICAgfVxyXG4gIF07XHJcblxyXG4gIGZvciAoY29uc3QgeyBwYXR0ZXJuLCBwYXJzZXIgfSBvZiBkYXRlUGF0dGVybnMpIHtcclxuICAgIGNvbnN0IG1hdGNoID0gdGl0bGUubWF0Y2gocGF0dGVybik7XHJcbiAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkYXRlID0gcGFyc2VyKG1hdGNoKTtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgZGF0ZTogZGF0ZSxcclxuICAgICAgICAgIG9yaWdpbmFsU3RyaW5nOiBtYXRjaFswXVxyXG4gICAgICAgIH07XHJcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign64Kg7KecIO2MjOyLsSDsmKTrpZg6JywgZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICByZXR1cm4geyBkYXRlOiBudWxsLCBvcmlnaW5hbFN0cmluZzogbnVsbCB9O1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XHJcbiAgICBpZiAoIXNlc3Npb24gfHwgIWhhc1Blcm1pc3Npb24oc2Vzc2lvbi51c2VyLnJvbGUgYXMgVXNlclJvbGUsIFBlcm1pc3Npb24uU09OR1NfRURJVCkpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn7Y647KeRIOq2jO2VnOydtCDtlYTsmpTtlanri4jri6QuJyB9LFxyXG4gICAgICAgIHsgc3RhdHVzOiA0MDMgfVxyXG4gICAgICApO1xyXG4gICAgfVxyXG5cclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpO1xyXG5cclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgIGNvbnN0IHsgYWN0aW9uLCBpdGVtSWQsIGlzUmVsZXZhbnQsIGlzRXhjbHVkZWQsIHNraXBQcm9jZXNzZWQgPSB0cnVlIH0gPSBib2R5O1xyXG5cclxuICAgIHN3aXRjaCAoYWN0aW9uKSB7XHJcbiAgICAgIGNhc2UgJ3JlcHJvY2Vzcy10aW1lbGluZS1jb21tZW50cyc6XHJcbiAgICAgICAgLy8g6riw7KG0IOuNsOydtO2EsOulvCDqsJzshKDrkJwg66mA7Yuw65287J24IO2MjOyLsSDrsKnsi53snLzroZwg7JeF642w7J207Yq4XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CflIQg6riw7KG0IO2MjOyLseuQnCDtg4DsnoTrnbzsnbgg642w7J207YSw66W8IOqwnOyEoOuQnCDrsKnsi53snLzroZwg7JeF642w7J207Yq4IOyLnOyekS4uLicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOuqqOuToCDtg4DsnoTrnbzsnbgg64yT6riAIOyhsO2ajCAo7LKY66as7JmE66OMIOyXrOu2gCDrrLTqtIApXHJcbiAgICAgICAgY29uc3QgYWxsVGltZWxpbmVDb21tZW50cyA9IGF3YWl0IFlvdVR1YmVDb21tZW50LmZpbmQoeyBcclxuICAgICAgICAgIGlzVGltZWxpbmU6IHRydWUgXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OdIOy0nSAke2FsbFRpbWVsaW5lQ29tbWVudHMubGVuZ3RofeqwnCDtg4DsnoTrnbzsnbgg64yT6riAIOuwnOqyrGApO1xyXG5cclxuICAgICAgICBsZXQgcmVwcm9jZXNzZWRDb3VudCA9IDA7XHJcbiAgICAgICAgbGV0IGRhdGFVcGRhdGVkQ291bnQgPSAwO1xyXG4gICAgICAgIGxldCBuZXdJdGVtc0NvdW50ID0gMDtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBjb21tZW50IG9mIGFsbFRpbWVsaW5lQ29tbWVudHMpIHtcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIC8vIOu5hOuUlOyYpCDsoJXrs7Qg7KGw7ZqMXHJcbiAgICAgICAgICAgIGNvbnN0IHZpZGVvID0gYXdhaXQgWW91VHViZVZpZGVvLmZpbmRPbmUoeyB2aWRlb0lkOiBjb21tZW50LnZpZGVvSWQgfSk7XHJcbiAgICAgICAgICAgIGlmICghdmlkZW8pIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2coYPCflI0g7J6s7LKY66asIOykkTogJHtjb21tZW50LmNvbW1lbnRJZH1gKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGhhc0h0bWxMaW5rcyA9IGNvbW1lbnQudGV4dENvbnRlbnQuaW5jbHVkZXMoJzxhICcpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGhhc0h0bWxMaW5rcykge1xyXG4gICAgICAgICAgICAgIC8vIOqwnOyEoOuQnCDrqYDti7Drnbzsnbgg7YOA7J6E65287J24IOuMk+q4gCDtjIzsi7FcclxuICAgICAgICAgICAgICBjb25zdCBsaXZlQ2xpcHMgPSBwYXJzZVRpbWVsaW5lQ29tbWVudChjb21tZW50LnRleHRDb250ZW50LCB2aWRlby50aXRsZSk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgaWYgKGxpdmVDbGlwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDsnbQg64yT6riA7JeQ7IScIOq4sOyhtOyXkCDtjIzsi7HrkJwg7YOA7J6E65287J2465OkIOyhsO2ajFxyXG4gICAgICAgICAgICAgICAgY29uc3QgZXhpc3RpbmdUaW1lbGluZXMgPSBhd2FpdCBQYXJzZWRUaW1lbGluZS5maW5kKHtcclxuICAgICAgICAgICAgICAgICAgY29tbWVudElkOiBjb21tZW50LmNvbW1lbnRJZFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g6riw7KG0IO2MjOyLsSDqsrDqs7zsmYAg7IOIIO2MjOyLsSDqsrDqs7wg67mE6rWQXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+UjSDsg4jroZwg7YyM7Iux65CcIO2BtOumvSDqsJzsiJg6ICR7bGl2ZUNsaXBzLmxlbmd0aH3qsJxgKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SNIOq4sOyhtCDtg4DsnoTrnbzsnbgg6rCc7IiYOiAke2V4aXN0aW5nVGltZWxpbmVzLmxlbmd0aH3qsJxgKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjbGlwRGF0YSBvZiBsaXZlQ2xpcHMpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCflI0g7IOIIO2BtOumvSAtIOyLnOyekeyLnOqwhDogJHtjbGlwRGF0YS5zdGFydFRpbWVTZWNvbmRzfey0iCwg7JWE7Yuw7Iqk7Yq4OiAke2NsaXBEYXRhLmFydGlzdH0sIOqzoeuqhTogJHtjbGlwRGF0YS5zb25nVGl0bGV9YCk7XHJcbiAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAvLyDrqLzsoIAgc3RhcnRUaW1lU2Vjb25kc+uhnCDrp6Tsua0g7Iuc64+EXHJcbiAgICAgICAgICAgICAgICAgIGxldCBleGlzdGluZ0NsaXAgPSBleGlzdGluZ1RpbWVsaW5lcy5maW5kKFxyXG4gICAgICAgICAgICAgICAgICAgIHRpbWVsaW5lID0+IHRpbWVsaW5lLnN0YXJ0VGltZVNlY29uZHMgPT09IGNsaXBEYXRhLnN0YXJ0VGltZVNlY29uZHNcclxuICAgICAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0VGltZVNlY29uZHProZwg66ek7Lmt65CY7KeAIOyViuuKlCDqsr3smrAsIOyVhO2LsOyKpO2KuC3qs6HrqoXsnLzroZwg66ek7LmtIOyLnOuPhFxyXG4gICAgICAgICAgICAgICAgICBpZiAoIWV4aXN0aW5nQ2xpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ2xpcCA9IGV4aXN0aW5nVGltZWxpbmVzLmZpbmQoXHJcbiAgICAgICAgICAgICAgICAgICAgICB0aW1lbGluZSA9PiB0aW1lbGluZS5hcnRpc3QgPT09IGNsaXBEYXRhLmFydGlzdCAmJiB0aW1lbGluZS5zb25nVGl0bGUgPT09IGNsaXBEYXRhLnNvbmdUaXRsZVxyXG4gICAgICAgICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nQ2xpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCflIQg7JWE7Yuw7Iqk7Yq4LeqzoeuqheycvOuhnCDrp6Tsua3rkKg6ICR7ZXhpc3RpbmdDbGlwLmFydGlzdH0gLSAke2V4aXN0aW5nQ2xpcC5zb25nVGl0bGV9ICjquLDsobQg7Iuc6rCEOiAke2V4aXN0aW5nQ2xpcC5zdGFydFRpbWVTZWNvbmRzfey0iCDihpIg7IOIIOyLnOqwhDogJHtjbGlwRGF0YS5zdGFydFRpbWVTZWNvbmRzfey0iClgKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOKchSDsi5zsnpHsi5zqsITsnLzroZwg66ek7Lmt65CoOiAke2NsaXBEYXRhLnN0YXJ0VGltZVNlY29uZHN97LSIYCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgIGlmIChleGlzdGluZ0NsaXApIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyDquLDsobQg642w7J207YSw66W8IOyDiOuhnOyatCDtjIzsi7Eg6rKw6rO866GcIOyXheuNsOydtO2KuFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVwZGF0ZURhdGE6IGFueSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgIGFydGlzdDogY2xpcERhdGEuYXJ0aXN0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgc29uZ1RpdGxlOiBjbGlwRGF0YS5zb25nVGl0bGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVTZWNvbmRzOiBjbGlwRGF0YS5zdGFydFRpbWVTZWNvbmRzLCAvLyDsiJjsoJXrkJwg7Iuc7J6R7Iuc6rCE64+EIOyXheuNsOydtO2KuFxyXG4gICAgICAgICAgICAgICAgICAgICAgZW5kVGltZVNlY29uZHM6IGNsaXBEYXRhLmVuZFRpbWVTZWNvbmRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgZHVyYXRpb246IGNsaXBEYXRhLmR1cmF0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgaXNSZWxldmFudDogY2xpcERhdGEuaXNSZWxldmFudCxcclxuICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29tbWVudDogY29tbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIOuMk+q4gCDsnpHshLHsnpAg7KCV67O06rCAIOyXhuuKlCDqsr3smrDsl5Drp4wg7LaU6rCAXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFleGlzdGluZ0NsaXAuY29tbWVudEF1dGhvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YS5jb21tZW50QXV0aG9yID0gY29tbWVudC5hdXRob3JOYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YS5jb21tZW50SWQgPSBjb21tZW50LmNvbW1lbnRJZDtcclxuICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGEuY29tbWVudFB1Ymxpc2hlZEF0ID0gY29tbWVudC5wdWJsaXNoZWRBdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IFBhcnNlZFRpbWVsaW5lLnVwZGF0ZU9uZShcclxuICAgICAgICAgICAgICAgICAgICAgIHsgX2lkOiBleGlzdGluZ0NsaXAuX2lkIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhXHJcbiAgICAgICAgICAgICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YVVwZGF0ZWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDwn5SEIOyXheuNsOydtO2KuOuQqDogJHtjbGlwRGF0YS5zdGFydFRpbWVTZWNvbmRzfey0iCAtICR7Y2xpcERhdGEuYXJ0aXN0fSAtICR7Y2xpcERhdGEuc29uZ1RpdGxlfWApO1xyXG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOyDiOuhnOyatCDrjbDsnbTthLDripQg7IOd7ISx7ZWY7KeAIOyViuydjCAo6riw7KG0IOuNsOydtO2EsCDsl4XrjbDsnbTtirjrp4wpXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYOKPre+4jyDsg4jroZzsmrQg7YOA7J6E65287J24IOuwnOqyrO2WiOyngOunjCDsg53shLHtlZjsp4Ag7JWK7J2MOiAke2NsaXBEYXRhLnN0YXJ0VGltZVNlY29uZHN97LSIIC0gJHtjbGlwRGF0YS5hcnRpc3R9IC0gJHtjbGlwRGF0YS5zb25nVGl0bGV9YCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgcmVwcm9jZXNzZWRDb3VudCsrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGDrjJPquIAg7J6s7LKY66asIOyYpOulmCAoJHtjb21tZW50LmNvbW1lbnRJZH0pOmAsIGVycm9yKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgbWVzc2FnZTogYOq4sOyhtCDrjbDsnbTthLAg7JeF642w7J207Yq4IOyZhOujjDogJHtyZXByb2Nlc3NlZENvdW50feqwnCDrjJPquIAg7LKY66asLCAke2RhdGFVcGRhdGVkQ291bnR96rCcIOq4sOyhtCDrjbDsnbTthLAg7JeF642w7J207Yq4ICjsg4jroZzsmrQg642w7J207YSwIOyDneyEsSDsl4bsnYwpYCxcclxuICAgICAgICAgIGRhdGE6IHsgcmVwcm9jZXNzZWRDb3VudCwgZGF0YVVwZGF0ZWRDb3VudCwgbmV3SXRlbXNTa2lwcGVkOiBuZXdJdGVtc0NvdW50IH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGNhc2UgJ3BhcnNlLXRpbWVsaW5lLWNvbW1lbnRzJzpcclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+UhCDtg4DsnoTrnbzsnbgg64yT6riAIO2MjOyLsSDsi5zsnpEuLi4gKOyymOumrOyZhOujjCDrjJPquIAg7Iqk7YK1OiAke3NraXBQcm9jZXNzZWQgPyAn7JiIJyA6ICfslYTri4jsmKQnfSlgKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyDtg4DsnoTrnbzsnbgg64yT6riAIOyhsO2ajCAoc2tpcFByb2Nlc3NlZCDsmLXshZjsl5Ag65Sw6528IO2VhO2EsOungSlcclxuICAgICAgICBjb25zdCBxdWVyeUZpbHRlcjogYW55ID0geyBpc1RpbWVsaW5lOiB0cnVlIH07XHJcbiAgICAgICAgaWYgKHNraXBQcm9jZXNzZWQpIHtcclxuICAgICAgICAgIHF1ZXJ5RmlsdGVyLmlzUHJvY2Vzc2VkID0geyAkbmU6IHRydWUgfTsgLy8gaXNQcm9jZXNzZWTqsIAgdHJ1ZeqwgCDslYTri4wg6rKD65Ok66eMXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHRpbWVsaW5lQ29tbWVudHMgPSBhd2FpdCBZb3VUdWJlQ29tbWVudC5maW5kKHF1ZXJ5RmlsdGVyKTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+TnSDstJ0gJHt0aW1lbGluZUNvbW1lbnRzLmxlbmd0aH3qsJwg7YOA7J6E65287J24IOuMk+q4gCDrsJzqsqxgKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyDsnbTrr7gg7YyM7Iux65CcIGNvbW1lbnRJZCDrqqnroZ0g7KGw7ZqMXHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdDb21tZW50SWRzID0gYXdhaXQgUGFyc2VkVGltZWxpbmUuZGlzdGluY3QoJ2NvbW1lbnRJZCcpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGDwn5OKIOq4sOyhtOyXkCDtjIzsi7HrkJwg64yT6riAOiAke2V4aXN0aW5nQ29tbWVudElkcy5sZW5ndGh96rCcYCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g7IOI66Gc7Jq0IOuMk+q4gOqzvCDstZzqt7zsl5Ag7JeF642w7J207Yq465CcIOuMk+q4gCDtlYTthLDrp4EgKOy1nOq3vCA37J28IOydtOuCtCDsl4XrjbDsnbTtirjrkJwg64yT6riAIOyerOyymOumrClcclxuICAgICAgICBjb25zdCBzZXZlbkRheXNBZ28gPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHNldmVuRGF5c0Fnby5zZXREYXRlKHNldmVuRGF5c0Fnby5nZXREYXRlKCkgLSA3KTtcclxuICAgICAgICBcclxuICAgICAgICBjb25zdCBuZXdUaW1lbGluZUNvbW1lbnRzID0gdGltZWxpbmVDb21tZW50cy5maWx0ZXIoY29tbWVudCA9PiB7XHJcbiAgICAgICAgICBjb25zdCBpc05vdFByb2Nlc3NlZCA9ICFleGlzdGluZ0NvbW1lbnRJZHMuaW5jbHVkZXMoY29tbWVudC5jb21tZW50SWQpO1xyXG4gICAgICAgICAgY29uc3QgaXNSZWNlbnRseVVwZGF0ZWQgPSBjb21tZW50LnVwZGF0ZWRBdCAmJiBuZXcgRGF0ZShjb21tZW50LnVwZGF0ZWRBdCkgPiBzZXZlbkRheXNBZ287XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChza2lwUHJvY2Vzc2VkKSB7XHJcbiAgICAgICAgICAgIC8vIHNraXBQcm9jZXNzZWTqsIAgdHJ1ZeuptCDsnbTrr7ggREIg7L+866as7JeQ7IScIO2VhO2EsOunge2WiOycvOuvgOuhnCDstpTqsIAg7ZWE7YSw66eBIOu2iO2VhOyalFxyXG4gICAgICAgICAgICByZXR1cm4gaXNOb3RQcm9jZXNzZWQgfHwgaXNSZWNlbnRseVVwZGF0ZWQ7XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBza2lwUHJvY2Vzc2Vk6rCAIGZhbHNl66m0IOuqqOuToCDrjJPquIAg7LKY66asICjsspjrpqzsmYTro4wg7Jes67aAIOustOq0gClcclxuICAgICAgICAgICAgcmV0dXJuIGlzTm90UHJvY2Vzc2VkIHx8IGlzUmVjZW50bHlVcGRhdGVkO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhg8J+TnSDsg4jroZwg7LKY66as7ZWgIOuMk+q4gDogJHtuZXdUaW1lbGluZUNvbW1lbnRzLmxlbmd0aH3qsJxgKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhgICAgLSDsmYTsoITtnogg7IOI66Gc7Jq0IOuMk+q4gDogJHt0aW1lbGluZUNvbW1lbnRzLmZpbHRlcihjID0+ICFleGlzdGluZ0NvbW1lbnRJZHMuaW5jbHVkZXMoYy5jb21tZW50SWQpKS5sZW5ndGh96rCcYCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coYCAgIC0g7LWc6re8IOyXheuNsOydtO2KuOuQnCDrjJPquIA6ICR7dGltZWxpbmVDb21tZW50cy5maWx0ZXIoYyA9PiBleGlzdGluZ0NvbW1lbnRJZHMuaW5jbHVkZXMoYy5jb21tZW50SWQpICYmIGMudXBkYXRlZEF0ICYmIG5ldyBEYXRlKGMudXBkYXRlZEF0KSA+IHNldmVuRGF5c0FnbykubGVuZ3RofeqwnGApO1xyXG5cclxuICAgICAgICBpZiAobmV3VGltZWxpbmVDb21tZW50cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6ICfsg4jroZwg7YyM7Iux7ZWgIO2DgOyehOudvOyduCDrjJPquIDsnbQg7JeG7Iq164uI64ukLicsXHJcbiAgICAgICAgICAgIGRhdGE6IHsgbmV3Q29tbWVudHM6IDAsIHRvdGFsQ29tbWVudHM6IHRpbWVsaW5lQ29tbWVudHMubGVuZ3RoIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g7LKY7J2MIOuqhyDqsJwg64yT6riA7J2YIOyDmO2UjCDstpzroKVcclxuICAgICAgICBjb25zb2xlLmxvZygnXFxu8J+TiyDssqsgM+qwnCDrjJPquIAg7IOY7ZSMOicpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTWF0aC5taW4oMywgbmV3VGltZWxpbmVDb21tZW50cy5sZW5ndGgpOyBpKyspIHtcclxuICAgICAgICAgIGNvbnN0IHNhbXBsZSA9IG5ld1RpbWVsaW5lQ29tbWVudHNbaV07XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgXFxu7IOY7ZSMICR7aSArIDF9ICgke3NhbXBsZS5jb21tZW50SWR9KTpgKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGDrgrTsmqk6ICR7c2FtcGxlLnRleHRDb250ZW50LnN1YnN0cmluZygwLCAzMDApfWApO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYEhUTUwg66eB7YGsIO2PrO2VqDogJHtzYW1wbGUudGV4dENvbnRlbnQuaW5jbHVkZXMoJzxhICcpfWApO1xyXG4gICAgICAgICAgY29uc29sZS5sb2coYFlvdVR1YmUg66eB7YGsIO2PrO2VqDogJHtzYW1wbGUudGV4dENvbnRlbnQuaW5jbHVkZXMoJ3lvdXR1YmUuY29tJyl9YCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcHJvY2Vzc2VkQ291bnQgPSAwO1xyXG4gICAgICAgIGxldCB0b3RhbExpdmVDbGlwcyA9IDA7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgY29tbWVudCBvZiBuZXdUaW1lbGluZUNvbW1lbnRzKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyDruYTrlJTsmKQg7KCV67O0IOyhsO2ajFxyXG4gICAgICAgICAgICBjb25zdCB2aWRlbyA9IGF3YWl0IFlvdVR1YmVWaWRlby5maW5kT25lKHsgdmlkZW9JZDogY29tbWVudC52aWRlb0lkIH0pO1xyXG4gICAgICAgICAgICBpZiAoIXZpZGVvKSBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgIC8vIOuUlOuyhOq3uDog64yT6riAIOuCtOyaqSDtmZXsnbhcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFxcbvCflI0g64yT6riAIOuCtOyaqSAoJHtjb21tZW50LmNvbW1lbnRJZH0pOmApO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjb21tZW50LnRleHRDb250ZW50LnN1YnN0cmluZygwLCAyMDApICsgJy4uLicpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gSFRNTCDrp4HtgazqsIAg7J6I64qU7KeAIO2ZleyduFxyXG4gICAgICAgICAgICBjb25zdCBoYXNIdG1sTGlua3MgPSBjb21tZW50LnRleHRDb250ZW50LmluY2x1ZGVzKCc8YSAnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYEhUTUwg66eB7YGsIO2PrO2VqDogJHtoYXNIdG1sTGlua3N9YCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAoaGFzSHRtbExpbmtzKSB7XHJcbiAgICAgICAgICAgICAgLy8g7YOA7J6E65287J24IOuMk+q4gCDtjIzsi7FcclxuICAgICAgICAgICAgICBjb25zdCBsaXZlQ2xpcHMgPSBwYXJzZVRpbWVsaW5lQ29tbWVudChjb21tZW50LnRleHRDb250ZW50LCB2aWRlby50aXRsZSk7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coYO2MjOyLsSDqsrDqs7w6ICR7bGl2ZUNsaXBzLmxlbmd0aH3qsJwg7YG066a9YCk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgaWYgKGxpdmVDbGlwcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg8J+OtSAke3ZpZGVvLnRpdGxlfeyXkOyEnCAke2xpdmVDbGlwcy5sZW5ndGh96rCcIOqzoSDrsJzqsqxgKTtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjbGlwRGF0YSBvZiBsaXZlQ2xpcHMpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc3QgY2xpcElkID0gYCR7Y29tbWVudC5jb21tZW50SWR9XyR7Y2xpcERhdGEuc3RhcnRUaW1lU2Vjb25kc31gO1xyXG4gICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgLy8g6riw7KG0IO2MjOyLseuQnCDtg4DsnoTrnbzsnbjsnbQg7J6I64qU7KeAIO2ZleyduCAodmlkZW9JZCArIHN0YXJ0VGltZVNlY29uZHMgwrExMOy0iCDrspTsnITroZwpXHJcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nQ2xpcCA9IGF3YWl0IFBhcnNlZFRpbWVsaW5lLmZpbmRPbmUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvSWQ6IGNvbW1lbnQudmlkZW9JZCxcclxuICAgICAgICAgICAgICAgICAgICBzdGFydFRpbWVTZWNvbmRzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAkZ3RlOiBjbGlwRGF0YS5zdGFydFRpbWVTZWNvbmRzIC0gMTAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAkbHRlOiBjbGlwRGF0YS5zdGFydFRpbWVTZWNvbmRzICsgMTBcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nQ2xpcCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOq4sOyhtCDrjbDsnbTthLDqsIAg7J6I7Jy866m0IOyKpO2CtVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDij63vuI8g7Iqk7YK1ICjquLDsobQg642w7J207YSwIOyhtOyerCk6ICR7Y2xpcERhdGEuYXJ0aXN0fSAtICR7Y2xpcERhdGEuc29uZ1RpdGxlfSAoJHtmb3JtYXRTZWNvbmRzKGNsaXBEYXRhLnN0YXJ0VGltZVNlY29uZHMpfSwg6riw7KG0OiAke2Zvcm1hdFNlY29uZHMoZXhpc3RpbmdDbGlwLnN0YXJ0VGltZVNlY29uZHMpfSlgKTtcclxuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyDsg4jroZzsmrQg642w7J207YSwIOyDneyEsVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFRpbWVsaW5lID0gbmV3IFBhcnNlZFRpbWVsaW5lKHtcclxuICAgICAgICAgICAgICAgICAgICAgIGlkOiBjbGlwSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICB2aWRlb0lkOiBjb21tZW50LnZpZGVvSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICB2aWRlb1RpdGxlOiB2aWRlby50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICAgIHVwbG9hZGVkRGF0ZTogY2xpcERhdGEudXBsb2FkZWREYXRlIHx8IHZpZGVvLnB1Ymxpc2hlZEF0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxEYXRlU3RyaW5nOiBjbGlwRGF0YS5vcmlnaW5hbERhdGVTdHJpbmcsXHJcbiAgICAgICAgICAgICAgICAgICAgICBhcnRpc3Q6IGNsaXBEYXRhLmFydGlzdCxcclxuICAgICAgICAgICAgICAgICAgICAgIHNvbmdUaXRsZTogY2xpcERhdGEuc29uZ1RpdGxlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgdmlkZW9Vcmw6IGNsaXBEYXRhLnZpZGVvVXJsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc3RhcnRUaW1lU2Vjb25kczogY2xpcERhdGEuc3RhcnRUaW1lU2Vjb25kcyxcclxuICAgICAgICAgICAgICAgICAgICAgIGVuZFRpbWVTZWNvbmRzOiBjbGlwRGF0YS5lbmRUaW1lU2Vjb25kcyxcclxuICAgICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBjbGlwRGF0YS5kdXJhdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsQ29tbWVudDogY29tbWVudC50ZXh0Q29udGVudCxcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRBdXRob3I6IGNvbW1lbnQuYXV0aG9yTmFtZSxcclxuICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRJZDogY29tbWVudC5jb21tZW50SWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBjb21tZW50UHVibGlzaGVkQXQ6IGNvbW1lbnQucHVibGlzaGVkQXQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBpc1JlbGV2YW50OiBjbGlwRGF0YS5pc1JlbGV2YW50LFxyXG4gICAgICAgICAgICAgICAgICAgICAgaXNFeGNsdWRlZDogZmFsc2VcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcGFyc2VkVGltZWxpbmUuc2F2ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsTGl2ZUNsaXBzKys7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYPCfkr4g7IOI66GcIOyggOyepTogJHtjbGlwRGF0YS5hcnRpc3R9IC0gJHtjbGlwRGF0YS5zb25nVGl0bGV9ICgke2Zvcm1hdFNlY29uZHMoY2xpcERhdGEuc3RhcnRUaW1lU2Vjb25kcyl9JHtjbGlwRGF0YS5lbmRUaW1lU2Vjb25kcyA/IGAgfiAke2Zvcm1hdFNlY29uZHMoY2xpcERhdGEuZW5kVGltZVNlY29uZHMpfWAgOiAnJ30pICR7Y2xpcERhdGEuaXNSZWxldmFudCA/ICdb6rSA66Co7ISxIOyeiOydjF0nIDogJ1vqtIDroKjshLEg7JeG7J2MXSd9YCk7XHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8g64yT6riA7J2EIOyymOumrOyZhOujjOuhnCDtkZzsi5xcclxuICAgICAgICAgICAgICBhd2FpdCBZb3VUdWJlQ29tbWVudC51cGRhdGVPbmUoXHJcbiAgICAgICAgICAgICAgICB7IGNvbW1lbnRJZDogY29tbWVudC5jb21tZW50SWQgfSxcclxuICAgICAgICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICAgICAgIGlzUHJvY2Vzc2VkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgICBwcm9jZXNzZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICAgICAgICAgICAgcHJvY2Vzc2VkQnk6ICd0aW1lbGluZS1wYXJzZXInXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICBwcm9jZXNzZWRDb3VudCsrO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinYwgSFRNTCDrp4Htgawg7JeG7J2MLCDqsbTrhIjrnIBgKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihg64yT6riAIO2MjOyLsSDsmKTrpZggKCR7Y29tbWVudC5jb21tZW50SWR9KTpgLCBlcnJvcik7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDthrXqs4Qg6rOE7IKwXHJcbiAgICAgICAgY29uc3QgdG90YWxWaWRlb3MgPSBhd2FpdCBZb3VUdWJlVmlkZW8uY291bnREb2N1bWVudHMoKTtcclxuICAgICAgICBjb25zdCB0b3RhbFRpbWVsaW5lQ29tbWVudHMgPSBhd2FpdCBZb3VUdWJlQ29tbWVudC5jb3VudERvY3VtZW50cyh7IGlzVGltZWxpbmU6IHRydWUgfSk7XHJcbiAgICAgICAgY29uc3QgYWxsUGFyc2VkVGltZWxpbmVzID0gYXdhaXQgUGFyc2VkVGltZWxpbmUuZmluZCgpLnNvcnQoeyB1cGxvYWRlZERhdGU6IC0xLCBzdGFydFRpbWVTZWNvbmRzOiAxIH0pO1xyXG4gICAgICAgIGNvbnN0IHJlbGV2YW50Q2xpcHMgPSBhbGxQYXJzZWRUaW1lbGluZXMuZmlsdGVyKGNsaXAgPT4gY2xpcC5pc1JlbGV2YW50ICYmICFjbGlwLmlzRXhjbHVkZWQpLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBtYXRjaGVkQ2xpcHMgPSBhbGxQYXJzZWRUaW1lbGluZXMuZmlsdGVyKGNsaXAgPT4gY2xpcC5tYXRjaGVkU29uZykubGVuZ3RoO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOqzoOycoCDqs6Eg7IiYIOqzhOyCsFxyXG4gICAgICAgIGNvbnN0IHVuaXF1ZVNvbmdzU2V0ID0gbmV3IFNldCgpO1xyXG4gICAgICAgIGFsbFBhcnNlZFRpbWVsaW5lcy5mb3JFYWNoKGNsaXAgPT4ge1xyXG4gICAgICAgICAgdW5pcXVlU29uZ3NTZXQuYWRkKGAke2NsaXAuYXJ0aXN0fV8ke2NsaXAuc29uZ1RpdGxlfWApO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBzdGF0cyA9IHtcclxuICAgICAgICAgIHRvdGFsVmlkZW9zLFxyXG4gICAgICAgICAgdG90YWxUaW1lbGluZUNvbW1lbnRzLFxyXG4gICAgICAgICAgcGFyc2VkSXRlbXM6IGFsbFBhcnNlZFRpbWVsaW5lcy5sZW5ndGgsXHJcbiAgICAgICAgICByZWxldmFudEl0ZW1zOiByZWxldmFudENsaXBzLFxyXG4gICAgICAgICAgbWF0Y2hlZFNvbmdzOiBtYXRjaGVkQ2xpcHMsXHJcbiAgICAgICAgICB1bmlxdWVTb25nczogdW5pcXVlU29uZ3NTZXQuc2l6ZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKGDinIUg7YOA7J6E65287J24IO2MjOyLsSDsmYTro4w6ICR7cHJvY2Vzc2VkQ291bnR96rCcIOuMk+q4gOyXkOyEnCAke3RvdGFsTGl2ZUNsaXBzfeqwnCDtjIzsi7HrkJwg7YOA7J6E65287J24IOyDneyEsWApO1xyXG5cclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgaXRlbXM6IGFsbFBhcnNlZFRpbWVsaW5lcyxcclxuICAgICAgICAgICAgc3RhdHNcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgICBtZXNzYWdlOiBg7YOA7J6E65287J24IO2MjOyLsSDsmYTro4w6ICR7dG90YWxMaXZlQ2xpcHN96rCcIO2MjOyLseuQnCDtg4DsnoTrnbzsnbgg7IOd7ISxYFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgY2FzZSAndXBkYXRlLWl0ZW0tcmVsZXZhbmNlJzpcclxuICAgICAgICBpZiAoIWl0ZW1JZCkge1xyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ2l0ZW1JZOqwgCDtlYTsmpTtlanri4jri6QuJyB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCBQYXJzZWRUaW1lbGluZS51cGRhdGVPbmUoXHJcbiAgICAgICAgICB7IGlkOiBpdGVtSWQgfSxcclxuICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgIGlzUmVsZXZhbnQ6IGlzUmVsZXZhbnQsXHJcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ+q0gOugqOyEsSDsg4Htg5zqsIAg7JeF642w7J207Yq465CY7JeI7Iq164uI64ukLidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGNhc2UgJ3VwZGF0ZS1pdGVtLWV4Y2x1c2lvbic6XHJcbiAgICAgICAgaWYgKCFpdGVtSWQpIHtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdpdGVtSWTqsIAg7ZWE7JqU7ZWp64uI64ukLicgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgUGFyc2VkVGltZWxpbmUudXBkYXRlT25lKFxyXG4gICAgICAgICAgeyBpZDogaXRlbUlkIH0sXHJcbiAgICAgICAgICB7IFxyXG4gICAgICAgICAgICBpc0V4Y2x1ZGVkOiBpc0V4Y2x1ZGVkLFxyXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgIG1lc3NhZ2U6ICfsoJzsmbgg7IOB7YOc6rCAIOyXheuNsOydtO2KuOuQmOyXiOyKteuLiOuLpC4nXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBjYXNlICdmaW5kLXNvbmctbWF0Y2hlcyc6XHJcbiAgICAgICAgaWYgKCFpdGVtSWQpIHtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdpdGVtSWTqsIAg7ZWE7JqU7ZWp64uI64ukLicgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgcGFyc2VkVGltZWxpbmUgPSBhd2FpdCBQYXJzZWRUaW1lbGluZS5maW5kT25lKHsgaWQ6IGl0ZW1JZCB9KTtcclxuICAgICAgICBpZiAoIXBhcnNlZFRpbWVsaW5lKSB7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn7YyM7Iux65CcIO2DgOyehOudvOyduOydhCDssL7snYQg7IiYIOyXhuyKteuLiOuLpC4nIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNvbmdNYXRjaGVzID0gYXdhaXQgZmluZFNvbmdNYXRjaGVzKHBhcnNlZFRpbWVsaW5lLmFydGlzdCwgcGFyc2VkVGltZWxpbmUuc29uZ1RpdGxlKTtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgcGFyc2VkVGltZWxpbmU6IHtcclxuICAgICAgICAgICAgICBpZDogcGFyc2VkVGltZWxpbmUuaWQsXHJcbiAgICAgICAgICAgICAgYXJ0aXN0OiBwYXJzZWRUaW1lbGluZS5hcnRpc3QsXHJcbiAgICAgICAgICAgICAgc29uZ1RpdGxlOiBwYXJzZWRUaW1lbGluZS5zb25nVGl0bGVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgbWF0Y2hlczogc29uZ01hdGNoZXNcclxuICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGNhc2UgJ2Fzc2lnbi1zb25nLW1hdGNoJzpcclxuICAgICAgICBjb25zdCB7IHNvbmdJZCwgY29uZmlkZW5jZSB9ID0gYm9keTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIWl0ZW1JZCB8fCAhc29uZ0lkKSB7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnaXRlbUlk7JmAIHNvbmdJZOqwgCDtlYTsmpTtlanri4jri6QuJyB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDshKDtg53rkJwg6rOhIOygleuztCDsobDtmoxcclxuICAgICAgICBjb25zdCBzZWxlY3RlZFNvbmcgPSBhd2FpdCBTb25nRGV0YWlsLmZpbmRCeUlkKHNvbmdJZCk7XHJcbiAgICAgICAgaWYgKCFzZWxlY3RlZFNvbmcpIHtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICfshKDtg53rkJwg6rOh7J2EIOywvuydhCDsiJgg7JeG7Iq164uI64ukLicgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDQwNCB9XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgUGFyc2VkVGltZWxpbmUudXBkYXRlT25lKFxyXG4gICAgICAgICAgeyBpZDogaXRlbUlkIH0sXHJcbiAgICAgICAgICB7IFxyXG4gICAgICAgICAgICBtYXRjaGVkU29uZzoge1xyXG4gICAgICAgICAgICAgIHNvbmdJZDogc2VsZWN0ZWRTb25nLl9pZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgIHRpdGxlOiBzZWxlY3RlZFNvbmcudGl0bGUsXHJcbiAgICAgICAgICAgICAgYXJ0aXN0OiBzZWxlY3RlZFNvbmcuYXJ0aXN0LFxyXG4gICAgICAgICAgICAgIGNvbmZpZGVuY2U6IGNvbmZpZGVuY2UgfHwgMS4wIC8vIOyImOuPmSDrp6Tsua3snYAg6riw67O47KCB7Jy866GcIDEwMCUg7Iug66Kw64+EXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ+qzoSDrp6Tsua3snbQg7JmE66OM65CY7JeI7Iq164uI64ukLidcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgIGNhc2UgJ3JlbW92ZS1zb25nLW1hdGNoJzpcclxuICAgICAgICBpZiAoIWl0ZW1JZCkge1xyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ2l0ZW1JZOqwgCDtlYTsmpTtlanri4jri6QuJyB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCBQYXJzZWRUaW1lbGluZS51cGRhdGVPbmUoXHJcbiAgICAgICAgICB7IGlkOiBpdGVtSWQgfSxcclxuICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICR1bnNldDogeyBtYXRjaGVkU29uZzogXCJcIiB9LFxyXG4gICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcclxuICAgICAgICAgIH1cclxuICAgICAgICApO1xyXG5cclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgIG1lc3NhZ2U6ICfqs6Eg66ek7Lmt7J20IO2VtOygnOuQmOyXiOyKteuLiOuLpC4nXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBjYXNlICd1cGRhdGUtbGl2ZS1jbGlwJzpcclxuICAgICAgICBjb25zdCB7IGFydGlzdCwgc29uZ1RpdGxlLCBzdGFydFRpbWVTZWNvbmRzLCBlbmRUaW1lU2Vjb25kcywgY3VzdG9tRGVzY3JpcHRpb24gfSA9IGJvZHk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFpdGVtSWQpIHtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICdpdGVtSWTqsIAg7ZWE7JqU7ZWp64uI64ukLicgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdXBkYXRlRmllbGRzOiBhbnkgPSB7IHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChhcnRpc3QgIT09IHVuZGVmaW5lZCkgdXBkYXRlRmllbGRzLmFydGlzdCA9IGFydGlzdC50cmltKCk7XHJcbiAgICAgICAgaWYgKHNvbmdUaXRsZSAhPT0gdW5kZWZpbmVkKSB1cGRhdGVGaWVsZHMuc29uZ1RpdGxlID0gc29uZ1RpdGxlLnRyaW0oKTtcclxuICAgICAgICBpZiAoc3RhcnRUaW1lU2Vjb25kcyAhPT0gdW5kZWZpbmVkKSB1cGRhdGVGaWVsZHMuc3RhcnRUaW1lU2Vjb25kcyA9IHN0YXJ0VGltZVNlY29uZHM7XHJcbiAgICAgICAgaWYgKGVuZFRpbWVTZWNvbmRzICE9PSB1bmRlZmluZWQpIHVwZGF0ZUZpZWxkcy5lbmRUaW1lU2Vjb25kcyA9IGVuZFRpbWVTZWNvbmRzO1xyXG4gICAgICAgIGlmIChjdXN0b21EZXNjcmlwdGlvbiAhPT0gdW5kZWZpbmVkKSB1cGRhdGVGaWVsZHMuY3VzdG9tRGVzY3JpcHRpb24gPSBjdXN0b21EZXNjcmlwdGlvbjtcclxuXHJcbiAgICAgICAgLy8g7KeA7IaNIOyLnOqwhCDsnqzqs4TsgrAgKOyiheujjCDsi5zqsITsnbQg7J6I64qUIOqyveyasClcclxuICAgICAgICBpZiAoZW5kVGltZVNlY29uZHMgIT09IHVuZGVmaW5lZCAmJiBzdGFydFRpbWVTZWNvbmRzICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgIHVwZGF0ZUZpZWxkcy5kdXJhdGlvbiA9IGVuZFRpbWVTZWNvbmRzID4gc3RhcnRUaW1lU2Vjb25kcyA/IGVuZFRpbWVTZWNvbmRzIC0gc3RhcnRUaW1lU2Vjb25kcyA6IG51bGw7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCBQYXJzZWRUaW1lbGluZS51cGRhdGVPbmUoXHJcbiAgICAgICAgICB7IGlkOiBpdGVtSWQgfSxcclxuICAgICAgICAgIHVwZGF0ZUZpZWxkc1xyXG4gICAgICAgICk7XHJcblxyXG4gICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XHJcbiAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgbWVzc2FnZTogJ+2MjOyLseuQnCDtg4DsnoTrnbzsnbgg7KCV67O06rCAIOyXheuNsOydtO2KuOuQmOyXiOyKteuLiOuLpC4nXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICBjYXNlICdzZWFyY2gtc29uZy1tYXRjaGVzJzpcclxuICAgICAgICBjb25zdCB7IHNlYXJjaEFydGlzdCwgc2VhcmNoVGl0bGUgfSA9IGJvZHk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCFzZWFyY2hBcnRpc3QgfHwgIXNlYXJjaFRpdGxlKSB7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAnc2VhcmNoQXJ0aXN07JmAIHNlYXJjaFRpdGxl7J20IO2VhOyalO2VqeuLiOuLpC4nIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBjYW5kaWRhdGVzID0gYXdhaXQgbWF0Y2hUaW1lbGluZVdpdGhTb25ncyhzZWFyY2hBcnRpc3QsIHNlYXJjaFRpdGxlKTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgICAgc3VjY2VzczogdHJ1ZSxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgIHF1ZXJ5OiB7IGFydGlzdDogc2VhcmNoQXJ0aXN0LCB0aXRsZTogc2VhcmNoVGl0bGUgfSxcclxuICAgICAgICAgICAgICBjYW5kaWRhdGVzOiBjYW5kaWRhdGVzIHx8IFtdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfqs6Eg6rKA7IOJIOyYpOulmDonLCBlcnJvcik7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn6rOhIOqygOyDiSDspJEg7Jik66WY6rCAIOuwnOyDne2WiOyKteuLiOuLpC4nIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICBjYXNlICdtYXRjaC10aW1lbGluZS1zb25nJzpcclxuICAgICAgICBjb25zdCB7IHRpbWVsaW5lSWQsIHNvbmdJZDogbWF0Y2hTb25nSWQsIGNvbmZpZGVuY2U6IG1hdGNoQ29uZmlkZW5jZSB9ID0gYm9keTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoIXRpbWVsaW5lSWQpIHtcclxuICAgICAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICd0aW1lbGluZUlk6rCAIO2VhOyalO2VqeuLiOuLpC4nIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCB1cGRhdGVEYXRhOiBhbnkgPSB7IHVwZGF0ZWRBdDogbmV3IERhdGUoKSB9O1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAobWF0Y2hTb25nSWQpIHtcclxuICAgICAgICAgICAgLy8g6rOhIOunpOy5rVxyXG4gICAgICAgICAgICBjb25zdCBtYXRjaGVkU29uZyA9IGF3YWl0IFNvbmdEZXRhaWwuZmluZEJ5SWQobWF0Y2hTb25nSWQpO1xyXG4gICAgICAgICAgICBpZiAoIW1hdGNoZWRTb25nKSB7XHJcbiAgICAgICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICftlbTri7kg6rOh7J2EIOywvuydhCDsiJgg7JeG7Iq164uI64ukLicgfSxcclxuICAgICAgICAgICAgICAgIHsgc3RhdHVzOiA0MDQgfVxyXG4gICAgICAgICAgICAgICk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHVwZGF0ZURhdGEubWF0Y2hlZFNvbmcgPSB7XHJcbiAgICAgICAgICAgICAgc29uZ0lkOiBtYXRjaGVkU29uZy5faWQudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICB0aXRsZTogbWF0Y2hlZFNvbmcudGl0bGUsXHJcbiAgICAgICAgICAgICAgYXJ0aXN0OiBtYXRjaGVkU29uZy5hcnRpc3QsXHJcbiAgICAgICAgICAgICAgY29uZmlkZW5jZTogbWF0Y2hDb25maWRlbmNlIHx8IDAuOVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8g66ek7LmtIO2VtOygnFxyXG4gICAgICAgICAgICB1cGRhdGVEYXRhLiR1bnNldCA9IHsgbWF0Y2hlZFNvbmc6IFwiXCIgfTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBhd2FpdCBQYXJzZWRUaW1lbGluZS51cGRhdGVPbmUoXHJcbiAgICAgICAgICAgIHsgaWQ6IHRpbWVsaW5lSWQgfSxcclxuICAgICAgICAgICAgdXBkYXRlRGF0YVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBtYXRjaFNvbmdJZCA/ICfqs6HsnbQg66ek7Lmt65CY7JeI7Iq164uI64ukLicgOiAn6rOhIOunpOy5reydtCDtlbTsoJzrkJjsl4jsirXri4jri6QuJyxcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgIG1hdGNoSW5mbzogbWF0Y2hTb25nSWQgPyB7XHJcbiAgICAgICAgICAgICAgICB0aXRsZTogdXBkYXRlRGF0YS5tYXRjaGVkU29uZz8udGl0bGUsXHJcbiAgICAgICAgICAgICAgICBhcnRpc3Q6IHVwZGF0ZURhdGEubWF0Y2hlZFNvbmc/LmFydGlzdFxyXG4gICAgICAgICAgICAgIH0gOiBudWxsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfqs6Eg66ek7LmtIOyYpOulmDonLCBlcnJvcik7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn6rOhIOunpOy5rSDspJEg7Jik66WY6rCAIOuwnOyDne2WiOyKteuLiOuLpC4nIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICBjYXNlICdiYXRjaC1zZWFyY2gtbWF0Y2hlcyc6XHJcbiAgICAgICAgY29uc29sZS5sb2coJ/CflI0g7KCE7LK0IO2DgOyehOudvOyduCDsnbzqtIQg6rKA7IOJIOyLnOyekS4uLicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAvLyDrp6Tsua3rkJjsp4Ag7JWK7J2AIOuqqOuToCDtg4DsnoTrnbzsnbgg7ZWt66qpIOyhsO2ajFxyXG4gICAgICAgICAgY29uc3QgdW5tYXRjaGVkVGltZWxpbmVzID0gYXdhaXQgUGFyc2VkVGltZWxpbmUuZmluZCh7XHJcbiAgICAgICAgICAgIGlzUmVsZXZhbnQ6IHRydWUsXHJcbiAgICAgICAgICAgIGlzRXhjbHVkZWQ6IGZhbHNlLFxyXG4gICAgICAgICAgICBtYXRjaGVkU29uZzogeyAkZXhpc3RzOiBmYWxzZSB9XHJcbiAgICAgICAgICB9KS5zb3J0KHsgdXBsb2FkZWREYXRlOiAtMSwgc3RhcnRUaW1lU2Vjb25kczogMSB9KTtcclxuXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg8J+TiiDrp6Tsua3rkJjsp4Ag7JWK7J2AIO2DgOyehOudvOyduCDtla3rqqk6ICR7dW5tYXRjaGVkVGltZWxpbmVzLmxlbmd0aH3qsJxgKTtcclxuXHJcbiAgICAgICAgICBpZiAodW5tYXRjaGVkVGltZWxpbmVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICAgICAgbWVzc2FnZTogJ+unpOy5reuQmOyngCDslYrsnYAg7YOA7J6E65287J24IO2VreuqqeydtCDsl4bsirXri4jri6QuJyxcclxuICAgICAgICAgICAgICBkYXRhOiB7IHByb2Nlc3NlZDogMCwgbWF0Y2hlZDogMCwgcmVzdWx0czogW10gfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyDrqqjrk6Ag6rOhIOuNsOydtO2EsOulvCDtlZwg67KI7JeQIOuhnOuTnCAo7LqQ7Iux7JqpKVxyXG4gICAgICAgICAgY29uc3QgYWxsU29uZ3MgPSBhd2FpdCBTb25nRGV0YWlsLmZpbmQoeyBcclxuICAgICAgICAgICAgJG9yOiBbXHJcbiAgICAgICAgICAgICAgeyBzdGF0dXM6ICdhY3RpdmUnIH0sXHJcbiAgICAgICAgICAgICAgeyBzdGF0dXM6IHsgJGV4aXN0czogZmFsc2UgfSB9LFxyXG4gICAgICAgICAgICAgIHsgc3RhdHVzOiBudWxsIH1cclxuICAgICAgICAgICAgXVxyXG4gICAgICAgICAgfSkubGVhbigpO1xyXG5cclxuICAgICAgICAgIC8vIOqygOyDiSDrjIDsg4HsnbQg7KCB64uk66m0IOuqqOuToCDqs6HsnYQg64yA7IOB7Jy866GcIOqygOyDiVxyXG4gICAgICAgICAgaWYgKGFsbFNvbmdzLmxlbmd0aCA8IDEwMCkge1xyXG4gICAgICAgICAgICBjb25zdCBhbGxTb25nc05vRmlsdGVyID0gYXdhaXQgU29uZ0RldGFpbC5maW5kKHt9KS5sZWFuKCk7XHJcbiAgICAgICAgICAgIGFsbFNvbmdzLnB1c2goLi4uYWxsU29uZ3NOb0ZpbHRlcik7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgY29uc29sZS5sb2coYPCfjrUg6rKA7IOJIOuMgOyDgSDqs6Eg7IiYOiAke2FsbFNvbmdzLmxlbmd0aH3qsJxgKTtcclxuXHJcbiAgICAgICAgICBjb25zdCByZXN1bHRzID0gW107XHJcbiAgICAgICAgICBsZXQgbWF0Y2hlZENvdW50ID0gMDtcclxuXHJcbiAgICAgICAgICAvLyDqsIEg7YOA7J6E65287J24IO2VreuqqeyXkCDrjIDtlbQg6rKA7IOJIOyImO2WiVxyXG4gICAgICAgICAgZm9yIChjb25zdCB0aW1lbGluZSBvZiB1bm1hdGNoZWRUaW1lbGluZXMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYPCflI0g6rKA7IOJIOykkTogXCIke3RpbWVsaW5lLmFydGlzdH1cIiAtIFwiJHt0aW1lbGluZS5zb25nVGl0bGV9XCJgKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGNhbmRpZGF0ZXMgPSBhd2FpdCBtYXRjaFRpbWVsaW5lV2l0aFNvbmdzRnJvbUNhY2hlKFxyXG4gICAgICAgICAgICAgIHRpbWVsaW5lLmFydGlzdCwgXHJcbiAgICAgICAgICAgICAgdGltZWxpbmUuc29uZ1RpdGxlLCBcclxuICAgICAgICAgICAgICBhbGxTb25nc1xyXG4gICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgLy8g7J6Q64+ZIOunpOy5rSDsobDqsbQ6IDk1JSDsnbTsg4Eg7Jyg7IKs64+E7J2YIO2bhOuztOqwgCDsnojripQg6rK97JqwXHJcbiAgICAgICAgICAgIGNvbnN0IGV4YWN0TWF0Y2ggPSBjYW5kaWRhdGVzLmZpbmQoYyA9PiBjLm92ZXJhbGxTaW1pbGFyaXR5ID49IDAuOTUpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbGV0IG1hdGNoUmVzdWx0ID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKGV4YWN0TWF0Y2gpIHtcclxuICAgICAgICAgICAgICAvLyDsnpDrj5kg66ek7LmtIOyImO2WiVxyXG4gICAgICAgICAgICAgIGF3YWl0IFBhcnNlZFRpbWVsaW5lLnVwZGF0ZU9uZShcclxuICAgICAgICAgICAgICAgIHsgX2lkOiB0aW1lbGluZS5faWQgfSxcclxuICAgICAgICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICAgICAgIG1hdGNoZWRTb25nOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgc29uZ0lkOiBleGFjdE1hdGNoLnNvbmcuX2lkLnRvU3RyaW5nKCksXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGV4YWN0TWF0Y2guc29uZy50aXRsZSxcclxuICAgICAgICAgICAgICAgICAgICBhcnRpc3Q6IGV4YWN0TWF0Y2guc29uZy5hcnRpc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgY29uZmlkZW5jZTogZXhhY3RNYXRjaC5vdmVyYWxsU2ltaWxhcml0eVxyXG4gICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICB1cGRhdGVkQXQ6IG5ldyBEYXRlKClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICApO1xyXG5cclxuICAgICAgICAgICAgICBtYXRjaFJlc3VsdCA9IHtcclxuICAgICAgICAgICAgICAgIHNvbmdJZDogZXhhY3RNYXRjaC5zb25nLl9pZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6IGV4YWN0TWF0Y2guc29uZy50aXRsZSxcclxuICAgICAgICAgICAgICAgIGFydGlzdDogZXhhY3RNYXRjaC5zb25nLmFydGlzdCxcclxuICAgICAgICAgICAgICAgIGNvbmZpZGVuY2U6IGV4YWN0TWF0Y2gub3ZlcmFsbFNpbWlsYXJpdHlcclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgIG1hdGNoZWRDb3VudCsrO1xyXG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKGDinIUg7J6Q64+ZIOunpOy5rTogXCIke3RpbWVsaW5lLmFydGlzdH1cIiAtIFwiJHt0aW1lbGluZS5zb25nVGl0bGV9XCIg4oaSIFwiJHtleGFjdE1hdGNoLnNvbmcuYXJ0aXN0fVwiIC0gXCIke2V4YWN0TWF0Y2guc29uZy50aXRsZX1cIiAoJHsoZXhhY3RNYXRjaC5vdmVyYWxsU2ltaWxhcml0eSAqIDEwMCkudG9GaXhlZCgxKX0lKWApO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICByZXN1bHRzLnB1c2goe1xyXG4gICAgICAgICAgICAgIHRpbWVsaW5lSWQ6IHRpbWVsaW5lLmlkLFxyXG4gICAgICAgICAgICAgIHRpbWVsaW5lSXRlbToge1xyXG4gICAgICAgICAgICAgICAgYXJ0aXN0OiB0aW1lbGluZS5hcnRpc3QsXHJcbiAgICAgICAgICAgICAgICBzb25nVGl0bGU6IHRpbWVsaW5lLnNvbmdUaXRsZSxcclxuICAgICAgICAgICAgICAgIHRpbWVUZXh0OiBmb3JtYXRTZWNvbmRzKHRpbWVsaW5lLnN0YXJ0VGltZVNlY29uZHMpLFxyXG4gICAgICAgICAgICAgICAgdmlkZW9UaXRsZTogdGltZWxpbmUudmlkZW9UaXRsZVxyXG4gICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgY2FuZGlkYXRlczogY2FuZGlkYXRlcy5zbGljZSgwLCA1KSwgLy8g7IOB7JyEIDXqsJzrp4wg7KCA7J6lXHJcbiAgICAgICAgICAgICAgYXV0b01hdGNoZWQ6ICEhZXhhY3RNYXRjaCxcclxuICAgICAgICAgICAgICBtYXRjaFJlc3VsdFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhg4pyFIOydvOq0hCDqsoDsg4kg7JmE66OMOiAke3VubWF0Y2hlZFRpbWVsaW5lcy5sZW5ndGh96rCcIOyymOumrCwgJHttYXRjaGVkQ291bnR96rCcIOyekOuPmSDrp6Tsua1gKTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBg7J286rSEIOqygOyDiSDsmYTro4w6ICR7dW5tYXRjaGVkVGltZWxpbmVzLmxlbmd0aH3qsJwg7LKY66asLCAke21hdGNoZWRDb3VudH3qsJwg7J6Q64+ZIOunpOy5rWAsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICBwcm9jZXNzZWQ6IHVubWF0Y2hlZFRpbWVsaW5lcy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgbWF0Y2hlZDogbWF0Y2hlZENvdW50LFxyXG4gICAgICAgICAgICAgIHJlc3VsdHNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfsnbzqtIQg6rKA7IOJIOyYpOulmDonLCBlcnJvcik7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn7J286rSEIOqygOyDiSDspJEg7Jik66WY6rCAIOuwnOyDne2WiOyKteuLiOuLpC4nIH0sXHJcbiAgICAgICAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgICAgICAgKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICBjYXNlICd1cGRhdGUtdGltZS12ZXJpZmljYXRpb24nOlxyXG4gICAgICAgIGNvbnN0IHsgdGltZWxpbmVJZDogdmVyaWZ5VGltZWxpbmVJZCwgaXNWZXJpZmllZCwgdmVyaWZpY2F0aW9uTm90ZXMgfSA9IGJvZHk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKCF2ZXJpZnlUaW1lbGluZUlkKSB7XHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAndGltZWxpbmVJZOqwgCDtlYTsmpTtlanri4jri6QuJyB9LFxyXG4gICAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICAgICk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgY29uc3QgdXBkYXRlRGF0YTogYW55ID0geyB1cGRhdGVkQXQ6IG5ldyBEYXRlKCkgfTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKGlzVmVyaWZpZWQpIHtcclxuICAgICAgICAgICAgdXBkYXRlRGF0YS5pc1RpbWVWZXJpZmllZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHVwZGF0ZURhdGEudmVyaWZpZWRCeSA9IHNlc3Npb24/LnVzZXI/Lm5hbWUgfHwgc2Vzc2lvbj8udXNlcj8uY2hhbm5lbElkIHx8ICdVbmtub3duJztcclxuICAgICAgICAgICAgdXBkYXRlRGF0YS52ZXJpZmllZEF0ID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgaWYgKHZlcmlmaWNhdGlvbk5vdGVzKSB7XHJcbiAgICAgICAgICAgICAgdXBkYXRlRGF0YS52ZXJpZmljYXRpb25Ob3RlcyA9IHZlcmlmaWNhdGlvbk5vdGVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB1cGRhdGVEYXRhLmlzVGltZVZlcmlmaWVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHVwZGF0ZURhdGEuJHVuc2V0ID0geyBcclxuICAgICAgICAgICAgICB2ZXJpZmllZEJ5OiBcIlwiLFxyXG4gICAgICAgICAgICAgIHZlcmlmaWVkQXQ6IFwiXCIsXHJcbiAgICAgICAgICAgICAgdmVyaWZpY2F0aW9uTm90ZXM6IFwiXCJcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICBhd2FpdCBQYXJzZWRUaW1lbGluZS51cGRhdGVPbmUoXHJcbiAgICAgICAgICAgIHsgaWQ6IHZlcmlmeVRpbWVsaW5lSWQgfSxcclxuICAgICAgICAgICAgdXBkYXRlRGF0YVxyXG4gICAgICAgICAgKTtcclxuXHJcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgICAgICAgICBtZXNzYWdlOiBg7Iuc6rCEIOqygOymneydtCAke2lzVmVyaWZpZWQgPyAn7JmE66OMJyA6ICftlbTsoJwnfeuQmOyXiOyKteuLiOuLpC5gLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgaXNUaW1lVmVyaWZpZWQ6IGlzVmVyaWZpZWQsXHJcbiAgICAgICAgICAgICAgdmVyaWZpZWRCeTogaXNWZXJpZmllZCA/IChzZXNzaW9uPy51c2VyPy5uYW1lIHx8IHNlc3Npb24/LnVzZXI/LmNoYW5uZWxJZCB8fCAnVW5rbm93bicpIDogbnVsbCxcclxuICAgICAgICAgICAgICB2ZXJpZmllZEF0OiBpc1ZlcmlmaWVkID8gbmV3IERhdGUoKSA6IG51bGxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfsi5zqsIQg6rKA7KadIOyXheuNsOydtO2KuCDsmKTrpZg6JywgZXJyb3IpO1xyXG4gICAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ+yLnOqwhCDqsoDspp0g7JeF642w7J207Yq4IOykkSDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLicgfSxcclxuICAgICAgICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgICAgeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6ICfsmKzrsJTrpbTsp4Ag7JWK7J2AIGFjdGlvbuyeheuLiOuLpC4nIH0sXHJcbiAgICAgICAgICB7IHN0YXR1czogNDAwIH1cclxuICAgICAgICApO1xyXG4gICAgfVxyXG5cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcign7YOA7J6E65287J24IO2MjOyEnCBBUEkg7Jik66WYOicsIGVycm9yKTtcclxuICAgIFxyXG4gICAgbGV0IGVycm9yTWVzc2FnZSA9ICfslYwg7IiYIOyXhuuKlCDsmKTrpZjqsIAg67Cc7IOd7ZaI7Iq164uI64ukLic7XHJcbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICBlcnJvck1lc3NhZ2UgPSBlcnJvci5tZXNzYWdlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiBlcnJvck1lc3NhZ2UgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XHJcbiAgICBpZiAoIXNlc3Npb24gfHwgIWhhc1Blcm1pc3Npb24oc2Vzc2lvbi51c2VyLnJvbGUgYXMgVXNlclJvbGUsIFBlcm1pc3Npb24uU09OR1NfVklFVykpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICAgIHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiAn6raM7ZWc7J20IO2VhOyalO2VqeuLiOuLpC4nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMyB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgZGJDb25uZWN0KCk7XHJcblxyXG4gICAgY29uc3QgeyBzZWFyY2hQYXJhbXMgfSA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xyXG4gICAgY29uc3QgYWN0aW9uID0gc2VhcmNoUGFyYW1zLmdldCgnYWN0aW9uJyk7XHJcblxyXG4gICAgc3dpdGNoIChhY3Rpb24pIHtcclxuICAgICAgY2FzZSAnZ2V0LXBhcnNlZC1pdGVtcyc6XHJcbiAgICAgICAgY29uc3QgaXRlbXMgPSBhd2FpdCBQYXJzZWRUaW1lbGluZS5maW5kKCkuc29ydCh7IHVwbG9hZGVkRGF0ZTogLTEsIHN0YXJ0VGltZVNlY29uZHM6IDEgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgICAgIHN1Y2Nlc3M6IHRydWUsXHJcbiAgICAgICAgICBkYXRhOiBpdGVtc1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgZGVmYXVsdDpcclxuICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ+yYrOuwlOultOyngCDslYrsnYAgYWN0aW9u7J6F64uI64ukLicgfSxcclxuICAgICAgICAgIHsgc3RhdHVzOiA0MDAgfVxyXG4gICAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCftg4DsnoTrnbzsnbgg7YyM7IScIEdFVCBBUEkg7Jik66WYOicsIGVycm9yKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogJ+uNsOydtO2EsCDsobDtmowg7KSRIOyYpOulmOqwgCDrsJzsg53tlojsirXri4jri6QuJyB9LFxyXG4gICAgICB7IHN0YXR1czogNTAwIH1cclxuICAgICk7XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFNlcnZlclNlc3Npb24iLCJhdXRoT3B0aW9ucyIsImhhc1Blcm1pc3Npb24iLCJQZXJtaXNzaW9uIiwiZGJDb25uZWN0IiwiWW91VHViZUNvbW1lbnQiLCJZb3VUdWJlVmlkZW8iLCJTb25nRGV0YWlsIiwibW9uZ29vc2UiLCJQYXJzZWRUaW1lbGluZVNjaGVtYSIsIlNjaGVtYSIsImlkIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwidmlkZW9JZCIsInZpZGVvVGl0bGUiLCJ1cGxvYWRlZERhdGUiLCJEYXRlIiwidmlkZW9QdWJsaXNoZWRBdCIsIm9yaWdpbmFsRGF0ZVN0cmluZyIsImFydGlzdCIsInNvbmdUaXRsZSIsInZpZGVvVXJsIiwic3RhcnRUaW1lU2Vjb25kcyIsIk51bWJlciIsImVuZFRpbWVTZWNvbmRzIiwiZHVyYXRpb24iLCJpc1JlbGV2YW50IiwiQm9vbGVhbiIsImRlZmF1bHQiLCJpc0V4Y2x1ZGVkIiwibWF0Y2hlZFNvbmciLCJzb25nSWQiLCJ0aXRsZSIsImNvbmZpZGVuY2UiLCJvcmlnaW5hbENvbW1lbnQiLCJjb21tZW50QXV0aG9yIiwiY29tbWVudElkIiwiY29tbWVudFB1Ymxpc2hlZEF0IiwiaXNUaW1lVmVyaWZpZWQiLCJ2ZXJpZmllZEJ5IiwidmVyaWZpZWRBdCIsInZlcmlmaWNhdGlvbk5vdGVzIiwiY3VzdG9tRGVzY3JpcHRpb24iLCJzcGVjaWFsVGFncyIsImNyZWF0ZWRBdCIsIm5vdyIsInVwZGF0ZWRBdCIsInN0cmljdCIsInRpbWVzdGFtcHMiLCJ2ZXJzaW9uS2V5IiwibW9kZWxzIiwiUGFyc2VkVGltZWxpbmUiLCJtb2RlbCIsIm5vcm1hbGl6ZVRleHQiLCJ0ZXh0IiwidG9Mb3dlckNhc2UiLCJ0cmltIiwicmVwbGFjZSIsImxldmVuc2h0ZWluRGlzdGFuY2UiLCJzdHIxIiwic3RyMiIsIm1hdHJpeCIsImkiLCJsZW5ndGgiLCJqIiwiY2hhckF0IiwiTWF0aCIsIm1pbiIsImNhbGN1bGF0ZVNpbWlsYXJpdHkiLCJzMSIsInMyIiwiaW5jbHVkZXMiLCJsb25nZXIiLCJzaG9ydGVyIiwiY29tbW9uTGVuZ3RoIiwibWluTGVuIiwibWF4TGVuIiwibWF4Iiwic2ltaWxhcml0eSIsImRpc3RhbmNlIiwic2VhcmNoSW5BcnRpc3RGaWVsZHMiLCJzb25nIiwibm9ybWFsaXplZFF1ZXJ5IiwiZmllbGRzIiwiYXJ0aXN0QWxpYXMiLCJzZWFyY2hUYWdzIiwiZmlsdGVyIiwibWF4U2ltaWxhcml0eSIsImV4YWN0TWF0Y2giLCJmaWVsZCIsIm5vcm1hbGl6ZWRGaWVsZCIsInNlYXJjaEluVGl0bGVGaWVsZHMiLCJ0aXRsZUFsaWFzIiwibWF0Y2hUaW1lbGluZVdpdGhTb25nc0Zyb21DYWNoZSIsImFsbFNvbmdzIiwibm9ybWFsaXplZEFydGlzdCIsIm5vcm1hbGl6ZWRUaXRsZSIsImNvbnNvbGUiLCJsb2ciLCJjYW5kaWRhdGVzIiwicHJvY2Vzc2VkQ291bnQiLCJhcnRpc3RTaW1pbGFyaXR5IiwidGl0bGVTaW1pbGFyaXR5Iiwib3ZlcmFsbFNpbWlsYXJpdHkiLCJ0b0ZpeGVkIiwicHVzaCIsImlzRXhhY3RNYXRjaCIsInNvcnQiLCJhIiwiYiIsInNsaWNlIiwibWF0Y2hUaW1lbGluZVdpdGhTb25ncyIsImZpbmQiLCIkb3IiLCJzdGF0dXMiLCIkZXhpc3RzIiwibGVhbiIsInBhcnNlVGltZVRvU2Vjb25kcyIsInRpbWVQYXJhbSIsImNvbG9uSG1zTWF0Y2giLCJtYXRjaCIsImhvdXJzIiwicGFyc2VJbnQiLCJtaW51dGVzIiwic2Vjb25kcyIsImNvbG9uTXNNYXRjaCIsInRlc3QiLCJobXNNYXRjaCIsIm1zTWF0Y2giLCJobU1hdGNoIiwibU1hdGNoIiwic01hdGNoIiwiZGVjb2RlSHRtbEVudGl0aWVzIiwibmFtZWRFbnRpdGllcyIsImNvZGUiLCJmcm9tQ2hhckNvZGUiLCJlIiwiZW50aXR5IiwiaXNNdXNpY0NvbnRlbnQiLCJzcGxpdENvbW1lbnRCeVRpbWVzdGFtcHMiLCJkZWNvZGVkSHRtbCIsInJlc3VsdHMiLCJiYXNlVmlkZW9VcmwiLCJsaW5rTWF0Y2giLCJhbGxUaW1lc3RhbXBQYXR0ZXJuIiwidGltZXN0YW1wUG9zaXRpb25zIiwiZXhlYyIsInRpbWVUZXh0IiwidGltZVNlY29uZHMiLCJzdGFydFBvcyIsImluZGV4IiwiZW5kUG9zIiwiZnVsbE1hdGNoIiwiZm9yRWFjaCIsInRpbWVzdGFtcCIsIm5leHRTdGFydFBvcyIsImNvbnRleHRUZXh0Iiwic3Vic3RyaW5nIiwiY2xlYW5UZXh0IiwidnNNYXRjaCIsImlzTGlrZWx5TXVzaWMiLCJjb250ZW50Iiwic291cmNlIiwiZXh0cmFjdEJhc2VWaWRlb1VybCIsInRpbWVsaW5lcyIsImxpbmtUaW1lbGluZSIsInQiLCJ1cmwiLCJwYXJzZVRpbWVsaW5lQ29tbWVudCIsImh0bWxUZXh0Iiwic2VjdGlvbnMiLCJyYXdNYXRjaGVzIiwic2VjdGlvbiIsInNvbmdJbmZvIiwicGFyc2VTb25nSW5mbyIsInNlY3Rpb25UZXh0IiwiZGF0ZUluZm8iLCJleHRyYWN0RGF0ZUZyb21UaXRsZSIsInNvbmdFbnRyaWVzIiwiY3VycmVudCIsIm5leHQiLCJsaXZlQ2xpcCIsImRhdGUiLCJvcmlnaW5hbFN0cmluZyIsInNvbmdUZXh0Iiwic2VwYXJhdG9ycyIsInNlcGFyYXRvciIsInBhcnRzIiwic3BsaXQiLCJqb2luIiwiZm9ybWF0U2Vjb25kcyIsImZsb29yIiwic2VjcyIsInRvU3RyaW5nIiwicGFkU3RhcnQiLCJmaW5kU29uZ01hdGNoZXMiLCJzb25ncyIsIiRpbiIsIm5vcm1hbGl6ZWRJbnB1dEFydGlzdCIsIm5vcm1hbGl6ZWRJbnB1dFRpdGxlIiwibWF0Y2hlcyIsImJlc3RBcnRpc3RTaW1pbGFyaXR5IiwiYmVzdFRpdGxlU2ltaWxhcml0eSIsImFsaWFzU2ltaWxhcml0eSIsInRhZyIsInRhZ0FydGlzdFNpbWlsYXJpdHkiLCJ0YWdUaXRsZVNpbWlsYXJpdHkiLCJvdmVyYWxsQ29uZmlkZW5jZSIsIl9pZCIsIm1hdGNoZWRGaWVsZCIsImVycm9yIiwiZ2V0QmVzdFNvbmdNYXRjaCIsImJlc3RNYXRjaCIsInNob3J0WWVhclBhdHRlcm4iLCJzaG9ydFllYXJNYXRjaCIsInllYXIiLCJtb250aCIsImRheSIsImZ1bGxZZWFyIiwiZGF0ZVBhdHRlcm5zIiwicGF0dGVybiIsInBhcnNlciIsIlBPU1QiLCJyZXF1ZXN0Iiwic2Vzc2lvbiIsInVzZXIiLCJyb2xlIiwiU09OR1NfRURJVCIsImpzb24iLCJzdWNjZXNzIiwiYm9keSIsImFjdGlvbiIsIml0ZW1JZCIsInNraXBQcm9jZXNzZWQiLCJhbGxUaW1lbGluZUNvbW1lbnRzIiwiaXNUaW1lbGluZSIsInJlcHJvY2Vzc2VkQ291bnQiLCJkYXRhVXBkYXRlZENvdW50IiwibmV3SXRlbXNDb3VudCIsImNvbW1lbnQiLCJ2aWRlbyIsImZpbmRPbmUiLCJoYXNIdG1sTGlua3MiLCJ0ZXh0Q29udGVudCIsImxpdmVDbGlwcyIsImV4aXN0aW5nVGltZWxpbmVzIiwiY2xpcERhdGEiLCJleGlzdGluZ0NsaXAiLCJ0aW1lbGluZSIsInVwZGF0ZURhdGEiLCJhdXRob3JOYW1lIiwicHVibGlzaGVkQXQiLCJ1cGRhdGVPbmUiLCJtZXNzYWdlIiwiZGF0YSIsIm5ld0l0ZW1zU2tpcHBlZCIsInF1ZXJ5RmlsdGVyIiwiaXNQcm9jZXNzZWQiLCIkbmUiLCJ0aW1lbGluZUNvbW1lbnRzIiwiZXhpc3RpbmdDb21tZW50SWRzIiwiZGlzdGluY3QiLCJzZXZlbkRheXNBZ28iLCJzZXREYXRlIiwiZ2V0RGF0ZSIsIm5ld1RpbWVsaW5lQ29tbWVudHMiLCJpc05vdFByb2Nlc3NlZCIsImlzUmVjZW50bHlVcGRhdGVkIiwiYyIsIm5ld0NvbW1lbnRzIiwidG90YWxDb21tZW50cyIsInNhbXBsZSIsInRvdGFsTGl2ZUNsaXBzIiwiY2xpcElkIiwiJGd0ZSIsIiRsdGUiLCJwYXJzZWRUaW1lbGluZSIsInNhdmUiLCJwcm9jZXNzZWRBdCIsInByb2Nlc3NlZEJ5IiwidG90YWxWaWRlb3MiLCJjb3VudERvY3VtZW50cyIsInRvdGFsVGltZWxpbmVDb21tZW50cyIsImFsbFBhcnNlZFRpbWVsaW5lcyIsInJlbGV2YW50Q2xpcHMiLCJjbGlwIiwibWF0Y2hlZENsaXBzIiwidW5pcXVlU29uZ3NTZXQiLCJTZXQiLCJhZGQiLCJzdGF0cyIsInBhcnNlZEl0ZW1zIiwicmVsZXZhbnRJdGVtcyIsIm1hdGNoZWRTb25ncyIsInVuaXF1ZVNvbmdzIiwic2l6ZSIsIml0ZW1zIiwic29uZ01hdGNoZXMiLCJzZWxlY3RlZFNvbmciLCJmaW5kQnlJZCIsIiR1bnNldCIsInVwZGF0ZUZpZWxkcyIsInVuZGVmaW5lZCIsInNlYXJjaEFydGlzdCIsInNlYXJjaFRpdGxlIiwicXVlcnkiLCJ0aW1lbGluZUlkIiwibWF0Y2hTb25nSWQiLCJtYXRjaENvbmZpZGVuY2UiLCJtYXRjaEluZm8iLCJ1bm1hdGNoZWRUaW1lbGluZXMiLCJwcm9jZXNzZWQiLCJtYXRjaGVkIiwiYWxsU29uZ3NOb0ZpbHRlciIsIm1hdGNoZWRDb3VudCIsIm1hdGNoUmVzdWx0IiwidGltZWxpbmVJdGVtIiwiYXV0b01hdGNoZWQiLCJ2ZXJpZnlUaW1lbGluZUlkIiwiaXNWZXJpZmllZCIsIm5hbWUiLCJjaGFubmVsSWQiLCJlcnJvck1lc3NhZ2UiLCJFcnJvciIsIkdFVCIsIlNPTkdTX1ZJRVciLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJnZXQiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/timeline-parser/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/adminChannels.ts":
/*!**********************************!*\
  !*** ./src/lib/adminChannels.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AYAUKE_ADMIN_CHANNELS: () => (/* binding */ AYAUKE_ADMIN_CHANNELS),\n/* harmony export */   AYAUKE_ADMIN_CHANNEL_IDS: () => (/* binding */ AYAUKE_ADMIN_CHANNEL_IDS),\n/* harmony export */   SUPER_ADMIN_CHANNELS: () => (/* binding */ SUPER_ADMIN_CHANNELS),\n/* harmony export */   SUPER_ADMIN_CHANNEL_IDS: () => (/* binding */ SUPER_ADMIN_CHANNEL_IDS),\n/* harmony export */   getAdminInfo: () => (/* binding */ getAdminInfo),\n/* harmony export */   getAyaukeAdminInfo: () => (/* binding */ getAyaukeAdminInfo),\n/* harmony export */   getStaticUserRole: () => (/* binding */ getStaticUserRole),\n/* harmony export */   getSuperAdminInfo: () => (/* binding */ getSuperAdminInfo),\n/* harmony export */   isAdminChannel: () => (/* binding */ isAdminChannel),\n/* harmony export */   isAyaukeAdminChannel: () => (/* binding */ isAyaukeAdminChannel),\n/* harmony export */   isSuperAdminChannel: () => (/* binding */ isSuperAdminChannel)\n/* harmony export */ });\n/* harmony import */ var _permissions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./permissions */ \"(rsc)/./src/lib/permissions.ts\");\n\n// 최고 관리자 권한을 가진 치지직 채널 ID 목록 (하드코딩)\nconst SUPER_ADMIN_CHANNEL_IDS = [\n    'd6017f757614569add71b0bc83a81382'\n];\n// 아야우케 관리자 권한을 가진 치지직 채널 ID 목록 (하드코딩)\nconst AYAUKE_ADMIN_CHANNEL_IDS = [\n    'abe8aa82baf3d3ef54ad8468ee73e7fc'\n];\n// 최고 관리자 채널 정보\nconst SUPER_ADMIN_CHANNELS = {\n    'd6017f757614569add71b0bc83a81382': {\n        name: '개발자',\n        role: '개발 관리자'\n    }\n};\n// 아야우케 관리자 채널 정보  \nconst AYAUKE_ADMIN_CHANNELS = {\n    'abe8aa82baf3d3ef54ad8468ee73e7fc': {\n        name: '아야우케',\n        role: '노래책 관리자'\n    }\n};\nfunction isSuperAdminChannel(channelId) {\n    if (!channelId) return false;\n    return SUPER_ADMIN_CHANNEL_IDS.includes(channelId);\n}\nfunction isAyaukeAdminChannel(channelId) {\n    if (!channelId) return false;\n    return AYAUKE_ADMIN_CHANNEL_IDS.includes(channelId);\n}\nfunction getSuperAdminInfo(channelId) {\n    if (!channelId || !isSuperAdminChannel(channelId)) return null;\n    return SUPER_ADMIN_CHANNELS[channelId] || null;\n}\nfunction getAyaukeAdminInfo(channelId) {\n    if (!channelId || !isAyaukeAdminChannel(channelId)) return null;\n    return AYAUKE_ADMIN_CHANNELS[channelId] || null;\n}\nfunction getStaticUserRole(channelId) {\n    if (!channelId) return _permissions__WEBPACK_IMPORTED_MODULE_0__.UserRole.USER;\n    if (isSuperAdminChannel(channelId)) {\n        return _permissions__WEBPACK_IMPORTED_MODULE_0__.UserRole.SUPER_ADMIN;\n    }\n    if (isAyaukeAdminChannel(channelId)) {\n        return _permissions__WEBPACK_IMPORTED_MODULE_0__.UserRole.AYAUKE_ADMIN;\n    }\n    return _permissions__WEBPACK_IMPORTED_MODULE_0__.UserRole.USER;\n}\n// 하위 호환성을 위한 함수들 (나중에 제거)\nfunction isAdminChannel(channelId) {\n    return isSuperAdminChannel(channelId) || isAyaukeAdminChannel(channelId);\n}\nfunction getAdminInfo(channelId) {\n    return getSuperAdminInfo(channelId) || getAyaukeAdminInfo(channelId);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2FkbWluQ2hhbm5lbHMudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXdDO0FBRXhDLG9DQUFvQztBQUM3QixNQUFNQywwQkFBMEI7SUFDckM7Q0FDRCxDQUFTO0FBRVYsc0NBQXNDO0FBQy9CLE1BQU1DLDJCQUEyQjtJQUN0QztDQUNELENBQVM7QUFFVixlQUFlO0FBQ1IsTUFBTUMsdUJBQXVCO0lBQ2xDLG9DQUFvQztRQUNsQ0MsTUFBTTtRQUNOQyxNQUFNO0lBQ1I7QUFDRixFQUFVO0FBRVYsbUJBQW1CO0FBQ1osTUFBTUMsd0JBQXdCO0lBQ25DLG9DQUFvQztRQUNsQ0YsTUFBTTtRQUNOQyxNQUFNO0lBQ1I7QUFDRixFQUFVO0FBRUgsU0FBU0Usb0JBQW9CQyxTQUFvQztJQUN0RSxJQUFJLENBQUNBLFdBQVcsT0FBTztJQUN2QixPQUFPUCx3QkFBd0JRLFFBQVEsQ0FBQ0Q7QUFDMUM7QUFFTyxTQUFTRSxxQkFBcUJGLFNBQW9DO0lBQ3ZFLElBQUksQ0FBQ0EsV0FBVyxPQUFPO0lBQ3ZCLE9BQU9OLHlCQUF5Qk8sUUFBUSxDQUFDRDtBQUMzQztBQUVPLFNBQVNHLGtCQUFrQkgsU0FBb0M7SUFDcEUsSUFBSSxDQUFDQSxhQUFhLENBQUNELG9CQUFvQkMsWUFBWSxPQUFPO0lBQzFELE9BQU9MLG9CQUFvQixDQUFDSyxVQUErQyxJQUFJO0FBQ2pGO0FBRU8sU0FBU0ksbUJBQW1CSixTQUFvQztJQUNyRSxJQUFJLENBQUNBLGFBQWEsQ0FBQ0UscUJBQXFCRixZQUFZLE9BQU87SUFDM0QsT0FBT0YscUJBQXFCLENBQUNFLFVBQWdELElBQUk7QUFDbkY7QUFFTyxTQUFTSyxrQkFBa0JMLFNBQW9DO0lBQ3BFLElBQUksQ0FBQ0EsV0FBVyxPQUFPUixrREFBUUEsQ0FBQ2MsSUFBSTtJQUVwQyxJQUFJUCxvQkFBb0JDLFlBQVk7UUFDbEMsT0FBT1Isa0RBQVFBLENBQUNlLFdBQVc7SUFDN0I7SUFFQSxJQUFJTCxxQkFBcUJGLFlBQVk7UUFDbkMsT0FBT1Isa0RBQVFBLENBQUNnQixZQUFZO0lBQzlCO0lBRUEsT0FBT2hCLGtEQUFRQSxDQUFDYyxJQUFJO0FBQ3RCO0FBRUEsMEJBQTBCO0FBQ25CLFNBQVNHLGVBQWVULFNBQW9DO0lBQ2pFLE9BQU9ELG9CQUFvQkMsY0FBY0UscUJBQXFCRjtBQUNoRTtBQUVPLFNBQVNVLGFBQWFWLFNBQW9DO0lBQy9ELE9BQU9HLGtCQUFrQkgsY0FBY0ksbUJBQW1CSjtBQUM1RCIsInNvdXJjZXMiOlsiL21udC9mL0RhdGEvR2l0L2NsYXVkZS1jb2RlL2F5YXVrZS1wYWdlL2F5YXVrZS1wYWdlL3NyYy9saWIvYWRtaW5DaGFubmVscy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VyUm9sZSB9IGZyb20gJy4vcGVybWlzc2lvbnMnXHJcblxyXG4vLyDstZzqs6Ag6rSA66as7J6QIOq2jO2VnOydhCDqsIDsp4Qg7LmY7KeA7KeBIOyxhOuEkCBJRCDrqqnroZ0gKO2VmOuTnOy9lOuUqSlcclxuZXhwb3J0IGNvbnN0IFNVUEVSX0FETUlOX0NIQU5ORUxfSURTID0gW1xyXG4gICdkNjAxN2Y3NTc2MTQ1NjlhZGQ3MWIwYmM4M2E4MTM4MicsIC8vIOyCrOyaqeyekCAo6rCc67Cc7J6QKVxyXG5dIGFzIGNvbnN0XHJcblxyXG4vLyDslYTslbzsmrDsvIAg6rSA66as7J6QIOq2jO2VnOydhCDqsIDsp4Qg7LmY7KeA7KeBIOyxhOuEkCBJRCDrqqnroZ0gKO2VmOuTnOy9lOuUqSlcclxuZXhwb3J0IGNvbnN0IEFZQVVLRV9BRE1JTl9DSEFOTkVMX0lEUyA9IFtcclxuICAnYWJlOGFhODJiYWYzZDNlZjU0YWQ4NDY4ZWU3M2U3ZmMnLCAvLyDslYTslbzsmrDsvIAgKOuFuOuemOyxhSDqtIDrpqzsnpApXHJcbl0gYXMgY29uc3RcclxuXHJcbi8vIOy1nOqzoCDqtIDrpqzsnpAg7LGE64SQIOygleuztFxyXG5leHBvcnQgY29uc3QgU1VQRVJfQURNSU5fQ0hBTk5FTFMgPSB7XHJcbiAgJ2Q2MDE3Zjc1NzYxNDU2OWFkZDcxYjBiYzgzYTgxMzgyJzoge1xyXG4gICAgbmFtZTogJ+qwnOuwnOyekCcsXHJcbiAgICByb2xlOiAn6rCc67CcIOq0gOumrOyekCcsXHJcbiAgfSxcclxufSBhcyBjb25zdFxyXG5cclxuLy8g7JWE7JW87Jqw7LyAIOq0gOumrOyekCDssYTrhJAg7KCV67O0ICBcclxuZXhwb3J0IGNvbnN0IEFZQVVLRV9BRE1JTl9DSEFOTkVMUyA9IHtcclxuICAnYWJlOGFhODJiYWYzZDNlZjU0YWQ4NDY4ZWU3M2U3ZmMnOiB7XHJcbiAgICBuYW1lOiAn7JWE7JW87Jqw7LyAJyxcclxuICAgIHJvbGU6ICfrhbjrnpjssYUg6rSA66as7J6QJyxcclxuICB9LFxyXG59IGFzIGNvbnN0XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNTdXBlckFkbWluQ2hhbm5lbChjaGFubmVsSWQ6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcclxuICBpZiAoIWNoYW5uZWxJZCkgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIFNVUEVSX0FETUlOX0NIQU5ORUxfSURTLmluY2x1ZGVzKGNoYW5uZWxJZCBhcyBhbnkpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpc0F5YXVrZUFkbWluQ2hhbm5lbChjaGFubmVsSWQ6IHN0cmluZyB8IG51bGwgfCB1bmRlZmluZWQpOiBib29sZWFuIHtcclxuICBpZiAoIWNoYW5uZWxJZCkgcmV0dXJuIGZhbHNlXHJcbiAgcmV0dXJuIEFZQVVLRV9BRE1JTl9DSEFOTkVMX0lEUy5pbmNsdWRlcyhjaGFubmVsSWQgYXMgYW55KVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3VwZXJBZG1pbkluZm8oY2hhbm5lbElkOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKSB7XHJcbiAgaWYgKCFjaGFubmVsSWQgfHwgIWlzU3VwZXJBZG1pbkNoYW5uZWwoY2hhbm5lbElkKSkgcmV0dXJuIG51bGxcclxuICByZXR1cm4gU1VQRVJfQURNSU5fQ0hBTk5FTFNbY2hhbm5lbElkIGFzIGtleW9mIHR5cGVvZiBTVVBFUl9BRE1JTl9DSEFOTkVMU10gfHwgbnVsbFxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0QXlhdWtlQWRtaW5JbmZvKGNoYW5uZWxJZDogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCkge1xyXG4gIGlmICghY2hhbm5lbElkIHx8ICFpc0F5YXVrZUFkbWluQ2hhbm5lbChjaGFubmVsSWQpKSByZXR1cm4gbnVsbFxyXG4gIHJldHVybiBBWUFVS0VfQURNSU5fQ0hBTk5FTFNbY2hhbm5lbElkIGFzIGtleW9mIHR5cGVvZiBBWUFVS0VfQURNSU5fQ0hBTk5FTFNdIHx8IG51bGxcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YXRpY1VzZXJSb2xlKGNoYW5uZWxJZDogc3RyaW5nIHwgbnVsbCB8IHVuZGVmaW5lZCk6IFVzZXJSb2xlIHtcclxuICBpZiAoIWNoYW5uZWxJZCkgcmV0dXJuIFVzZXJSb2xlLlVTRVJcclxuICBcclxuICBpZiAoaXNTdXBlckFkbWluQ2hhbm5lbChjaGFubmVsSWQpKSB7XHJcbiAgICByZXR1cm4gVXNlclJvbGUuU1VQRVJfQURNSU5cclxuICB9XHJcbiAgXHJcbiAgaWYgKGlzQXlhdWtlQWRtaW5DaGFubmVsKGNoYW5uZWxJZCkpIHtcclxuICAgIHJldHVybiBVc2VyUm9sZS5BWUFVS0VfQURNSU5cclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIFVzZXJSb2xlLlVTRVJcclxufVxyXG5cclxuLy8g7ZWY7JyEIO2YuO2ZmOyEseydhCDsnITtlZwg7ZWo7IiY65OkICjrgpjspJHsl5Ag7KCc6rGwKVxyXG5leHBvcnQgZnVuY3Rpb24gaXNBZG1pbkNoYW5uZWwoY2hhbm5lbElkOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIGlzU3VwZXJBZG1pbkNoYW5uZWwoY2hhbm5lbElkKSB8fCBpc0F5YXVrZUFkbWluQ2hhbm5lbChjaGFubmVsSWQpXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRBZG1pbkluZm8oY2hhbm5lbElkOiBzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkKSB7XHJcbiAgcmV0dXJuIGdldFN1cGVyQWRtaW5JbmZvKGNoYW5uZWxJZCkgfHwgZ2V0QXlhdWtlQWRtaW5JbmZvKGNoYW5uZWxJZClcclxufSJdLCJuYW1lcyI6WyJVc2VyUm9sZSIsIlNVUEVSX0FETUlOX0NIQU5ORUxfSURTIiwiQVlBVUtFX0FETUlOX0NIQU5ORUxfSURTIiwiU1VQRVJfQURNSU5fQ0hBTk5FTFMiLCJuYW1lIiwicm9sZSIsIkFZQVVLRV9BRE1JTl9DSEFOTkVMUyIsImlzU3VwZXJBZG1pbkNoYW5uZWwiLCJjaGFubmVsSWQiLCJpbmNsdWRlcyIsImlzQXlhdWtlQWRtaW5DaGFubmVsIiwiZ2V0U3VwZXJBZG1pbkluZm8iLCJnZXRBeWF1a2VBZG1pbkluZm8iLCJnZXRTdGF0aWNVc2VyUm9sZSIsIlVTRVIiLCJTVVBFUl9BRE1JTiIsIkFZQVVLRV9BRE1JTiIsImlzQWRtaW5DaGFubmVsIiwiZ2V0QWRtaW5JbmZvIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/adminChannels.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/authOptions.ts":
/*!********************************!*\
  !*** ./src/lib/authOptions.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authOptions: () => (/* binding */ authOptions)\n/* harmony export */ });\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _lib_chzzkCookieManual__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/chzzkCookieManual */ \"(rsc)/./src/lib/chzzkCookieManual.ts\");\n/* harmony import */ var _lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/adminChannels */ \"(rsc)/./src/lib/adminChannels.ts\");\n/* harmony import */ var _lib_permissions__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/permissions */ \"(rsc)/./src/lib/permissions.ts\");\n/* harmony import */ var _lib_userService__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/userService */ \"(rsc)/./src/lib/userService.ts\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/models/User */ \"(rsc)/./src/models/User.ts\");\n/* harmony import */ var _models_UserActivity__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/models/UserActivity */ \"(rsc)/./src/models/UserActivity.ts\");\n/* harmony import */ var _lib_chzzkOAuthProvider__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/lib/chzzkOAuthProvider */ \"(rsc)/./src/lib/chzzkOAuthProvider.ts\");\n/* harmony import */ var _lib_titleSystem__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/lib/titleSystem */ \"(rsc)/./src/lib/titleSystem.ts\");\n\n\n\n\n\n\n\n\n\n\n// 사용자 정보 메모리 캐시 (5분간 유효)\nconst userCache = new Map();\nconst CACHE_DURATION = 5 * 60 * 1000 // 5분\n;\n// 캐시된 사용자 정보 조회\nasync function getCachedUser(channelId) {\n    const now = Date.now();\n    const cached = userCache.get(channelId);\n    // 캐시가 있고 아직 유효하면 캐시 사용\n    if (cached && now - cached.timestamp < CACHE_DURATION) {\n        return cached.data;\n    }\n    // 캐시가 없거나 만료되었으면 DB 조회\n    try {\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_5__[\"default\"])();\n        const user = await _models_User__WEBPACK_IMPORTED_MODULE_6__[\"default\"].findOne({\n            channelId\n        });\n        // 조회 결과를 캐시에 저장\n        userCache.set(channelId, {\n            data: user,\n            timestamp: now\n        });\n        return user;\n    } catch (error) {\n        // DB 조회 실패 시 만료된 캐시라도 있으면 사용\n        if (cached) {\n            console.log('DB 조회 실패, 만료된 캐시 사용:', channelId);\n            return cached.data;\n        }\n        throw error;\n    }\n}\nconst authOptions = {\n    providers: [\n        (0,_lib_chzzkOAuthProvider__WEBPACK_IMPORTED_MODULE_8__[\"default\"])({\n            clientId: process.env.CHZZK_CLIENT_ID,\n            clientSecret: process.env.CHZZK_CLIENT_SECRET\n        }),\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n            id: \"chzzk-cookie\",\n            name: \"치지직 쿠키 로그인\",\n            credentials: {\n                cookies: {\n                    label: \"치지직 쿠키\",\n                    type: \"text\",\n                    placeholder: \"NID_AUT=...; NID_SES=...\"\n                }\n            },\n            async authorize (credentials) {\n                try {\n                    if (!credentials?.cookies) return null;\n                    const { client, userInfo } = await (0,_lib_chzzkCookieManual__WEBPACK_IMPORTED_MODULE_1__.createManualChzzkClient)('cookie-user', credentials.cookies);\n                    if (!userInfo || !userInfo.loggedIn) return null;\n                    let channelInfo = null;\n                    try {\n                        if (client.channel && typeof client.channel.info === 'function') {\n                            channelInfo = await client.channel.info(userInfo.userIdHash);\n                        }\n                    } catch (error) {\n                        console.log('채널 정보 가져오기 실패:', error);\n                    }\n                    const channelId = channelInfo?.channelId || userInfo.userIdHash;\n                    const channelName = channelInfo?.channelName || userInfo.nickname || '치지직 사용자';\n                    const isAdmin = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__.isAdminChannel)(channelId);\n                    const adminInfo = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__.getAdminInfo)(channelId);\n                    const result = {\n                        id: userInfo.userIdHash,\n                        name: channelName,\n                        email: null,\n                        image: channelInfo?.channelImageUrl || null,\n                        naverId: null,\n                        channelId: channelId,\n                        channelName: channelName,\n                        channelImageUrl: channelInfo?.channelImageUrl || null,\n                        followerCount: channelInfo?.followerCount || null,\n                        isAdmin,\n                        adminRole: adminInfo?.role || null\n                    };\n                    try {\n                        await (0,_lib_userService__WEBPACK_IMPORTED_MODULE_4__.createOrUpdateUser)({\n                            channelId: channelId,\n                            channelName: channelName,\n                            profileImageUrl: channelInfo?.channelImageUrl\n                        });\n                    } catch (dbError) {\n                        console.error('사용자 DB 저장 오류:', dbError);\n                    }\n                    return result;\n                } catch (error) {\n                    console.error('치지직 쿠키 로그인 오류:', error);\n                    return null;\n                }\n            }\n        })\n    ],\n    callbacks: {\n        async jwt ({ token, user, account }) {\n            if (user) {\n                // OAuth 방식 (치지직 공식 API)\n                if (account?.provider === 'chzzk') {\n                    const channelId = user.channelId || user.id;\n                    const channelName = user.channelName || user.name;\n                    const role = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__.getStaticUserRole)(channelId);\n                    const adminInfo = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__.getAdminInfo)(channelId);\n                    token.naverId = null;\n                    token.channelId = channelId;\n                    token.channelName = channelName;\n                    token.channelImageUrl = user.channelImageUrl || user.image;\n                    token.followerCount = user.followerCount;\n                    token.role = role;\n                    token.isAdmin = (0,_lib_permissions__WEBPACK_IMPORTED_MODULE_3__.roleToIsAdmin)(role) // 하위 호환성\n                    ;\n                    token.adminRole = adminInfo?.role || null;\n                    // 사용자 정보 DB에 저장\n                    try {\n                        const dbUser = await (0,_lib_userService__WEBPACK_IMPORTED_MODULE_4__.createOrUpdateUser)({\n                            channelId: channelId,\n                            channelName: channelName,\n                            profileImageUrl: user.channelImageUrl || user.image\n                        });\n                        token.userId = dbUser._id.toString() // MongoDB ObjectId를 토큰에 저장\n                        ;\n                    } catch (dbError) {\n                        console.error('OAuth 사용자 DB 저장 오류:', dbError);\n                    }\n                } else {\n                    const role = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__.getStaticUserRole)(user.channelId);\n                    const adminInfo = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_2__.getAdminInfo)(user.channelId);\n                    token.naverId = user.naverId;\n                    token.channelId = user.channelId;\n                    token.channelName = user.channelName;\n                    token.channelImageUrl = user.channelImageUrl;\n                    token.followerCount = user.followerCount;\n                    token.role = role;\n                    token.isAdmin = (0,_lib_permissions__WEBPACK_IMPORTED_MODULE_3__.roleToIsAdmin)(role) // 하위 호환성\n                    ;\n                    token.adminRole = adminInfo?.role || null;\n                    // 쿠키 방식에서도 DB에 사용자 정보 저장하고 ObjectId 가져오기\n                    try {\n                        const dbUser = await (0,_lib_userService__WEBPACK_IMPORTED_MODULE_4__.createOrUpdateUser)({\n                            channelId: user.channelId,\n                            channelName: user.channelName,\n                            profileImageUrl: user.channelImageUrl\n                        });\n                        token.userId = dbUser._id.toString() // MongoDB ObjectId를 토큰에 저장\n                        ;\n                    } catch (dbError) {\n                        console.error('쿠키 방식 사용자 DB 저장 오류:', dbError);\n                    }\n                }\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token && session.user) {\n                // 기본 토큰 정보 설정\n                session.user.id = token.userId // NextAuth 표준 필드\n                ;\n                session.user.naverId = token.naverId || null;\n                session.user.channelId = token.channelId;\n                session.user.userId = token.userId // MongoDB ObjectId 추가\n                ;\n                session.user.followerCount = token.followerCount;\n                session.user.role = token.role;\n                session.user.isAdmin = token.isAdmin;\n                session.user.adminRole = token.adminRole;\n                // 기본 세션 정보 먼저 설정 (토큰 기반)\n                session.user.channelName = token.channelName;\n                session.user.name = token.channelName;\n                session.user.channelImageUrl = token.channelImageUrl;\n                // 캐시된 사용자 정보 가져오기 (선택적 업데이트)\n                try {\n                    const user = await getCachedUser(token.channelId);\n                    if (user) {\n                        // DB에서 가져온 정보로 업데이트 (기존 정보 덮어씀)\n                        session.user.channelName = user.channelName;\n                        session.user.name = user.displayName || user.channelName;\n                        session.user.image = user.profileImageUrl || session.user.channelImageUrl;\n                        session.user.channelImageUrl = user.profileImageUrl || session.user.channelImageUrl;\n                        session.user.role = user.role // DB에서 가져온 최신 권한 사용\n                        ;\n                        session.user.isAdmin = (0,_lib_permissions__WEBPACK_IMPORTED_MODULE_3__.roleToIsAdmin)(user.role);\n                        // 선택된 칭호 정보 추가\n                        const selectedTitle = (0,_lib_titleSystem__WEBPACK_IMPORTED_MODULE_9__.getSelectedTitleInfo)(user);\n                        session.user.selectedTitle = selectedTitle;\n                    }\n                // DB에 사용자가 없으면 기본 정보 그대로 사용\n                } catch (error) {\n                    console.error('세션 콜백에서 사용자 정보 조회 오류:', error);\n                // DB 연결 실패 시 기본 정보(토큰 기반) 그대로 사용\n                // 별도 처리 불필요 - 이미 위에서 기본값 설정됨\n                }\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: '/auth/signin',\n        error: '/auth/error'\n    },\n    session: {\n        strategy: \"jwt\"\n    },\n    secret: process.env.NEXTAUTH_SECRET,\n    debug: false\n};\n// 중복 체크인 방지를 위한 메모리 캐시 (userId:date -> timestamp)\nconst checkinCache = new Map();\n/**\r\n * 세션 콜백에서 자동으로 일일 체크인 처리\r\n */ async function performDailyCheckin(user) {\n    try {\n        const today = new Date().toISOString().split('T')[0] // YYYY-MM-DD\n        ;\n        const now = new Date();\n        // 오늘 활동 기록이 있는지 확인 (세션에서는 첫 방문 생성만)\n        let todayActivity = await _models_UserActivity__WEBPACK_IMPORTED_MODULE_7__[\"default\"].findOne({\n            userId: user._id,\n            date: today\n        });\n        // 오늘 활동 기록이 이미 있으면 아무것도 하지 않음\n        if (todayActivity) {\n            return;\n        }\n        // 기존 사용자의 activityStats가 없으면 초기화\n        if (!user.activityStats) {\n            user.activityStats = {\n                totalLoginDays: 0,\n                currentStreak: 0,\n                longestStreak: 0,\n                lastVisitDate: null\n            };\n        }\n        // 오늘 첫 방문 - 새로운 활동 기록 생성\n        todayActivity = new _models_UserActivity__WEBPACK_IMPORTED_MODULE_7__[\"default\"]({\n            userId: user._id,\n            date: today,\n            visitCount: 1,\n            firstVisitAt: now,\n            lastVisitAt: now\n        });\n        // 연속 접속일 계산\n        const yesterday = new Date();\n        yesterday.setDate(yesterday.getDate() - 1);\n        const yesterdayStr = yesterday.toISOString().split('T')[0];\n        if (user.activityStats.lastVisitDate === yesterdayStr) {\n            // 어제 방문했으면 연속 접속일 증가\n            user.activityStats.currentStreak += 1;\n        } else if (user.activityStats.lastVisitDate !== today) {\n            // 어제 방문 안했으면 연속 접속일 초기화 (오늘부터 1일)\n            user.activityStats.currentStreak = 1;\n        }\n        // 최장 연속 접속일 기록 업데이트\n        if (user.activityStats.currentStreak > user.activityStats.longestStreak) {\n            user.activityStats.longestStreak = user.activityStats.currentStreak;\n        }\n        // 총 로그인 날 수 증가\n        user.activityStats.totalLoginDays += 1;\n        user.activityStats.lastVisitDate = today;\n        await todayActivity.save();\n        await user.save();\n        console.log(`🎯 첫 방문 기록 생성: ${user.channelName} - 연속 ${user.activityStats.currentStreak}일`);\n    } catch (error) {\n        console.error('자동 체크인 처리 오류:', error);\n    // 에러가 발생해도 세션 처리는 계속 진행\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LGNBQWNjLElBQUk7UUFDeEIsTUFBTWhGLEtBQUtnRixJQUFJO1FBRWY1RSxRQUFRQyxHQUFHLENBQUMsQ0FBQyxlQUFlLEVBQUVMLEtBQUs2QixXQUFXLENBQUMsTUFBTSxFQUFFN0IsS0FBS29FLGFBQWEsQ0FBQ0UsYUFBYSxDQUFDLENBQUMsQ0FBQztJQUM1RixFQUFFLE9BQU9uRSxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyxpQkFBaUJBO0lBQy9CLHdCQUF3QjtJQUMxQjtBQUNGIiwic291cmNlcyI6WyIvbW50L2YvRGF0YS9HaXQvY2xhdWRlLWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL2xpYi9hdXRoT3B0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFsc1wiXHJcbmltcG9ydCB7IGNyZWF0ZU1hbnVhbENoenprQ2xpZW50IH0gZnJvbSBcIkAvbGliL2NoenprQ29va2llTWFudWFsXCJcclxuaW1wb3J0IHsgaXNBZG1pbkNoYW5uZWwsIGdldEFkbWluSW5mbywgZ2V0U3RhdGljVXNlclJvbGUgfSBmcm9tIFwiQC9saWIvYWRtaW5DaGFubmVsc1wiXHJcbmltcG9ydCB7IHJvbGVUb0lzQWRtaW4gfSBmcm9tICdAL2xpYi9wZXJtaXNzaW9ucydcclxuaW1wb3J0IHsgY3JlYXRlT3JVcGRhdGVVc2VyIH0gZnJvbSAnQC9saWIvdXNlclNlcnZpY2UnXHJcbmltcG9ydCBkYkNvbm5lY3QgZnJvbSAnQC9saWIvbW9uZ29kYidcclxuaW1wb3J0IFVzZXIgZnJvbSAnQC9tb2RlbHMvVXNlcidcclxuaW1wb3J0IFVzZXJBY3Rpdml0eSBmcm9tICdAL21vZGVscy9Vc2VyQWN0aXZpdHknXHJcbmltcG9ydCBDaHp6a1Byb3ZpZGVyIGZyb20gJ0AvbGliL2NoenprT0F1dGhQcm92aWRlcidcclxuaW1wb3J0IHsgZ2V0U2VsZWN0ZWRUaXRsZUluZm8gfSBmcm9tICdAL2xpYi90aXRsZVN5c3RlbSdcclxuXHJcbi8vIOyCrOyaqeyekCDsoJXrs7Qg66mU66qo66asIOy6kOyLnCAoNeu2hOqwhCDsnKDtmqgpXHJcbmNvbnN0IHVzZXJDYWNoZSA9IG5ldyBNYXA8c3RyaW5nLCB7IGRhdGE6IGFueSwgdGltZXN0YW1wOiBudW1iZXIgfT4oKVxyXG5jb25zdCBDQUNIRV9EVVJBVElPTiA9IDUgKiA2MCAqIDEwMDAgLy8gNeu2hFxyXG5cclxuLy8g7LqQ7Iuc65CcIOyCrOyaqeyekCDsoJXrs7Qg7KGw7ZqMXHJcbmFzeW5jIGZ1bmN0aW9uIGdldENhY2hlZFVzZXIoY2hhbm5lbElkOiBzdHJpbmcpIHtcclxuICBjb25zdCBub3cgPSBEYXRlLm5vdygpXHJcbiAgY29uc3QgY2FjaGVkID0gdXNlckNhY2hlLmdldChjaGFubmVsSWQpXHJcbiAgXHJcbiAgLy8g7LqQ7Iuc6rCAIOyeiOqzoCDslYTsp4Eg7Jyg7Zqo7ZWY66m0IOy6kOyLnCDsgqzsmqlcclxuICBpZiAoY2FjaGVkICYmIChub3cgLSBjYWNoZWQudGltZXN0YW1wKSA8IENBQ0hFX0RVUkFUSU9OKSB7XHJcbiAgICByZXR1cm4gY2FjaGVkLmRhdGFcclxuICB9XHJcbiAgXHJcbiAgLy8g7LqQ7Iuc6rCAIOyXhuqxsOuCmCDrp4zro4zrkJjsl4jsnLzrqbQgREIg7KGw7ZqMXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IGRiQ29ubmVjdCgpXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgY2hhbm5lbElkIH0pXHJcbiAgICBcclxuICAgIC8vIOyhsO2ajCDqsrDqs7zrpbwg7LqQ7Iuc7JeQIOyggOyepVxyXG4gICAgdXNlckNhY2hlLnNldChjaGFubmVsSWQsIHtcclxuICAgICAgZGF0YTogdXNlcixcclxuICAgICAgdGltZXN0YW1wOiBub3dcclxuICAgIH0pXHJcbiAgICBcclxuICAgIHJldHVybiB1c2VyXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIC8vIERCIOyhsO2ajCDsi6TtjKgg7IucIOunjOujjOuQnCDsupDsi5zrnbzrj4Qg7J6I7Jy866m0IOyCrOyaqVxyXG4gICAgaWYgKGNhY2hlZCkge1xyXG4gICAgICBjb25zb2xlLmxvZygnREIg7KGw7ZqMIOyLpO2MqCwg66eM66OM65CcIOy6kOyLnCDsgqzsmqk6JywgY2hhbm5lbElkKVxyXG4gICAgICByZXR1cm4gY2FjaGVkLmRhdGFcclxuICAgIH1cclxuICAgIHRocm93IGVycm9yXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXV0aE9wdGlvbnMgPSB7XHJcbiAgcHJvdmlkZXJzOiBbXHJcbiAgICBDaHp6a1Byb3ZpZGVyKHtcclxuICAgICAgY2xpZW50SWQ6IHByb2Nlc3MuZW52LkNIWlpLX0NMSUVOVF9JRCEsXHJcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuQ0haWktfQ0xJRU5UX1NFQ1JFVCEsXHJcbiAgICB9KSxcclxuICAgIENyZWRlbnRpYWxzUHJvdmlkZXIoe1xyXG4gICAgICBpZDogXCJjaHp6ay1jb29raWVcIixcclxuICAgICAgbmFtZTogXCLsuZjsp4Dsp4Eg7L+g7YKkIOuhnOq3uOyduFwiLFxyXG4gICAgICBjcmVkZW50aWFsczoge1xyXG4gICAgICAgIGNvb2tpZXM6IHsgXHJcbiAgICAgICAgICBsYWJlbDogXCLsuZjsp4Dsp4Eg7L+g7YKkXCIsIFxyXG4gICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXHJcbiAgICAgICAgICBwbGFjZWhvbGRlcjogXCJOSURfQVVUPS4uLjsgTklEX1NFUz0uLi5cIlxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgYXN5bmMgYXV0aG9yaXplKGNyZWRlbnRpYWxzKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGlmICghY3JlZGVudGlhbHM/LmNvb2tpZXMpIHJldHVybiBudWxsXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGNvbnN0IHsgY2xpZW50LCB1c2VySW5mbyB9ID0gYXdhaXQgY3JlYXRlTWFudWFsQ2h6emtDbGllbnQoJ2Nvb2tpZS11c2VyJywgY3JlZGVudGlhbHMuY29va2llcylcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKCF1c2VySW5mbyB8fCAhdXNlckluZm8ubG9nZ2VkSW4pIHJldHVybiBudWxsXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGxldCBjaGFubmVsSW5mbyA9IG51bGxcclxuICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChjbGllbnQuY2hhbm5lbCAmJiB0eXBlb2YgY2xpZW50LmNoYW5uZWwuaW5mbyA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgIGNoYW5uZWxJbmZvID0gYXdhaXQgY2xpZW50LmNoYW5uZWwuaW5mbyh1c2VySW5mby51c2VySWRIYXNoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygn7LGE64SQIOygleuztCDqsIDsoLjsmKTquLAg7Iuk7YyoOicsIGVycm9yKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBjaGFubmVsSWQgPSBjaGFubmVsSW5mbz8uY2hhbm5lbElkIHx8IHVzZXJJbmZvLnVzZXJJZEhhc2hcclxuICAgICAgICAgIGNvbnN0IGNoYW5uZWxOYW1lID0gY2hhbm5lbEluZm8/LmNoYW5uZWxOYW1lIHx8IHVzZXJJbmZvLm5pY2tuYW1lIHx8ICfsuZjsp4Dsp4Eg7IKs7Jqp7J6QJ1xyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBjb25zdCBpc0FkbWluID0gaXNBZG1pbkNoYW5uZWwoY2hhbm5lbElkKVxyXG4gICAgICAgICAgY29uc3QgYWRtaW5JbmZvID0gZ2V0QWRtaW5JbmZvKGNoYW5uZWxJZClcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgY29uc3QgcmVzdWx0ID0ge1xyXG4gICAgICAgICAgICBpZDogdXNlckluZm8udXNlcklkSGFzaCxcclxuICAgICAgICAgICAgbmFtZTogY2hhbm5lbE5hbWUsXHJcbiAgICAgICAgICAgIGVtYWlsOiBudWxsLFxyXG4gICAgICAgICAgICBpbWFnZTogY2hhbm5lbEluZm8/LmNoYW5uZWxJbWFnZVVybCB8fCBudWxsLFxyXG4gICAgICAgICAgICBuYXZlcklkOiBudWxsLFxyXG4gICAgICAgICAgICBjaGFubmVsSWQ6IGNoYW5uZWxJZCxcclxuICAgICAgICAgICAgY2hhbm5lbE5hbWU6IGNoYW5uZWxOYW1lLFxyXG4gICAgICAgICAgICBjaGFubmVsSW1hZ2VVcmw6IGNoYW5uZWxJbmZvPy5jaGFubmVsSW1hZ2VVcmwgfHwgbnVsbCxcclxuICAgICAgICAgICAgZm9sbG93ZXJDb3VudDogY2hhbm5lbEluZm8/LmZvbGxvd2VyQ291bnQgfHwgbnVsbCxcclxuICAgICAgICAgICAgaXNBZG1pbixcclxuICAgICAgICAgICAgYWRtaW5Sb2xlOiBhZG1pbkluZm8/LnJvbGUgfHwgbnVsbCxcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgYXdhaXQgY3JlYXRlT3JVcGRhdGVVc2VyKHtcclxuICAgICAgICAgICAgICBjaGFubmVsSWQ6IGNoYW5uZWxJZCxcclxuICAgICAgICAgICAgICBjaGFubmVsTmFtZTogY2hhbm5lbE5hbWUsXHJcbiAgICAgICAgICAgICAgcHJvZmlsZUltYWdlVXJsOiBjaGFubmVsSW5mbz8uY2hhbm5lbEltYWdlVXJsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICB9IGNhdGNoIChkYkVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+yCrOyaqeyekCBEQiDsoIDsnqUg7Jik66WYOicsIGRiRXJyb3IpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHJldHVybiByZXN1bHRcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign7LmY7KeA7KeBIOy/oO2CpCDroZzqt7jsnbgg7Jik66WYOicsIGVycm9yKVxyXG4gICAgICAgICAgcmV0dXJuIG51bGxcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgXSxcclxuICBjYWxsYmFja3M6IHtcclxuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyLCBhY2NvdW50IH0pIHtcclxuICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAvLyBPQXV0aCDrsKnsi50gKOy5mOyngOyngSDqs7Xsi50gQVBJKVxyXG4gICAgICAgIGlmIChhY2NvdW50Py5wcm92aWRlciA9PT0gJ2NoenprJykge1xyXG4gICAgICAgICAgY29uc3QgY2hhbm5lbElkID0gdXNlci5jaGFubmVsSWQgfHwgdXNlci5pZFxyXG4gICAgICAgICAgY29uc3QgY2hhbm5lbE5hbWUgPSB1c2VyLmNoYW5uZWxOYW1lIHx8IHVzZXIubmFtZVxyXG4gICAgICAgICAgY29uc3Qgcm9sZSA9IGdldFN0YXRpY1VzZXJSb2xlKGNoYW5uZWxJZClcclxuICAgICAgICAgIGNvbnN0IGFkbWluSW5mbyA9IGdldEFkbWluSW5mbyhjaGFubmVsSWQpXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHRva2VuLm5hdmVySWQgPSBudWxsXHJcbiAgICAgICAgICB0b2tlbi5jaGFubmVsSWQgPSBjaGFubmVsSWRcclxuICAgICAgICAgIHRva2VuLmNoYW5uZWxOYW1lID0gY2hhbm5lbE5hbWVcclxuICAgICAgICAgIHRva2VuLmNoYW5uZWxJbWFnZVVybCA9IHVzZXIuY2hhbm5lbEltYWdlVXJsIHx8IHVzZXIuaW1hZ2VcclxuICAgICAgICAgIHRva2VuLmZvbGxvd2VyQ291bnQgPSB1c2VyLmZvbGxvd2VyQ291bnRcclxuICAgICAgICAgIHRva2VuLnJvbGUgPSByb2xlXHJcbiAgICAgICAgICB0b2tlbi5pc0FkbWluID0gcm9sZVRvSXNBZG1pbihyb2xlKSAvLyDtlZjsnIQg7Zi47ZmY7ISxXHJcbiAgICAgICAgICB0b2tlbi5hZG1pblJvbGUgPSBhZG1pbkluZm8/LnJvbGUgfHwgbnVsbFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyDsgqzsmqnsnpAg7KCV67O0IERC7JeQIOyggOyepVxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZGJVc2VyID0gYXdhaXQgY3JlYXRlT3JVcGRhdGVVc2VyKHtcclxuICAgICAgICAgICAgICBjaGFubmVsSWQ6IGNoYW5uZWxJZCxcclxuICAgICAgICAgICAgICBjaGFubmVsTmFtZTogY2hhbm5lbE5hbWUsXHJcbiAgICAgICAgICAgICAgcHJvZmlsZUltYWdlVXJsOiB1c2VyLmNoYW5uZWxJbWFnZVVybCB8fCB1c2VyLmltYWdlXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHRva2VuLnVzZXJJZCA9IGRiVXNlci5faWQudG9TdHJpbmcoKSAvLyBNb25nb0RCIE9iamVjdElk66W8IO2GoO2BsOyXkCDsoIDsnqVcclxuICAgICAgICAgIH0gY2F0Y2ggKGRiRXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignT0F1dGgg7IKs7Jqp7J6QIERCIOyggOyepSDsmKTrpZg6JywgZGJFcnJvcilcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8g7L+g7YKkIOuwqeyLnSAo6riw7KG0IOuhnOyngSlcclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgIGNvbnN0IHJvbGUgPSBnZXRTdGF0aWNVc2VyUm9sZSh1c2VyLmNoYW5uZWxJZClcclxuICAgICAgICAgIGNvbnN0IGFkbWluSW5mbyA9IGdldEFkbWluSW5mbyh1c2VyLmNoYW5uZWxJZClcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdG9rZW4ubmF2ZXJJZCA9IHVzZXIubmF2ZXJJZFxyXG4gICAgICAgICAgdG9rZW4uY2hhbm5lbElkID0gdXNlci5jaGFubmVsSWRcclxuICAgICAgICAgIHRva2VuLmNoYW5uZWxOYW1lID0gdXNlci5jaGFubmVsTmFtZVxyXG4gICAgICAgICAgdG9rZW4uY2hhbm5lbEltYWdlVXJsID0gdXNlci5jaGFubmVsSW1hZ2VVcmxcclxuICAgICAgICAgIHRva2VuLmZvbGxvd2VyQ291bnQgPSB1c2VyLmZvbGxvd2VyQ291bnRcclxuICAgICAgICAgIHRva2VuLnJvbGUgPSByb2xlXHJcbiAgICAgICAgICB0b2tlbi5pc0FkbWluID0gcm9sZVRvSXNBZG1pbihyb2xlKSAvLyDtlZjsnIQg7Zi47ZmY7ISxXHJcbiAgICAgICAgICB0b2tlbi5hZG1pblJvbGUgPSBhZG1pbkluZm8/LnJvbGUgfHwgbnVsbFxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICAvLyDsv6DtgqQg67Cp7Iud7JeQ7ISc64+EIERC7JeQIOyCrOyaqeyekCDsoJXrs7Qg7KCA7J6l7ZWY6rOgIE9iamVjdElkIOqwgOyguOyYpOq4sFxyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZGJVc2VyID0gYXdhaXQgY3JlYXRlT3JVcGRhdGVVc2VyKHtcclxuICAgICAgICAgICAgICBjaGFubmVsSWQ6IHVzZXIuY2hhbm5lbElkLFxyXG4gICAgICAgICAgICAgIGNoYW5uZWxOYW1lOiB1c2VyLmNoYW5uZWxOYW1lLFxyXG4gICAgICAgICAgICAgIHByb2ZpbGVJbWFnZVVybDogdXNlci5jaGFubmVsSW1hZ2VVcmxcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdG9rZW4udXNlcklkID0gZGJVc2VyLl9pZC50b1N0cmluZygpIC8vIE1vbmdvREIgT2JqZWN0SWTrpbwg7Yag7YGw7JeQIOyggOyepVxyXG4gICAgICAgICAgfSBjYXRjaCAoZGJFcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCfsv6DtgqQg67Cp7IudIOyCrOyaqeyekCBEQiDsoIDsnqUg7Jik66WYOicsIGRiRXJyb3IpXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0b2tlblxyXG4gICAgfSxcclxuICAgIGFzeW5jIHNlc3Npb24oeyBzZXNzaW9uLCB0b2tlbiB9KSB7XHJcbiAgICAgIGlmICh0b2tlbiAmJiBzZXNzaW9uLnVzZXIpIHtcclxuICAgICAgICAvLyDquLDrs7gg7Yag7YGwIOygleuztCDshKTsoJVcclxuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi51c2VySWQgYXMgc3RyaW5nIC8vIE5leHRBdXRoIO2RnOykgCDtlYTrk5xcclxuICAgICAgICBzZXNzaW9uLnVzZXIubmF2ZXJJZCA9IHRva2VuLm5hdmVySWQgYXMgc3RyaW5nIHx8IG51bGxcclxuICAgICAgICBzZXNzaW9uLnVzZXIuY2hhbm5lbElkID0gdG9rZW4uY2hhbm5lbElkIGFzIHN0cmluZ1xyXG4gICAgICAgIHNlc3Npb24udXNlci51c2VySWQgPSB0b2tlbi51c2VySWQgYXMgc3RyaW5nIC8vIE1vbmdvREIgT2JqZWN0SWQg7LaU6rCAXHJcbiAgICAgICAgc2Vzc2lvbi51c2VyLmZvbGxvd2VyQ291bnQgPSB0b2tlbi5mb2xsb3dlckNvdW50IGFzIG51bWJlclxyXG4gICAgICAgIHNlc3Npb24udXNlci5yb2xlID0gdG9rZW4ucm9sZSBhcyBzdHJpbmdcclxuICAgICAgICBzZXNzaW9uLnVzZXIuaXNBZG1pbiA9IHRva2VuLmlzQWRtaW4gYXMgYm9vbGVhblxyXG4gICAgICAgIHNlc3Npb24udXNlci5hZG1pblJvbGUgPSB0b2tlbi5hZG1pblJvbGUgYXMgc3RyaW5nXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g6riw67O4IOyEuOyFmCDsoJXrs7Qg66i87KCAIOyEpOyglSAo7Yag7YGwIOq4sOuwmClcclxuICAgICAgICBzZXNzaW9uLnVzZXIuY2hhbm5lbE5hbWUgPSB0b2tlbi5jaGFubmVsTmFtZSBhcyBzdHJpbmdcclxuICAgICAgICBzZXNzaW9uLnVzZXIubmFtZSA9IHRva2VuLmNoYW5uZWxOYW1lIGFzIHN0cmluZ1xyXG4gICAgICAgIHNlc3Npb24udXNlci5jaGFubmVsSW1hZ2VVcmwgPSB0b2tlbi5jaGFubmVsSW1hZ2VVcmwgYXMgc3RyaW5nXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g7LqQ7Iuc65CcIOyCrOyaqeyekCDsoJXrs7Qg6rCA7KC47Jik6riwICjshKDtg53soIEg7JeF642w7J207Yq4KVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgZ2V0Q2FjaGVkVXNlcih0b2tlbi5jaGFubmVsSWQgYXMgc3RyaW5nKVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgICBpZiAodXNlcikge1xyXG4gICAgICAgICAgICAvLyBEQuyXkOyEnCDqsIDsoLjsmKgg7KCV67O066GcIOyXheuNsOydtO2KuCAo6riw7KG0IOygleuztCDrja7slrTslIApXHJcbiAgICAgICAgICAgIHNlc3Npb24udXNlci5jaGFubmVsTmFtZSA9IHVzZXIuY2hhbm5lbE5hbWVcclxuICAgICAgICAgICAgc2Vzc2lvbi51c2VyLm5hbWUgPSB1c2VyLmRpc3BsYXlOYW1lIHx8IHVzZXIuY2hhbm5lbE5hbWVcclxuICAgICAgICAgICAgc2Vzc2lvbi51c2VyLmltYWdlID0gdXNlci5wcm9maWxlSW1hZ2VVcmwgfHwgc2Vzc2lvbi51c2VyLmNoYW5uZWxJbWFnZVVybFxyXG4gICAgICAgICAgICBzZXNzaW9uLnVzZXIuY2hhbm5lbEltYWdlVXJsID0gdXNlci5wcm9maWxlSW1hZ2VVcmwgfHwgc2Vzc2lvbi51c2VyLmNoYW5uZWxJbWFnZVVybFxyXG4gICAgICAgICAgICBzZXNzaW9uLnVzZXIucm9sZSA9IHVzZXIucm9sZSAvLyBEQuyXkOyEnCDqsIDsoLjsmKgg7LWc7IugIOq2jO2VnCDsgqzsmqlcclxuICAgICAgICAgICAgc2Vzc2lvbi51c2VyLmlzQWRtaW4gPSByb2xlVG9Jc0FkbWluKHVzZXIucm9sZSBhcyBhbnkpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyDshKDtg53rkJwg7Lmt7Zi4IOygleuztCDstpTqsIBcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRUaXRsZSA9IGdldFNlbGVjdGVkVGl0bGVJbmZvKHVzZXIpXHJcbiAgICAgICAgICAgIHNlc3Npb24udXNlci5zZWxlY3RlZFRpdGxlID0gc2VsZWN0ZWRUaXRsZVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgLy8gRELsl5Ag7IKs7Jqp7J6Q6rCAIOyXhuycvOuptCDquLDrs7gg7KCV67O0IOq3uOuMgOuhnCDsgqzsmqlcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign7IS47IWYIOy9nOuwseyXkOyEnCDsgqzsmqnsnpAg7KCV67O0IOyhsO2ajCDsmKTrpZg6JywgZXJyb3IpXHJcbiAgICAgICAgICAvLyBEQiDsl7DqsrAg7Iuk7YyoIOyLnCDquLDrs7gg7KCV67O0KO2GoO2BsCDquLDrsJgpIOq3uOuMgOuhnCDsgqzsmqlcclxuICAgICAgICAgIC8vIOuzhOuPhCDsspjrpqwg67aI7ZWE7JqUIC0g7J2066+4IOychOyXkOyEnCDquLDrs7jqsJIg7ISk7KCV65CoXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiBzZXNzaW9uXHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgcGFnZXM6IHtcclxuICAgIHNpZ25JbjogJy9hdXRoL3NpZ25pbicsXHJcbiAgICBlcnJvcjogJy9hdXRoL2Vycm9yJyxcclxuICB9LFxyXG4gIHNlc3Npb246IHtcclxuICAgIHN0cmF0ZWd5OiBcImp3dFwiIGFzIGNvbnN0LFxyXG4gIH0sXHJcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUQVVUSF9TRUNSRVQsXHJcbiAgZGVidWc6IGZhbHNlLCAvLyDrlJTrsoTqt7gg66qo65OcIOu5hO2ZnOyEse2ZlFxyXG59XHJcblxyXG4vLyDspJHrs7Ug7LK07YGs7J24IOuwqeyngOulvCDsnITtlZwg66mU66qo66asIOy6kOyLnCAodXNlcklkOmRhdGUgLT4gdGltZXN0YW1wKVxyXG5jb25zdCBjaGVja2luQ2FjaGUgPSBuZXcgTWFwPHN0cmluZywgbnVtYmVyPigpXHJcblxyXG4vKipcclxuICog7IS47IWYIOy9nOuwseyXkOyEnCDsnpDrj5nsnLzroZwg7J287J28IOyytO2BrOyduCDsspjrpqxcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIHBlcmZvcm1EYWlseUNoZWNraW4odXNlcjogYW55KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNwbGl0KCdUJylbMF0gLy8gWVlZWS1NTS1ERFxyXG4gICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKVxyXG4gICAgXHJcbiAgICAvLyDsmKTripgg7Zmc64+ZIOq4sOuhneydtCDsnojripTsp4Ag7ZmV7J24ICjshLjshZjsl5DshJzripQg7LKrIOuwqeusuCDsg53shLHrp4wpXHJcbiAgICBsZXQgdG9kYXlBY3Rpdml0eSA9IGF3YWl0IFVzZXJBY3Rpdml0eS5maW5kT25lKHtcclxuICAgICAgdXNlcklkOiB1c2VyLl9pZCxcclxuICAgICAgZGF0ZTogdG9kYXlcclxuICAgIH0pXHJcblxyXG4gICAgLy8g7Jik64qYIO2ZnOuPmSDquLDroZ3snbQg7J2066+4IOyeiOycvOuptCDslYTrrLTqsoPrj4Qg7ZWY7KeAIOyViuydjFxyXG4gICAgaWYgKHRvZGF5QWN0aXZpdHkpIHtcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgLy8g6riw7KG0IOyCrOyaqeyekOydmCBhY3Rpdml0eVN0YXRz6rCAIOyXhuycvOuptCDstIjquLDtmZRcclxuICAgIGlmICghdXNlci5hY3Rpdml0eVN0YXRzKSB7XHJcbiAgICAgIHVzZXIuYWN0aXZpdHlTdGF0cyA9IHtcclxuICAgICAgICB0b3RhbExvZ2luRGF5czogMCxcclxuICAgICAgICBjdXJyZW50U3RyZWFrOiAwLFxyXG4gICAgICAgIGxvbmdlc3RTdHJlYWs6IDAsXHJcbiAgICAgICAgbGFzdFZpc2l0RGF0ZTogbnVsbCxcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOyYpOuKmCDssqsg67Cp66y4IC0g7IOI66Gc7Jq0IO2ZnOuPmSDquLDroZ0g7IOd7ISxXHJcbiAgICB0b2RheUFjdGl2aXR5ID0gbmV3IFVzZXJBY3Rpdml0eSh7XHJcbiAgICAgIHVzZXJJZDogdXNlci5faWQsXHJcbiAgICAgIGRhdGU6IHRvZGF5LFxyXG4gICAgICB2aXNpdENvdW50OiAxLFxyXG4gICAgICBmaXJzdFZpc2l0QXQ6IG5vdyxcclxuICAgICAgbGFzdFZpc2l0QXQ6IG5vd1xyXG4gICAgfSlcclxuXHJcbiAgICAvLyDsl7Dsho0g7KCR7IaN7J28IOqzhOyCsFxyXG4gICAgY29uc3QgeWVzdGVyZGF5ID0gbmV3IERhdGUoKVxyXG4gICAgeWVzdGVyZGF5LnNldERhdGUoeWVzdGVyZGF5LmdldERhdGUoKSAtIDEpXHJcbiAgICBjb25zdCB5ZXN0ZXJkYXlTdHIgPSB5ZXN0ZXJkYXkudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzBdXHJcblxyXG4gICAgaWYgKHVzZXIuYWN0aXZpdHlTdGF0cy5sYXN0VmlzaXREYXRlID09PSB5ZXN0ZXJkYXlTdHIpIHtcclxuICAgICAgLy8g7Ja07KCcIOuwqeusuO2WiOycvOuptCDsl7Dsho0g7KCR7IaN7J28IOymneqwgFxyXG4gICAgICB1c2VyLmFjdGl2aXR5U3RhdHMuY3VycmVudFN0cmVhayArPSAxXHJcbiAgICB9IGVsc2UgaWYgKHVzZXIuYWN0aXZpdHlTdGF0cy5sYXN0VmlzaXREYXRlICE9PSB0b2RheSkge1xyXG4gICAgICAvLyDslrTsoJwg67Cp66y4IOyViO2WiOycvOuptCDsl7Dsho0g7KCR7IaN7J28IOy0iOq4sO2ZlCAo7Jik64qY67aA7YSwIDHsnbwpXHJcbiAgICAgIHVzZXIuYWN0aXZpdHlTdGF0cy5jdXJyZW50U3RyZWFrID0gMVxyXG4gICAgfVxyXG5cclxuICAgIC8vIOy1nOyepSDsl7Dsho0g7KCR7IaN7J28IOq4sOuhnSDsl4XrjbDsnbTtirhcclxuICAgIGlmICh1c2VyLmFjdGl2aXR5U3RhdHMuY3VycmVudFN0cmVhayA+IHVzZXIuYWN0aXZpdHlTdGF0cy5sb25nZXN0U3RyZWFrKSB7XHJcbiAgICAgIHVzZXIuYWN0aXZpdHlTdGF0cy5sb25nZXN0U3RyZWFrID0gdXNlci5hY3Rpdml0eVN0YXRzLmN1cnJlbnRTdHJlYWtcclxuICAgIH1cclxuXHJcbiAgICAvLyDstJ0g66Gc6re47J24IOuCoCDsiJgg7Kad6rCAXHJcbiAgICB1c2VyLmFjdGl2aXR5U3RhdHMudG90YWxMb2dpbkRheXMgKz0gMVxyXG4gICAgdXNlci5hY3Rpdml0eVN0YXRzLmxhc3RWaXNpdERhdGUgPSB0b2RheVxyXG5cclxuICAgIGF3YWl0IHRvZGF5QWN0aXZpdHkuc2F2ZSgpXHJcbiAgICBhd2FpdCB1c2VyLnNhdmUoKVxyXG5cclxuICAgIGNvbnNvbGUubG9nKGDwn46vIOyyqyDrsKnrrLgg6riw66GdIOyDneyEsTogJHt1c2VyLmNoYW5uZWxOYW1lfSAtIOyXsOyGjSAke3VzZXIuYWN0aXZpdHlTdGF0cy5jdXJyZW50U3RyZWFrfeydvGApXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+yekOuPmSDssrTtgazsnbgg7LKY66asIOyYpOulmDonLCBlcnJvcilcclxuICAgIC8vIOyXkOufrOqwgCDrsJzsg53tlbTrj4Qg7IS47IWYIOyymOumrOuKlCDqs4Tsho0g7KeE7ZaJXHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbIkNyZWRlbnRpYWxzUHJvdmlkZXIiLCJjcmVhdGVNYW51YWxDaHp6a0NsaWVudCIsImlzQWRtaW5DaGFubmVsIiwiZ2V0QWRtaW5JbmZvIiwiZ2V0U3RhdGljVXNlclJvbGUiLCJyb2xlVG9Jc0FkbWluIiwiY3JlYXRlT3JVcGRhdGVVc2VyIiwiZGJDb25uZWN0IiwiVXNlciIsIlVzZXJBY3Rpdml0eSIsIkNoenprUHJvdmlkZXIiLCJnZXRTZWxlY3RlZFRpdGxlSW5mbyIsInVzZXJDYWNoZSIsIk1hcCIsIkNBQ0hFX0RVUkFUSU9OIiwiZ2V0Q2FjaGVkVXNlciIsImNoYW5uZWxJZCIsIm5vdyIsIkRhdGUiLCJjYWNoZWQiLCJnZXQiLCJ0aW1lc3RhbXAiLCJkYXRhIiwidXNlciIsImZpbmRPbmUiLCJzZXQiLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciLCJhdXRoT3B0aW9ucyIsInByb3ZpZGVycyIsImNsaWVudElkIiwicHJvY2VzcyIsImVudiIsIkNIWlpLX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkNIWlpLX0NMSUVOVF9TRUNSRVQiLCJpZCIsIm5hbWUiLCJjcmVkZW50aWFscyIsImNvb2tpZXMiLCJsYWJlbCIsInR5cGUiLCJwbGFjZWhvbGRlciIsImF1dGhvcml6ZSIsImNsaWVudCIsInVzZXJJbmZvIiwibG9nZ2VkSW4iLCJjaGFubmVsSW5mbyIsImNoYW5uZWwiLCJpbmZvIiwidXNlcklkSGFzaCIsImNoYW5uZWxOYW1lIiwibmlja25hbWUiLCJpc0FkbWluIiwiYWRtaW5JbmZvIiwicmVzdWx0IiwiZW1haWwiLCJpbWFnZSIsImNoYW5uZWxJbWFnZVVybCIsIm5hdmVySWQiLCJmb2xsb3dlckNvdW50IiwiYWRtaW5Sb2xlIiwicm9sZSIsInByb2ZpbGVJbWFnZVVybCIsImRiRXJyb3IiLCJjYWxsYmFja3MiLCJqd3QiLCJ0b2tlbiIsImFjY291bnQiLCJwcm92aWRlciIsImRiVXNlciIsInVzZXJJZCIsIl9pZCIsInRvU3RyaW5nIiwic2Vzc2lvbiIsImRpc3BsYXlOYW1lIiwic2VsZWN0ZWRUaXRsZSIsInBhZ2VzIiwic2lnbkluIiwic3RyYXRlZ3kiLCJzZWNyZXQiLCJORVhUQVVUSF9TRUNSRVQiLCJkZWJ1ZyIsImNoZWNraW5DYWNoZSIsInBlcmZvcm1EYWlseUNoZWNraW4iLCJ0b2RheSIsInRvSVNPU3RyaW5nIiwic3BsaXQiLCJ0b2RheUFjdGl2aXR5IiwiZGF0ZSIsImFjdGl2aXR5U3RhdHMiLCJ0b3RhbExvZ2luRGF5cyIsImN1cnJlbnRTdHJlYWsiLCJsb25nZXN0U3RyZWFrIiwibGFzdFZpc2l0RGF0ZSIsInZpc2l0Q291bnQiLCJmaXJzdFZpc2l0QXQiLCJsYXN0VmlzaXRBdCIsInllc3RlcmRheSIsInNldERhdGUiLCJnZXREYXRlIiwieWVzdGVyZGF5U3RyIiwic2F2ZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/authOptions.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/chzzkCookieManual.ts":
/*!**************************************!*\
  !*** ./src/lib/chzzkCookieManual.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addManualChzzkCookie: () => (/* binding */ addManualChzzkCookie),\n/* harmony export */   createManualChzzkClient: () => (/* binding */ createManualChzzkClient),\n/* harmony export */   getManualCookies: () => (/* binding */ getManualCookies),\n/* harmony export */   printCookieGuide: () => (/* binding */ printCookieGuide),\n/* harmony export */   removeManualCookie: () => (/* binding */ removeManualCookie)\n/* harmony export */ });\n/* harmony import */ var chzzk__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! chzzk */ \"(rsc)/./node_modules/chzzk/dist/index.js\");\n/* harmony import */ var chzzk__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(chzzk__WEBPACK_IMPORTED_MODULE_0__);\n/**\r\n * 수동 쿠키 입력 및 관리 시스템\r\n * 자동 인증이 실패할 경우를 대비한 수동 방법\r\n */ \n// 수동으로 설정할 수 있는 치지직 쿠키 저장소\nconst MANUAL_CHZZK_COOKIES = {\n};\n/**\r\n * 수동 쿠키를 추가하는 함수 (개발자 도구용)\r\n */ function addManualChzzkCookie(naverId, cookies) {\n    MANUAL_CHZZK_COOKIES[naverId] = cookies;\n    console.log(`수동 쿠키 추가됨: ${naverId}`);\n}\n/**\r\n * 수동 쿠키를 사용해서 치지직 클라이언트 생성\r\n */ async function createManualChzzkClient(naverId, providedCookies) {\n    console.log('=== 수동 쿠키로 치지직 클라이언트 생성 ===');\n    // 직접 제공된 쿠키가 있으면 우선 사용\n    const cookies = providedCookies || MANUAL_CHZZK_COOKIES[naverId];\n    if (!cookies) {\n        console.log(`네이버 ID ${naverId}에 대한 수동 쿠키가 없습니다`);\n        return {\n            client: new chzzk__WEBPACK_IMPORTED_MODULE_0__.ChzzkClient(),\n            userInfo: null\n        };\n    }\n    try {\n        console.log('수동 쿠키로 클라이언트 생성:', cookies.substring(0, 50) + '...');\n        console.log('전체 쿠키 길이:', cookies.length);\n        // 쿠키에서 NID_AUT와 NID_SES 추출\n        const nidAuth = cookies.match(/NID_AUT=([^;]+)/)?.[1];\n        const nidSession = cookies.match(/NID_SES=([^;]+)/)?.[1];\n        console.log('추출된 NID_AUT:', nidAuth ? nidAuth.substring(0, 20) + '...' : 'null');\n        console.log('추출된 NID_SES:', nidSession ? nidSession.substring(0, 20) + '...' : 'null');\n        if (!nidAuth || !nidSession) {\n            console.log('필수 쿠키 (NID_AUT 또는 NID_SES)가 없습니다');\n            return {\n                client: new chzzk__WEBPACK_IMPORTED_MODULE_0__.ChzzkClient(),\n                userInfo: null\n            };\n        }\n        // 치지직 비공식 API 클라이언트 생성 (올바른 방식)\n        const client = new chzzk__WEBPACK_IMPORTED_MODULE_0__.ChzzkClient({\n            nidAuth: nidAuth,\n            nidSession: nidSession\n        });\n        console.log('ChzzkClient 생성 완료, 사용자 정보 조회 시도...');\n        // 다양한 API 메서드 시도\n        let userInfo = null;\n        try {\n            console.log('client.user() 메서드 시도...');\n            userInfo = await client.user();\n            console.log('client.user() 결과:', JSON.stringify(userInfo, null, 2));\n        } catch (userError) {\n            console.log('client.user() 실패:', userError);\n            try {\n                console.log('client.me.user() 메서드 시도...');\n                userInfo = await client.me.user();\n                console.log('client.me.user() 결과:', JSON.stringify(userInfo, null, 2));\n            } catch (meError) {\n                console.log('client.me.user() 실패:', meError);\n                try {\n                    console.log('client.me 프로퍼티 확인...');\n                    console.log('client.me:', client.me);\n                    if (client.me && typeof client.me.user === 'function') {\n                        userInfo = await client.me.user();\n                        console.log('client.me.user() 재시도 결과:', JSON.stringify(userInfo, null, 2));\n                    }\n                } catch (me2Error) {\n                    console.log('client.me 재시도 실패:', me2Error);\n                }\n            }\n        }\n        if (userInfo && userInfo.loggedIn) {\n            console.log('수동 쿠키 인증 성공!');\n            return {\n                client,\n                userInfo\n            };\n        } else {\n            console.log('사용자 정보 조회 실패, 하지만 클라이언트는 생성됨');\n            return {\n                client,\n                userInfo: null\n            };\n        }\n    } catch (error) {\n        console.log('수동 쿠키 클라이언트 생성 실패:', error);\n        console.log('error.message:', error instanceof Error ? error.message : 'Unknown error');\n        return {\n            client: new chzzk__WEBPACK_IMPORTED_MODULE_0__.ChzzkClient(),\n            userInfo: null\n        };\n    }\n}\n/**\r\n * 쿠키 설정 가이드 출력\r\n */ function printCookieGuide(naverId) {\n    console.log('=== 치지직 쿠키 수동 설정 가이드 ===');\n    console.log('1. 브라우저에서 https://chzzk.naver.com 에 로그인');\n    console.log('2. 개발자 도구 (F12) → Application/Storage → Cookies');\n    console.log('3. NID_AUT와 NID_SES 쿠키 값을 복사');\n    console.log('4. 다음 코드를 브라우저 콘솔에서 실행:');\n    console.log(``);\n    console.log(`   // 쿠키 값을 여기에 입력`);\n    console.log(`   const cookies = \"NID_AUT=당신의_NID_AUT_값; NID_SES=당신의_NID_SES_값\"`);\n    console.log(`   `);\n    console.log(`   // API 호출`);\n    console.log(`   fetch('/api/admin/set-manual-cookie', {`);\n    console.log(`     method: 'POST',`);\n    console.log(`     headers: { 'Content-Type': 'application/json' },`);\n    console.log(`     body: JSON.stringify({`);\n    console.log(`       naverId: '${naverId}',`);\n    console.log(`       cookies: cookies`);\n    console.log(`     })`);\n    console.log(`   })`);\n    console.log('');\n    console.log('5. 로그아웃 후 다시 로그인하여 테스트');\n}\n/**\r\n * 현재 등록된 수동 쿠키 목록 조회\r\n */ function getManualCookies() {\n    return {\n        ...MANUAL_CHZZK_COOKIES\n    };\n}\n/**\r\n * 수동 쿠키 삭제\r\n */ function removeManualCookie(naverId) {\n    delete MANUAL_CHZZK_COOKIES[naverId];\n    console.log(`수동 쿠키 삭제됨: ${naverId}`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxHQUFHLENBQUMsQ0FBQyx1QkFBdUIsQ0FBQztJQUNyQ0QsUUFBUUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDO0lBQ3JCRCxRQUFRQyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUM7SUFDbkJELFFBQVFDLEdBQUcsQ0FBQztJQUNaRCxRQUFRQyxHQUFHLENBQUM7QUFDZDtBQUVBOztDQUVDLEdBQ00sU0FBU3NCO0lBQ2QsT0FBTztRQUFFLEdBQUczQixvQkFBb0I7SUFBQztBQUNuQztBQUVBOztDQUVDLEdBQ00sU0FBUzRCLG1CQUFtQjFCLE9BQWU7SUFDaEQsT0FBT0Ysb0JBQW9CLENBQUNFLFFBQVE7SUFDcENFLFFBQVFDLEdBQUcsQ0FBQyxDQUFDLFdBQVcsRUFBRUgsU0FBUztBQUNyQyIsInNvdXJjZXMiOlsiL21udC9mL0RhdGEvR2l0L2NsYXVkZS1jb2RlL2F5YXVrZS1wYWdlL2F5YXVrZS1wYWdlL3NyYy9saWIvY2h6emtDb29raWVNYW51YWwudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXHJcbiAqIOyImOuPmSDsv6DtgqQg7J6F66ClIOuwjyDqtIDrpqwg7Iuc7Iqk7YWcXHJcbiAqIOyekOuPmSDsnbjspp3snbQg7Iuk7Yyo7ZWgIOqyveyasOulvCDrjIDruYTtlZwg7IiY64+ZIOuwqeuylVxyXG4gKi9cclxuXHJcbmltcG9ydCB7IENoenprQ2xpZW50IH0gZnJvbSAnY2h6emsnXHJcblxyXG4vLyDsiJjrj5nsnLzroZwg7ISk7KCV7ZWgIOyImCDsnojripQg7LmY7KeA7KeBIOy/oO2CpCDsoIDsnqXshoxcclxuY29uc3QgTUFOVUFMX0NIWlpLX0NPT0tJRVM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XHJcbiAgLy8g64Sk7J2067KEIElEOiDsuZjsp4Dsp4Eg7L+g7YKkIOunpO2VkVxyXG4gIC8vIOyYiDogJ01lNXA3X0Z3Rlcwd2h4U053ZXRZQlNrZ1JDQmhUa3VWd2ktNzduRmllQ0knOiAnTklEX0FVVD0uLi47IE5JRF9TRVM9Li4uJ1xyXG59XHJcblxyXG4vKipcclxuICog7IiY64+ZIOy/oO2CpOulvCDstpTqsIDtlZjripQg7ZWo7IiYICjqsJzrsJzsnpAg64+E6rWs7JqpKVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZE1hbnVhbENoenprQ29va2llKG5hdmVySWQ6IHN0cmluZywgY29va2llczogc3RyaW5nKSB7XHJcbiAgTUFOVUFMX0NIWlpLX0NPT0tJRVNbbmF2ZXJJZF0gPSBjb29raWVzXHJcbiAgY29uc29sZS5sb2coYOyImOuPmSDsv6DtgqQg7LaU6rCA65CoOiAke25hdmVySWR9YClcclxufVxyXG5cclxuLyoqXHJcbiAqIOyImOuPmSDsv6DtgqTrpbwg7IKs7Jqp7ZW07IScIOy5mOyngOyngSDtgbTrnbzsnbTslrjtirgg7IOd7ISxXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlTWFudWFsQ2h6emtDbGllbnQobmF2ZXJJZDogc3RyaW5nLCBwcm92aWRlZENvb2tpZXM/OiBzdHJpbmcpIHtcclxuICBjb25zb2xlLmxvZygnPT09IOyImOuPmSDsv6DtgqTroZwg7LmY7KeA7KeBIO2BtOudvOydtOyWuO2KuCDsg53shLEgPT09JylcclxuICBcclxuICAvLyDsp4HsoJEg7KCc6rO165CcIOy/oO2CpOqwgCDsnojsnLzrqbQg7Jqw7ISgIOyCrOyaqVxyXG4gIGNvbnN0IGNvb2tpZXMgPSBwcm92aWRlZENvb2tpZXMgfHwgTUFOVUFMX0NIWlpLX0NPT0tJRVNbbmF2ZXJJZF1cclxuICBcclxuICBpZiAoIWNvb2tpZXMpIHtcclxuICAgIGNvbnNvbGUubG9nKGDrhKTsnbTrsoQgSUQgJHtuYXZlcklkfeyXkCDrjIDtlZwg7IiY64+ZIOy/oO2CpOqwgCDsl4bsirXri4jri6RgKVxyXG4gICAgcmV0dXJuIHsgY2xpZW50OiBuZXcgQ2h6emtDbGllbnQoKSwgdXNlckluZm86IG51bGwgfVxyXG4gIH1cclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc29sZS5sb2coJ+yImOuPmSDsv6DtgqTroZwg7YG065287J207Ja47Yq4IOyDneyEsTonLCBjb29raWVzLnN1YnN0cmluZygwLCA1MCkgKyAnLi4uJylcclxuICAgIGNvbnNvbGUubG9nKCfsoITssrQg7L+g7YKkIOq4uOydtDonLCBjb29raWVzLmxlbmd0aClcclxuICAgIFxyXG4gICAgLy8g7L+g7YKk7JeQ7IScIE5JRF9BVVTsmYAgTklEX1NFUyDstpTstpxcclxuICAgIGNvbnN0IG5pZEF1dGggPSBjb29raWVzLm1hdGNoKC9OSURfQVVUPShbXjtdKykvKT8uWzFdXHJcbiAgICBjb25zdCBuaWRTZXNzaW9uID0gY29va2llcy5tYXRjaCgvTklEX1NFUz0oW147XSspLyk/LlsxXVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygn7LaU7Lac65CcIE5JRF9BVVQ6JywgbmlkQXV0aCA/IG5pZEF1dGguc3Vic3RyaW5nKDAsIDIwKSArICcuLi4nIDogJ251bGwnKVxyXG4gICAgY29uc29sZS5sb2coJ+y2lOy2nOuQnCBOSURfU0VTOicsIG5pZFNlc3Npb24gPyBuaWRTZXNzaW9uLnN1YnN0cmluZygwLCAyMCkgKyAnLi4uJyA6ICdudWxsJylcclxuICAgIFxyXG4gICAgaWYgKCFuaWRBdXRoIHx8ICFuaWRTZXNzaW9uKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCftlYTsiJgg7L+g7YKkIChOSURfQVVUIOuYkOuKlCBOSURfU0VTKeqwgCDsl4bsirXri4jri6QnKVxyXG4gICAgICByZXR1cm4geyBjbGllbnQ6IG5ldyBDaHp6a0NsaWVudCgpLCB1c2VySW5mbzogbnVsbCB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIOy5mOyngOyngSDruYTqs7Xsi50gQVBJIO2BtOudvOydtOyWuO2KuCDsg53shLEgKOyYrOuwlOuluCDrsKnsi50pXHJcbiAgICBjb25zdCBjbGllbnQgPSBuZXcgQ2h6emtDbGllbnQoe1xyXG4gICAgICBuaWRBdXRoOiBuaWRBdXRoLFxyXG4gICAgICBuaWRTZXNzaW9uOiBuaWRTZXNzaW9uXHJcbiAgICB9KVxyXG4gICAgXHJcbiAgICBjb25zb2xlLmxvZygnQ2h6emtDbGllbnQg7IOd7ISxIOyZhOujjCwg7IKs7Jqp7J6QIOygleuztCDsobDtmowg7Iuc64+ELi4uJylcclxuICAgIFxyXG4gICAgLy8g64uk7JaR7ZWcIEFQSSDrqZTshJzrk5wg7Iuc64+EXHJcbiAgICBsZXQgdXNlckluZm8gPSBudWxsXHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQudXNlcigpIOuplOyEnOuTnCDsi5zrj4QuLi4nKVxyXG4gICAgICB1c2VySW5mbyA9IGF3YWl0IGNsaWVudC51c2VyKClcclxuICAgICAgY29uc29sZS5sb2coJ2NsaWVudC51c2VyKCkg6rKw6rO8OicsIEpTT04uc3RyaW5naWZ5KHVzZXJJbmZvLCBudWxsLCAyKSlcclxuICAgIH0gY2F0Y2ggKHVzZXJFcnJvcikge1xyXG4gICAgICBjb25zb2xlLmxvZygnY2xpZW50LnVzZXIoKSDsi6TtjKg6JywgdXNlckVycm9yKVxyXG4gICAgICBcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50Lm1lLnVzZXIoKSDrqZTshJzrk5wg7Iuc64+ELi4uJylcclxuICAgICAgICB1c2VySW5mbyA9IGF3YWl0IGNsaWVudC5tZS51c2VyKClcclxuICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50Lm1lLnVzZXIoKSDqsrDqs7w6JywgSlNPTi5zdHJpbmdpZnkodXNlckluZm8sIG51bGwsIDIpKVxyXG4gICAgICB9IGNhdGNoIChtZUVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NsaWVudC5tZS51c2VyKCkg7Iuk7YyoOicsIG1lRXJyb3IpXHJcbiAgICAgICAgXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQubWUg7ZSE66Gc7Y287YuwIO2ZleyduC4uLicpXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50Lm1lOicsIGNsaWVudC5tZSlcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgaWYgKGNsaWVudC5tZSAmJiB0eXBlb2YgY2xpZW50Lm1lLnVzZXIgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgdXNlckluZm8gPSBhd2FpdCBjbGllbnQubWUudXNlcigpXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnQubWUudXNlcigpIOyerOyLnOuPhCDqsrDqs7w6JywgSlNPTi5zdHJpbmdpZnkodXNlckluZm8sIG51bGwsIDIpKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0gY2F0Y2ggKG1lMkVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnY2xpZW50Lm1lIOyerOyLnOuPhCDsi6TtjKg6JywgbWUyRXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh1c2VySW5mbyAmJiB1c2VySW5mby5sb2dnZWRJbikge1xyXG4gICAgICBjb25zb2xlLmxvZygn7IiY64+ZIOy/oO2CpCDsnbjspp0g7ISx6rO1IScpXHJcbiAgICAgIHJldHVybiB7IGNsaWVudCwgdXNlckluZm8gfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc29sZS5sb2coJ+yCrOyaqeyekCDsoJXrs7Qg7KGw7ZqMIOyLpO2MqCwg7ZWY7KeA66eMIO2BtOudvOydtOyWuO2KuOuKlCDsg53shLHrkKgnKVxyXG4gICAgICByZXR1cm4geyBjbGllbnQsIHVzZXJJbmZvOiBudWxsIH1cclxuICAgIH1cclxuICAgIFxyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmxvZygn7IiY64+ZIOy/oO2CpCDtgbTrnbzsnbTslrjtirgg7IOd7ISxIOyLpO2MqDonLCBlcnJvcilcclxuICAgIGNvbnNvbGUubG9nKCdlcnJvci5tZXNzYWdlOicsIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InKVxyXG4gICAgcmV0dXJuIHsgY2xpZW50OiBuZXcgQ2h6emtDbGllbnQoKSwgdXNlckluZm86IG51bGwgfVxyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOy/oO2CpCDshKTsoJUg6rCA7J2065OcIOy2nOugpVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHByaW50Q29va2llR3VpZGUobmF2ZXJJZDogc3RyaW5nKSB7XHJcbiAgY29uc29sZS5sb2coJz09PSDsuZjsp4Dsp4Eg7L+g7YKkIOyImOuPmSDshKTsoJUg6rCA7J2065OcID09PScpXHJcbiAgY29uc29sZS5sb2coJzEuIOu4jOudvOyasOyggOyXkOyEnCBodHRwczovL2NoenprLm5hdmVyLmNvbSDsl5Ag66Gc6re47J24JylcclxuICBjb25zb2xlLmxvZygnMi4g6rCc67Cc7J6QIOuPhOq1rCAoRjEyKSDihpIgQXBwbGljYXRpb24vU3RvcmFnZSDihpIgQ29va2llcycpXHJcbiAgY29uc29sZS5sb2coJzMuIE5JRF9BVVTsmYAgTklEX1NFUyDsv6DtgqQg6rCS7J2EIOuzteyCrCcpXHJcbiAgY29uc29sZS5sb2coJzQuIOuLpOydjCDsvZTrk5zrpbwg67iM65287Jqw7KCAIOy9mOyGlOyXkOyEnCDsi6Ttlok6JylcclxuICBjb25zb2xlLmxvZyhgYClcclxuICBjb25zb2xlLmxvZyhgICAgLy8g7L+g7YKkIOqwkuydhCDsl6zquLDsl5Ag7J6F66ClYClcclxuICBjb25zb2xlLmxvZyhgICAgY29uc3QgY29va2llcyA9IFwiTklEX0FVVD3ri7nsi6DsnZhfTklEX0FVVF/qsJI7IE5JRF9TRVM964u57Iug7J2YX05JRF9TRVNf6rCSXCJgKVxyXG4gIGNvbnNvbGUubG9nKGAgICBgKVxyXG4gIGNvbnNvbGUubG9nKGAgICAvLyBBUEkg7Zi47LacYClcclxuICBjb25zb2xlLmxvZyhgICAgZmV0Y2goJy9hcGkvYWRtaW4vc2V0LW1hbnVhbC1jb29raWUnLCB7YClcclxuICBjb25zb2xlLmxvZyhgICAgICBtZXRob2Q6ICdQT1NUJyxgKVxyXG4gIGNvbnNvbGUubG9nKGAgICAgIGhlYWRlcnM6IHsgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyB9LGApXHJcbiAgY29uc29sZS5sb2coYCAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe2ApXHJcbiAgY29uc29sZS5sb2coYCAgICAgICBuYXZlcklkOiAnJHtuYXZlcklkfScsYClcclxuICBjb25zb2xlLmxvZyhgICAgICAgIGNvb2tpZXM6IGNvb2tpZXNgKVxyXG4gIGNvbnNvbGUubG9nKGAgICAgIH0pYClcclxuICBjb25zb2xlLmxvZyhgICAgfSlgKVxyXG4gIGNvbnNvbGUubG9nKCcnKVxyXG4gIGNvbnNvbGUubG9nKCc1LiDroZzqt7jslYTsm4Mg7ZuEIOuLpOyLnCDroZzqt7jsnbjtlZjsl6wg7YWM7Iqk7Yq4JylcclxufVxyXG5cclxuLyoqXHJcbiAqIO2YhOyerCDrk7HroZ3rkJwg7IiY64+ZIOy/oO2CpCDrqqnroZ0g7KGw7ZqMXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gZ2V0TWFudWFsQ29va2llcygpIHtcclxuICByZXR1cm4geyAuLi5NQU5VQUxfQ0haWktfQ09PS0lFUyB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDsiJjrj5kg7L+g7YKkIOyCreygnFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZU1hbnVhbENvb2tpZShuYXZlcklkOiBzdHJpbmcpIHtcclxuICBkZWxldGUgTUFOVUFMX0NIWlpLX0NPT0tJRVNbbmF2ZXJJZF1cclxuICBjb25zb2xlLmxvZyhg7IiY64+ZIOy/oO2CpCDsgq3soJzrkKg6ICR7bmF2ZXJJZH1gKVxyXG59Il0sIm5hbWVzIjpbIkNoenprQ2xpZW50IiwiTUFOVUFMX0NIWlpLX0NPT0tJRVMiLCJhZGRNYW51YWxDaHp6a0Nvb2tpZSIsIm5hdmVySWQiLCJjb29raWVzIiwiY29uc29sZSIsImxvZyIsImNyZWF0ZU1hbnVhbENoenprQ2xpZW50IiwicHJvdmlkZWRDb29raWVzIiwiY2xpZW50IiwidXNlckluZm8iLCJzdWJzdHJpbmciLCJsZW5ndGgiLCJuaWRBdXRoIiwibWF0Y2giLCJuaWRTZXNzaW9uIiwidXNlciIsIkpTT04iLCJzdHJpbmdpZnkiLCJ1c2VyRXJyb3IiLCJtZSIsIm1lRXJyb3IiLCJtZTJFcnJvciIsImxvZ2dlZEluIiwiZXJyb3IiLCJFcnJvciIsIm1lc3NhZ2UiLCJwcmludENvb2tpZUd1aWRlIiwiZ2V0TWFudWFsQ29va2llcyIsInJlbW92ZU1hbnVhbENvb2tpZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/chzzkCookieManual.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/chzzkOAuthProvider.ts":
/*!***************************************!*\
  !*** ./src/lib/chzzkOAuthProvider.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ ChzzkProvider)\n/* harmony export */ });\n// 토큰을 저장할 임시 변수\nlet currentAccessToken = null;\nfunction ChzzkProvider(options) {\n    return {\n        id: \"chzzk\",\n        name: \"치지직\",\n        type: \"oauth\",\n        authorization: {\n            url: \"https://chzzk.naver.com/account-interlock\",\n            params: {\n                clientId: options.clientId,\n                redirectUri: `${process.env.NEXTAUTH_URL}/api/auth/callback/chzzk`,\n                response_type: \"code\"\n            }\n        },\n        // 디버깅을 위한 로그\n        ... true && {\n            debug: true\n        },\n        token: {\n            url: \"https://chzzk.naver.com/auth/v1/token\",\n            async request (context) {\n                const response = await fetch(\"https://chzzk.naver.com/auth/v1/token\", {\n                    method: \"POST\",\n                    headers: {\n                        \"Content-Type\": \"application/json\"\n                    },\n                    body: JSON.stringify({\n                        grantType: \"authorization_code\",\n                        clientId: options.clientId,\n                        clientSecret: options.clientSecret,\n                        code: context.params.code,\n                        state: context.params.state\n                    })\n                });\n                if (!response.ok) {\n                    const errorText = await response.text();\n                    console.error('치지직 토큰 요청 실패:', {\n                        status: response.status,\n                        statusText: response.statusText,\n                        error: errorText,\n                        clientId: options.clientId,\n                        redirectUri: `${process.env.NEXTAUTH_URL}/api/auth/callback/chzzk`\n                    });\n                    // API 승인 관련 오류인지 확인\n                    if (response.status === 401 || response.status === 403) {\n                        throw new Error(`치지직 API 승인이 필요합니다. 클라이언트 ID/SECRET을 확인하거나 API 승인 상태를 확인하세요. (${response.status})`);\n                    }\n                    throw new Error(`Token request failed: ${response.status} - ${errorText}`);\n                }\n                const tokens = await response.json();\n                const result = {\n                    access_token: tokens.content?.accessToken || tokens.accessToken,\n                    refresh_token: tokens.content?.refreshToken || tokens.refreshToken,\n                    token_type: tokens.content?.tokenType || tokens.tokenType || \"Bearer\",\n                    expires_in: tokens.content?.expiresIn || tokens.expiresIn || 86400\n                };\n                // 토큰을 임시 변수에 저장\n                currentAccessToken = result.access_token;\n                return result;\n            }\n        },\n        userinfo: {\n            url: \"https://chzzk.naver.com/open/v1/users/me\",\n            async request (context) {\n                // context에서 토큰을 가져오거나 임시 저장된 토큰 사용\n                const accessToken = context.tokens?.access_token || currentAccessToken;\n                // 액세스 토큰이 없으면 로그인 실패\n                if (!accessToken) {\n                    throw new Error('Access token not found');\n                }\n                // 치지직 공식 사용자 정보 API 호출\n                try {\n                    const response = await fetch(\"https://openapi.chzzk.naver.com/open/v1/users/me\", {\n                        method: \"GET\",\n                        headers: {\n                            Authorization: `Bearer ${accessToken}`,\n                            \"Content-Type\": \"application/json\"\n                        }\n                    });\n                    if (response.ok) {\n                        const userData = await response.json();\n                        const content = userData.content || userData;\n                        if (content.channelId && content.channelName) {\n                            return {\n                                userIdHash: content.channelId,\n                                nickname: content.channelName || content.nickname,\n                                profileImageUrl: content.profileImageUrl || content.channelImageUrl,\n                                channelId: content.channelId,\n                                channelName: content.channelName || content.nickname,\n                                channelImageUrl: content.channelImageUrl,\n                                followerCount: content.followerCount || 0\n                            };\n                        }\n                    } else {\n                        const errorText = await response.text();\n                        console.error('치지직 사용자 정보 API 호출 실패:', {\n                            status: response.status,\n                            statusText: response.statusText,\n                            error: errorText,\n                            accessToken: accessToken ? '토큰 있음' : '토큰 없음'\n                        });\n                        // API 승인 관련 오류인지 확인\n                        if (response.status === 401 || response.status === 403) {\n                            throw new Error(`치지직 API 승인이 필요합니다. 개발자 콘솔에서 API 승인 상태를 확인하세요. (${response.status})`);\n                        }\n                    }\n                // 공식 API 응답이 유효하지 않음\n                } catch (error) {\n                    console.error('치지직 공식 API 호출 실패:', error);\n                    // API 승인 관련 오류라면 더 명확한 메시지 표시\n                    if (error.message && error.message.includes('승인')) {\n                        throw error;\n                    }\n                }\n                // Fallback API들 시도\n                const fallbackUrls = [\n                    'https://api.chzzk.naver.com/open/v1/users/me',\n                    'https://comm-api.game.naver.com/nng_main/v1/user/getUserStatus'\n                ];\n                for (const url of fallbackUrls){\n                    try {\n                        const response = await fetch(url, {\n                            method: \"GET\",\n                            headers: {\n                                Authorization: `Bearer ${accessToken}`,\n                                \"Content-Type\": \"application/json\"\n                            }\n                        });\n                        if (response.ok) {\n                            const responseText = await response.text();\n                            // HTML 응답 건너뛰기\n                            if (responseText.includes('<!doctype html>')) continue;\n                            const userData = JSON.parse(responseText);\n                            const content = userData.content || userData.response || userData;\n                            if (content.channelId && content.channelName) {\n                                return {\n                                    userIdHash: content.channelId,\n                                    nickname: content.channelName,\n                                    profileImageUrl: content.profileImageUrl || content.channelImageUrl,\n                                    channelId: content.channelId,\n                                    channelName: content.channelName,\n                                    channelImageUrl: content.channelImageUrl,\n                                    followerCount: content.followerCount || 0\n                                };\n                            }\n                        }\n                    } catch (error) {\n                        continue;\n                    }\n                }\n                // 모든 API 실패\n                throw new Error('Chzzk user info API failed');\n            }\n        },\n        profile (profile) {\n            return {\n                id: profile.userIdHash,\n                name: profile.channelName || profile.nickname,\n                email: null,\n                image: profile.channelImageUrl || profile.profileImageUrl,\n                channelId: profile.channelId || profile.userIdHash,\n                channelName: profile.channelName || profile.nickname,\n                channelImageUrl: profile.channelImageUrl,\n                followerCount: profile.followerCount\n            };\n        },\n        ...options\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VyxRQUFRVCxRQUFRO2dCQUM3Q1UsT0FBTztnQkFDUEMsT0FBT0YsUUFBUVAsZUFBZSxJQUFJTyxRQUFRUixlQUFlO2dCQUN6REosV0FBV1ksUUFBUVosU0FBUyxJQUFJWSxRQUFRVixVQUFVO2dCQUNsREQsYUFBYVcsUUFBUVgsV0FBVyxJQUFJVyxRQUFRVCxRQUFRO2dCQUNwREUsaUJBQWlCTyxRQUFRUCxlQUFlO2dCQUN4Q0MsZUFBZU0sUUFBUU4sYUFBYTtZQUN0QztRQUNGO1FBQ0EsR0FBR3pELE9BQU87SUFDWjtBQUNGIiwic291cmNlcyI6WyIvbW50L2YvRGF0YS9HaXQvY2xhdWRlLWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL2xpYi9jaHp6a09BdXRoUHJvdmlkZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgT0F1dGhDb25maWcsIE9BdXRoVXNlckNvbmZpZyB9IGZyb20gXCJuZXh0LWF1dGgvcHJvdmlkZXJzL29hdXRoXCJcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgQ2h6emtQcm9maWxlIHtcclxuICB1c2VySWRIYXNoOiBzdHJpbmdcclxuICBuaWNrbmFtZTogc3RyaW5nXHJcbiAgcHJvZmlsZUltYWdlVXJsPzogc3RyaW5nXHJcbiAgY2hhbm5lbElkPzogc3RyaW5nXHJcbiAgY2hhbm5lbE5hbWU/OiBzdHJpbmdcclxuICBjaGFubmVsSW1hZ2VVcmw/OiBzdHJpbmdcclxuICBmb2xsb3dlckNvdW50PzogbnVtYmVyXHJcbn1cclxuXHJcbi8vIO2GoO2BsOydhCDsoIDsnqXtlaAg7J6E7IucIOuzgOyImFxyXG5sZXQgY3VycmVudEFjY2Vzc1Rva2VuOiBzdHJpbmcgfCBudWxsID0gbnVsbFxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2h6emtQcm92aWRlcihcclxuICBvcHRpb25zOiBPQXV0aFVzZXJDb25maWc8Q2h6emtQcm9maWxlPlxyXG4pOiBPQXV0aENvbmZpZzxDaHp6a1Byb2ZpbGU+IHtcclxuICByZXR1cm4ge1xyXG4gICAgaWQ6IFwiY2h6emtcIixcclxuICAgIG5hbWU6IFwi7LmY7KeA7KeBXCIsXHJcbiAgICB0eXBlOiBcIm9hdXRoXCIsXHJcbiAgICBhdXRob3JpemF0aW9uOiB7XHJcbiAgICAgIHVybDogXCJodHRwczovL2NoenprLm5hdmVyLmNvbS9hY2NvdW50LWludGVybG9ja1wiLFxyXG4gICAgICBwYXJhbXM6IHtcclxuICAgICAgICBjbGllbnRJZDogb3B0aW9ucy5jbGllbnRJZCxcclxuICAgICAgICByZWRpcmVjdFVyaTogYCR7cHJvY2Vzcy5lbnYuTkVYVEFVVEhfVVJMfS9hcGkvYXV0aC9jYWxsYmFjay9jaHp6a2AsXHJcbiAgICAgICAgcmVzcG9uc2VfdHlwZTogXCJjb2RlXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgLy8g65SU67KE6rmF7J2EIOychO2VnCDroZzqt7hcclxuICAgIC4uLihwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JyAmJiB7XHJcbiAgICAgIGRlYnVnOiB0cnVlXHJcbiAgICB9KSxcclxuICAgIHRva2VuOiB7XHJcbiAgICAgIHVybDogXCJodHRwczovL2NoenprLm5hdmVyLmNvbS9hdXRoL3YxL3Rva2VuXCIsXHJcbiAgICAgIGFzeW5jIHJlcXVlc3QoY29udGV4dCkge1xyXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJodHRwczovL2NoenprLm5hdmVyLmNvbS9hdXRoL3YxL3Rva2VuXCIsIHtcclxuICAgICAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgICAgZ3JhbnRUeXBlOiBcImF1dGhvcml6YXRpb25fY29kZVwiLFxyXG4gICAgICAgICAgICBjbGllbnRJZDogb3B0aW9ucy5jbGllbnRJZCxcclxuICAgICAgICAgICAgY2xpZW50U2VjcmV0OiBvcHRpb25zLmNsaWVudFNlY3JldCxcclxuICAgICAgICAgICAgY29kZTogY29udGV4dC5wYXJhbXMuY29kZSxcclxuICAgICAgICAgICAgc3RhdGU6IGNvbnRleHQucGFyYW1zLnN0YXRlLFxyXG4gICAgICAgICAgfSksXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCfsuZjsp4Dsp4Eg7Yag7YGwIOyalOyyrSDsi6TtjKg6Jywge1xyXG4gICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcclxuICAgICAgICAgICAgc3RhdHVzVGV4dDogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcclxuICAgICAgICAgICAgZXJyb3I6IGVycm9yVGV4dCxcclxuICAgICAgICAgICAgY2xpZW50SWQ6IG9wdGlvbnMuY2xpZW50SWQsXHJcbiAgICAgICAgICAgIHJlZGlyZWN0VXJpOiBgJHtwcm9jZXNzLmVudi5ORVhUQVVUSF9VUkx9L2FwaS9hdXRoL2NhbGxiYWNrL2NoenprYFxyXG4gICAgICAgICAgfSlcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQVBJIOyKueyduCDqtIDroKgg7Jik66WY7J247KeAIO2ZleyduFxyXG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAxIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gNDAzKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg7LmY7KeA7KeBIEFQSSDsirnsnbjsnbQg7ZWE7JqU7ZWp64uI64ukLiDtgbTrnbzsnbTslrjtirggSUQvU0VDUkVU7J2EIO2ZleyduO2VmOqxsOuCmCBBUEkg7Iq57J24IOyDge2DnOulvCDtmZXsnbjtlZjshLjsmpQuICgke3Jlc3BvbnNlLnN0YXR1c30pYClcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIFxyXG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUb2tlbiByZXF1ZXN0IGZhaWxlZDogJHtyZXNwb25zZS5zdGF0dXN9IC0gJHtlcnJvclRleHR9YClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHtcclxuICAgICAgICAgIGFjY2Vzc190b2tlbjogdG9rZW5zLmNvbnRlbnQ/LmFjY2Vzc1Rva2VuIHx8IHRva2Vucy5hY2Nlc3NUb2tlbixcclxuICAgICAgICAgIHJlZnJlc2hfdG9rZW46IHRva2Vucy5jb250ZW50Py5yZWZyZXNoVG9rZW4gfHwgdG9rZW5zLnJlZnJlc2hUb2tlbixcclxuICAgICAgICAgIHRva2VuX3R5cGU6IHRva2Vucy5jb250ZW50Py50b2tlblR5cGUgfHwgdG9rZW5zLnRva2VuVHlwZSB8fCBcIkJlYXJlclwiLFxyXG4gICAgICAgICAgZXhwaXJlc19pbjogdG9rZW5zLmNvbnRlbnQ/LmV4cGlyZXNJbiB8fCB0b2tlbnMuZXhwaXJlc0luIHx8IDg2NDAwLFxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyDthqDtgbDsnYQg7J6E7IucIOuzgOyImOyXkCDsoIDsnqVcclxuICAgICAgICBjdXJyZW50QWNjZXNzVG9rZW4gPSByZXN1bHQuYWNjZXNzX3Rva2VuXHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIHVzZXJpbmZvOiB7XHJcbiAgICAgIHVybDogXCJodHRwczovL2NoenprLm5hdmVyLmNvbS9vcGVuL3YxL3VzZXJzL21lXCIsXHJcbiAgICAgIGFzeW5jIHJlcXVlc3QoY29udGV4dCkge1xyXG4gICAgICAgIC8vIGNvbnRleHTsl5DshJwg7Yag7YGw7J2EIOqwgOyguOyYpOqxsOuCmCDsnoTsi5wg7KCA7J6l65CcIO2GoO2BsCDsgqzsmqlcclxuICAgICAgICBjb25zdCBhY2Nlc3NUb2tlbiA9IGNvbnRleHQudG9rZW5zPy5hY2Nlc3NfdG9rZW4gfHwgY3VycmVudEFjY2Vzc1Rva2VuXHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8g7JWh7IS47IqkIO2GoO2BsOydtCDsl4bsnLzrqbQg66Gc6re47J24IOyLpO2MqFxyXG4gICAgICAgIGlmICghYWNjZXNzVG9rZW4pIHtcclxuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQWNjZXNzIHRva2VuIG5vdCBmb3VuZCcpXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOy5mOyngOyngSDqs7Xsi50g7IKs7Jqp7J6QIOygleuztCBBUEkg7Zi47LacXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXCJodHRwczovL29wZW5hcGkuY2h6emsubmF2ZXIuY29tL29wZW4vdjEvdXNlcnMvbWVcIiwge1xyXG4gICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7YWNjZXNzVG9rZW59YCxcclxuICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmIChyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICBjb25zdCB1c2VyRGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKVxyXG4gICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdXNlckRhdGEuY29udGVudCB8fCB1c2VyRGF0YVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKGNvbnRlbnQuY2hhbm5lbElkICYmIGNvbnRlbnQuY2hhbm5lbE5hbWUpIHtcclxuICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgdXNlcklkSGFzaDogY29udGVudC5jaGFubmVsSWQsXHJcbiAgICAgICAgICAgICAgICBuaWNrbmFtZTogY29udGVudC5jaGFubmVsTmFtZSB8fCBjb250ZW50Lm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgcHJvZmlsZUltYWdlVXJsOiBjb250ZW50LnByb2ZpbGVJbWFnZVVybCB8fCBjb250ZW50LmNoYW5uZWxJbWFnZVVybCxcclxuICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogY29udGVudC5jaGFubmVsSWQsXHJcbiAgICAgICAgICAgICAgICBjaGFubmVsTmFtZTogY29udGVudC5jaGFubmVsTmFtZSB8fCBjb250ZW50Lm5pY2tuYW1lLFxyXG4gICAgICAgICAgICAgICAgY2hhbm5lbEltYWdlVXJsOiBjb250ZW50LmNoYW5uZWxJbWFnZVVybCxcclxuICAgICAgICAgICAgICAgIGZvbGxvd2VyQ291bnQ6IGNvbnRlbnQuZm9sbG93ZXJDb3VudCB8fCAwLFxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ+y5mOyngOyngSDsgqzsmqnsnpAg7KCV67O0IEFQSSDtmLjstpwg7Iuk7YyoOicsIHtcclxuICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcclxuICAgICAgICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0LFxyXG4gICAgICAgICAgICAgIGVycm9yOiBlcnJvclRleHQsXHJcbiAgICAgICAgICAgICAgYWNjZXNzVG9rZW46IGFjY2Vzc1Rva2VuID8gJ+2GoO2BsCDsnojsnYwnIDogJ+2GoO2BsCDsl4bsnYwnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBBUEkg7Iq57J24IOq0gOugqCDsmKTrpZjsnbjsp4Ag7ZmV7J24XHJcbiAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSB8fCByZXNwb25zZS5zdGF0dXMgPT09IDQwMykge1xyXG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihg7LmY7KeA7KeBIEFQSSDsirnsnbjsnbQg7ZWE7JqU7ZWp64uI64ukLiDqsJzrsJzsnpAg7L2Y7IaU7JeQ7IScIEFQSSDsirnsnbgg7IOB7YOc66W8IO2ZleyduO2VmOyEuOyalC4gKCR7cmVzcG9uc2Uuc3RhdHVzfSlgKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIOqzteyLnSBBUEkg7J2R64u17J20IOycoO2aqO2VmOyngCDslYrsnYxcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcign7LmY7KeA7KeBIOqzteyLnSBBUEkg7Zi47LacIOyLpO2MqDonLCBlcnJvcilcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgLy8gQVBJIOyKueyduCDqtIDroKgg7Jik66WY652866m0IOuNlCDrqoXtmZXtlZwg66mU7Iuc7KeAIO2RnOyLnFxyXG4gICAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgJiYgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygn7Iq57J24JykpIHtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3JcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gRmFsbGJhY2sgQVBJ65OkIOyLnOuPhFxyXG4gICAgICAgIGNvbnN0IGZhbGxiYWNrVXJscyA9IFtcclxuICAgICAgICAgICdodHRwczovL2FwaS5jaHp6ay5uYXZlci5jb20vb3Blbi92MS91c2Vycy9tZScsXHJcbiAgICAgICAgICAnaHR0cHM6Ly9jb21tLWFwaS5nYW1lLm5hdmVyLmNvbS9ubmdfbWFpbi92MS91c2VyL2dldFVzZXJTdGF0dXMnXHJcbiAgICAgICAgXVxyXG4gICAgICAgIFxyXG4gICAgICAgIGZvciAoY29uc3QgdXJsIG9mIGZhbGxiYWNrVXJscykge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcclxuICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke2FjY2Vzc1Rva2VufWAsXHJcbiAgICAgICAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgLy8gSFRNTCDsnZHri7Ug6rG064SI65uw6riwXHJcbiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlVGV4dC5pbmNsdWRlcygnPCFkb2N0eXBlIGh0bWw+JykpIGNvbnRpbnVlXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgY29uc3QgdXNlckRhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlVGV4dClcclxuICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gdXNlckRhdGEuY29udGVudCB8fCB1c2VyRGF0YS5yZXNwb25zZSB8fCB1c2VyRGF0YVxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgIGlmIChjb250ZW50LmNoYW5uZWxJZCAmJiBjb250ZW50LmNoYW5uZWxOYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICB1c2VySWRIYXNoOiBjb250ZW50LmNoYW5uZWxJZCxcclxuICAgICAgICAgICAgICAgICAgbmlja25hbWU6IGNvbnRlbnQuY2hhbm5lbE5hbWUsXHJcbiAgICAgICAgICAgICAgICAgIHByb2ZpbGVJbWFnZVVybDogY29udGVudC5wcm9maWxlSW1hZ2VVcmwgfHwgY29udGVudC5jaGFubmVsSW1hZ2VVcmwsXHJcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWxJZDogY29udGVudC5jaGFubmVsSWQsXHJcbiAgICAgICAgICAgICAgICAgIGNoYW5uZWxOYW1lOiBjb250ZW50LmNoYW5uZWxOYW1lLFxyXG4gICAgICAgICAgICAgICAgICBjaGFubmVsSW1hZ2VVcmw6IGNvbnRlbnQuY2hhbm5lbEltYWdlVXJsLFxyXG4gICAgICAgICAgICAgICAgICBmb2xsb3dlckNvdW50OiBjb250ZW50LmZvbGxvd2VyQ291bnQgfHwgMCxcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIC8vIOqwnOuzhCDsi6TtjKjripQg66y07Iuc7ZWY6rOgIOuLpOydjCBVUkwg7Iuc64+EXHJcbiAgICAgICAgICAgIGNvbnRpbnVlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIOuqqOuToCBBUEkg7Iuk7YyoXHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDaHp6ayB1c2VyIGluZm8gQVBJIGZhaWxlZCcpXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgcHJvZmlsZShwcm9maWxlKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgaWQ6IHByb2ZpbGUudXNlcklkSGFzaCxcclxuICAgICAgICBuYW1lOiBwcm9maWxlLmNoYW5uZWxOYW1lIHx8IHByb2ZpbGUubmlja25hbWUsXHJcbiAgICAgICAgZW1haWw6IG51bGwsXHJcbiAgICAgICAgaW1hZ2U6IHByb2ZpbGUuY2hhbm5lbEltYWdlVXJsIHx8IHByb2ZpbGUucHJvZmlsZUltYWdlVXJsLFxyXG4gICAgICAgIGNoYW5uZWxJZDogcHJvZmlsZS5jaGFubmVsSWQgfHwgcHJvZmlsZS51c2VySWRIYXNoLFxyXG4gICAgICAgIGNoYW5uZWxOYW1lOiBwcm9maWxlLmNoYW5uZWxOYW1lIHx8IHByb2ZpbGUubmlja25hbWUsXHJcbiAgICAgICAgY2hhbm5lbEltYWdlVXJsOiBwcm9maWxlLmNoYW5uZWxJbWFnZVVybCxcclxuICAgICAgICBmb2xsb3dlckNvdW50OiBwcm9maWxlLmZvbGxvd2VyQ291bnQsXHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICAuLi5vcHRpb25zLFxyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJjdXJyZW50QWNjZXNzVG9rZW4iLCJDaHp6a1Byb3ZpZGVyIiwib3B0aW9ucyIsImlkIiwibmFtZSIsInR5cGUiLCJhdXRob3JpemF0aW9uIiwidXJsIiwicGFyYW1zIiwiY2xpZW50SWQiLCJyZWRpcmVjdFVyaSIsInByb2Nlc3MiLCJlbnYiLCJORVhUQVVUSF9VUkwiLCJyZXNwb25zZV90eXBlIiwiZGVidWciLCJ0b2tlbiIsInJlcXVlc3QiLCJjb250ZXh0IiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImdyYW50VHlwZSIsImNsaWVudFNlY3JldCIsImNvZGUiLCJzdGF0ZSIsIm9rIiwiZXJyb3JUZXh0IiwidGV4dCIsImNvbnNvbGUiLCJlcnJvciIsInN0YXR1cyIsInN0YXR1c1RleHQiLCJFcnJvciIsInRva2VucyIsImpzb24iLCJyZXN1bHQiLCJhY2Nlc3NfdG9rZW4iLCJjb250ZW50IiwiYWNjZXNzVG9rZW4iLCJyZWZyZXNoX3Rva2VuIiwicmVmcmVzaFRva2VuIiwidG9rZW5fdHlwZSIsInRva2VuVHlwZSIsImV4cGlyZXNfaW4iLCJleHBpcmVzSW4iLCJ1c2VyaW5mbyIsIkF1dGhvcml6YXRpb24iLCJ1c2VyRGF0YSIsImNoYW5uZWxJZCIsImNoYW5uZWxOYW1lIiwidXNlcklkSGFzaCIsIm5pY2tuYW1lIiwicHJvZmlsZUltYWdlVXJsIiwiY2hhbm5lbEltYWdlVXJsIiwiZm9sbG93ZXJDb3VudCIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsImZhbGxiYWNrVXJscyIsInJlc3BvbnNlVGV4dCIsInBhcnNlIiwicHJvZmlsZSIsImVtYWlsIiwiaW1hZ2UiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/chzzkOAuthProvider.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   connectToDatabase: () => (/* binding */ dbConnect),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error('Please define the MONGODB_URI environment variable inside .env.local');\n}\nlet cached = global.mongoose;\nif (!cached) {\n    cached = global.mongoose = {\n        conn: null,\n        promise: null\n    };\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        // console.log('🔄 기존 MongoDB 연결 재사용');\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        // console.log('🚀 새로운 MongoDB 연결 시작...');\n        // console.log('📍 MongoDB URI:', MONGODB_URI ? 'URI 설정됨' : 'URI 없음');\n        const opts = {\n            bufferCommands: false,\n            serverSelectionTimeoutMS: 8000,\n            connectTimeoutMS: 8000,\n            socketTimeoutMS: 8000,\n            // 재시도 옵션\n            retryWrites: true,\n            retryReads: true,\n            maxPoolSize: 10,\n            minPoolSize: 1,\n            maxIdleTimeMS: 30000,\n            // Heartbeat 옵션\n            heartbeatFrequencyMS: 10000\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            // console.log('✅ MongoDB 연결 성공!');\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        console.error('❌ MongoDB 연결 실패:', e);\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNGLFdBQVc7QUFFM0MsSUFBSSxDQUFDQSxhQUFhO0lBQ2hCLE1BQU0sSUFBSUcsTUFDUjtBQUVKO0FBV0EsSUFBSUMsU0FBU0MsT0FBT04sUUFBUTtBQUU1QixJQUFJLENBQUNLLFFBQVE7SUFDWEEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO1FBQUVPLE1BQU07UUFBTUMsU0FBUztJQUFLO0FBQ3pEO0FBRUEsZUFBZUM7SUFDYixJQUFJSixPQUFPRSxJQUFJLEVBQUU7UUFDZix1Q0FBdUM7UUFDdkMsT0FBT0YsT0FBT0UsSUFBSTtJQUNwQjtJQUVBLElBQUksQ0FBQ0YsT0FBT0csT0FBTyxFQUFFO1FBQ25CLDBDQUEwQztRQUMxQyxzRUFBc0U7UUFFdEUsTUFBTUUsT0FBTztZQUNYQyxnQkFBZ0I7WUFDaEJDLDBCQUEwQjtZQUMxQkMsa0JBQWtCO1lBQ2xCQyxpQkFBaUI7WUFDakIsU0FBUztZQUNUQyxhQUFhO1lBQ2JDLFlBQVk7WUFDWkMsYUFBYTtZQUNiQyxhQUFhO1lBQ2JDLGVBQWU7WUFDZixlQUFlO1lBQ2ZDLHNCQUFzQjtRQUN4QjtRQUVBZixPQUFPRyxPQUFPLEdBQUdSLHVEQUFnQixDQUFDQyxhQUFjUyxNQUFNWSxJQUFJLENBQUMsQ0FBQ3RCO1lBQzFELG1DQUFtQztZQUNuQyxPQUFPQTtRQUNUO0lBQ0Y7SUFFQSxJQUFJO1FBQ0ZLLE9BQU9FLElBQUksR0FBRyxNQUFNRixPQUFPRyxPQUFPO0lBQ3BDLEVBQUUsT0FBT2UsR0FBRztRQUNWQyxRQUFRQyxLQUFLLENBQUMsb0JBQW9CRjtRQUNsQ2xCLE9BQU9HLE9BQU8sR0FBRztRQUNqQixNQUFNZTtJQUNSO0lBRUEsT0FBT2xCLE9BQU9FLElBQUk7QUFDcEI7QUFFQSxpRUFBZUUsU0FBU0EsRUFBQztBQUNpQiIsInNvdXJjZXMiOlsiL21udC9mL0RhdGEvR2l0L2NsYXVkZS1jb2RlL2F5YXVrZS1wYWdlL2F5YXVrZS1wYWdlL3NyYy9saWIvbW9uZ29kYi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnO1xyXG5cclxuY29uc3QgTU9OR09EQl9VUkkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcclxuXHJcbmlmICghTU9OR09EQl9VUkkpIHtcclxuICB0aHJvdyBuZXcgRXJyb3IoXHJcbiAgICAnUGxlYXNlIGRlZmluZSB0aGUgTU9OR09EQl9VUkkgZW52aXJvbm1lbnQgdmFyaWFibGUgaW5zaWRlIC5lbnYubG9jYWwnXHJcbiAgKTtcclxufVxyXG5cclxuaW50ZXJmYWNlIE1vbmdvb3NlQ2FjaGUge1xyXG4gIGNvbm46IHR5cGVvZiBtb25nb29zZSB8IG51bGw7XHJcbiAgcHJvbWlzZTogUHJvbWlzZTx0eXBlb2YgbW9uZ29vc2U+IHwgbnVsbDtcclxufVxyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIHZhciBtb25nb29zZTogTW9uZ29vc2VDYWNoZTtcclxufVxyXG5cclxubGV0IGNhY2hlZCA9IGdsb2JhbC5tb25nb29zZTtcclxuXHJcbmlmICghY2FjaGVkKSB7XHJcbiAgY2FjaGVkID0gZ2xvYmFsLm1vbmdvb3NlID0geyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH07XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpOiBQcm9taXNlPHR5cGVvZiBtb25nb29zZT4ge1xyXG4gIGlmIChjYWNoZWQuY29ubikge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ/CflIQg6riw7KG0IE1vbmdvREIg7Jew6rKwIOyerOyCrOyaqScpO1xyXG4gICAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ/CfmoAg7IOI66Gc7Jq0IE1vbmdvREIg7Jew6rKwIOyLnOyekS4uLicpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ/Cfk40gTW9uZ29EQiBVUkk6JywgTU9OR09EQl9VUkkgPyAnVVJJIOyEpOygleuQqCcgOiAnVVJJIOyXhuydjCcpO1xyXG4gICAgXHJcbiAgICBjb25zdCBvcHRzID0ge1xyXG4gICAgICBidWZmZXJDb21tYW5kczogZmFsc2UsXHJcbiAgICAgIHNlcnZlclNlbGVjdGlvblRpbWVvdXRNUzogODAwMCwgLy8gOOy0iOuhnCDspp3qsIBcclxuICAgICAgY29ubmVjdFRpbWVvdXRNUzogODAwMCxcclxuICAgICAgc29ja2V0VGltZW91dE1TOiA4MDAwLFxyXG4gICAgICAvLyDsnqzsi5zrj4Qg7Ji17IWYXHJcbiAgICAgIHJldHJ5V3JpdGVzOiB0cnVlLFxyXG4gICAgICByZXRyeVJlYWRzOiB0cnVlLFxyXG4gICAgICBtYXhQb29sU2l6ZTogMTAsXHJcbiAgICAgIG1pblBvb2xTaXplOiAxLFxyXG4gICAgICBtYXhJZGxlVGltZU1TOiAzMDAwMCxcclxuICAgICAgLy8gSGVhcnRiZWF0IOyYteyFmFxyXG4gICAgICBoZWFydGJlYXRGcmVxdWVuY3lNUzogMTAwMDAsXHJcbiAgICB9O1xyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSEsIG9wdHMpLnRoZW4oKG1vbmdvb3NlKSA9PiB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKCfinIUgTW9uZ29EQiDsl7DqsrAg7ISx6rO1IScpO1xyXG4gICAgICByZXR1cm4gbW9uZ29vc2U7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjYWNoZWQuY29ubiA9IGF3YWl0IGNhY2hlZC5wcm9taXNlO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBNb25nb0RCIOyXsOqysCDsi6TtjKg6JywgZSk7XHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG51bGw7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3Q7XHJcbmV4cG9ydCB7IGRiQ29ubmVjdCBhcyBjb25uZWN0VG9EYXRhYmFzZSB9OyJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJkYkNvbm5lY3QiLCJvcHRzIiwiYnVmZmVyQ29tbWFuZHMiLCJzZXJ2ZXJTZWxlY3Rpb25UaW1lb3V0TVMiLCJjb25uZWN0VGltZW91dE1TIiwic29ja2V0VGltZW91dE1TIiwicmV0cnlXcml0ZXMiLCJyZXRyeVJlYWRzIiwibWF4UG9vbFNpemUiLCJtaW5Qb29sU2l6ZSIsIm1heElkbGVUaW1lTVMiLCJoZWFydGJlYXRGcmVxdWVuY3lNUyIsImNvbm5lY3QiLCJ0aGVuIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsImNvbm5lY3RUb0RhdGFiYXNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/permissions.ts":
/*!********************************!*\
  !*** ./src/lib/permissions.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Permission: () => (/* binding */ Permission),\n/* harmony export */   UserRole: () => (/* binding */ UserRole),\n/* harmony export */   canAccessAdminPanel: () => (/* binding */ canAccessAdminPanel),\n/* harmony export */   canManageSongs: () => (/* binding */ canManageSongs),\n/* harmony export */   hasPermission: () => (/* binding */ hasPermission),\n/* harmony export */   isSuperAdmin: () => (/* binding */ isSuperAdmin),\n/* harmony export */   roleToIsAdmin: () => (/* binding */ roleToIsAdmin)\n/* harmony export */ });\nvar UserRole = /*#__PURE__*/ function(UserRole) {\n    UserRole[\"SUPER_ADMIN\"] = \"super_admin\";\n    UserRole[\"SONG_ADMIN\"] = \"song_admin\";\n    UserRole[\"AYAUKE_ADMIN\"] = \"ayauke_admin\";\n    UserRole[\"SONG_EDITOR\"] = \"song_editor\";\n    UserRole[\"USER\"] = \"user\";\n    return UserRole;\n}({});\nvar Permission = /*#__PURE__*/ function(Permission) {\n    // 시스템 관리\n    Permission[\"SYSTEM_ADMIN\"] = \"system.admin\";\n    Permission[\"USER_MANAGE\"] = \"users.manage\";\n    // 노래 관리\n    Permission[\"SONGS_VIEW\"] = \"songs.view\";\n    Permission[\"SONGS_CREATE\"] = \"songs.create\";\n    Permission[\"SONGS_EDIT\"] = \"songs.edit\";\n    Permission[\"SONGS_DELETE\"] = \"songs.delete\";\n    Permission[\"SONGS_BULK_EDIT\"] = \"songs.bulk_edit\";\n    Permission[\"SONGS_STATS\"] = \"songs.stats\";\n    return Permission;\n}({});\nconst ROLE_PERMISSIONS = {\n    [\"super_admin\"]: [\n        \"system.admin\",\n        \"users.manage\",\n        \"songs.view\",\n        \"songs.create\",\n        \"songs.edit\",\n        \"songs.delete\",\n        \"songs.bulk_edit\",\n        \"songs.stats\"\n    ],\n    [\"song_admin\"]: [\n        \"songs.view\",\n        \"songs.create\",\n        \"songs.edit\",\n        \"songs.delete\",\n        \"songs.bulk_edit\",\n        \"songs.stats\"\n    ],\n    [\"ayauke_admin\"]: [\n        \"songs.view\",\n        \"songs.create\",\n        \"songs.edit\",\n        \"songs.delete\",\n        \"songs.bulk_edit\",\n        \"songs.stats\"\n    ],\n    [\"song_editor\"]: [\n        \"songs.view\",\n        \"songs.edit\",\n        \"songs.stats\"\n    ],\n    [\"user\"]: []\n};\nfunction hasPermission(userRole, permission) {\n    const permissions = ROLE_PERMISSIONS[userRole] || [];\n    return permissions.includes(permission);\n}\nfunction canAccessAdminPanel(role) {\n    return role !== \"user\";\n}\nfunction isSuperAdmin(role) {\n    return role === \"super_admin\";\n}\nfunction canManageSongs(role) {\n    return hasPermission(role, \"songs.view\");\n}\n// 하위 호환성을 위한 임시 함수 (나중에 제거)\nfunction roleToIsAdmin(role) {\n    return role !== \"user\";\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3Blcm1pc3Npb25zLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBTyxzQ0FBS0E7Ozs7OztXQUFBQTtNQU1YO0FBRU0sd0NBQUtDO0lBQ1YsU0FBUzs7O0lBSVQsUUFBUTs7Ozs7OztXQUxFQTtNQVlYO0FBRUQsTUFBTUMsbUJBQW1CO0lBQ3ZCLGVBQXNCLEVBQUU7Ozs7Ozs7OztLQVN2QjtJQUNELGNBQXFCLEVBQUU7Ozs7Ozs7S0FPdEI7SUFDRCxnQkFBdUIsRUFBRTs7Ozs7OztLQU94QjtJQUNELGVBQXNCLEVBQUU7Ozs7S0FJdkI7SUFDRCxRQUFlLEVBQUUsRUFBRTtBQUNyQjtBQUVPLFNBQVNDLGNBQWNDLFFBQWtCLEVBQUVDLFVBQXNCO0lBQ3RFLE1BQU1DLGNBQWNKLGdCQUFnQixDQUFDRSxTQUFTLElBQUksRUFBRTtJQUNwRCxPQUFPRSxZQUFZQyxRQUFRLENBQUNGO0FBQzlCO0FBRU8sU0FBU0csb0JBQW9CQyxJQUFjO0lBQ2hELE9BQU9BO0FBQ1Q7QUFFTyxTQUFTQyxhQUFhRCxJQUFjO0lBQ3pDLE9BQU9BO0FBQ1Q7QUFFTyxTQUFTRSxlQUFlRixJQUFjO0lBQzNDLE9BQU9OLGNBQWNNO0FBQ3ZCO0FBRUEsNEJBQTRCO0FBQ3JCLFNBQVNHLGNBQWNILElBQWM7SUFDMUMsT0FBT0E7QUFDVCIsInNvdXJjZXMiOlsiL21udC9mL0RhdGEvR2l0L2NsYXVkZS1jb2RlL2F5YXVrZS1wYWdlL2F5YXVrZS1wYWdlL3NyYy9saWIvcGVybWlzc2lvbnMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGVudW0gVXNlclJvbGUge1xyXG4gIFNVUEVSX0FETUlOID0gJ3N1cGVyX2FkbWluJyxcclxuICBTT05HX0FETUlOID0gJ3NvbmdfYWRtaW4nLCBcclxuICBBWUFVS0VfQURNSU4gPSAnYXlhdWtlX2FkbWluJywgLy8g7JWE7JW87Jqw7LyAIOq0gOumrOyekCAoU09OR19BRE1JTuqzvCDrj5nsnbztlZwg6raM7ZWcKVxyXG4gIFNPTkdfRURJVE9SID0gJ3NvbmdfZWRpdG9yJyxcclxuICBVU0VSID0gJ3VzZXInXHJcbn1cclxuXHJcbmV4cG9ydCBlbnVtIFBlcm1pc3Npb24ge1xyXG4gIC8vIOyLnOyKpO2FnCDqtIDrpqxcclxuICBTWVNURU1fQURNSU4gPSAnc3lzdGVtLmFkbWluJyxcclxuICBVU0VSX01BTkFHRSA9ICd1c2Vycy5tYW5hZ2UnLFxyXG4gIFxyXG4gIC8vIOuFuOuemCDqtIDrpqxcclxuICBTT05HU19WSUVXID0gJ3NvbmdzLnZpZXcnLFxyXG4gIFNPTkdTX0NSRUFURSA9ICdzb25ncy5jcmVhdGUnLFxyXG4gIFNPTkdTX0VESVQgPSAnc29uZ3MuZWRpdCcsXHJcbiAgU09OR1NfREVMRVRFID0gJ3NvbmdzLmRlbGV0ZScsXHJcbiAgU09OR1NfQlVMS19FRElUID0gJ3NvbmdzLmJ1bGtfZWRpdCcsXHJcbiAgU09OR1NfU1RBVFMgPSAnc29uZ3Muc3RhdHMnLFxyXG59XHJcblxyXG5jb25zdCBST0xFX1BFUk1JU1NJT05TID0ge1xyXG4gIFtVc2VyUm9sZS5TVVBFUl9BRE1JTl06IFtcclxuICAgIFBlcm1pc3Npb24uU1lTVEVNX0FETUlOLFxyXG4gICAgUGVybWlzc2lvbi5VU0VSX01BTkFHRSxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfVklFVyxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfQ1JFQVRFLFxyXG4gICAgUGVybWlzc2lvbi5TT05HU19FRElULFxyXG4gICAgUGVybWlzc2lvbi5TT05HU19ERUxFVEUsXHJcbiAgICBQZXJtaXNzaW9uLlNPTkdTX0JVTEtfRURJVCxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfU1RBVFMsXHJcbiAgXSxcclxuICBbVXNlclJvbGUuU09OR19BRE1JTl06IFtcclxuICAgIFBlcm1pc3Npb24uU09OR1NfVklFVyxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfQ1JFQVRFLFxyXG4gICAgUGVybWlzc2lvbi5TT05HU19FRElULFxyXG4gICAgUGVybWlzc2lvbi5TT05HU19ERUxFVEUsXHJcbiAgICBQZXJtaXNzaW9uLlNPTkdTX0JVTEtfRURJVCxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfU1RBVFMsXHJcbiAgXSxcclxuICBbVXNlclJvbGUuQVlBVUtFX0FETUlOXTogW1xyXG4gICAgUGVybWlzc2lvbi5TT05HU19WSUVXLFxyXG4gICAgUGVybWlzc2lvbi5TT05HU19DUkVBVEUsXHJcbiAgICBQZXJtaXNzaW9uLlNPTkdTX0VESVQsXHJcbiAgICBQZXJtaXNzaW9uLlNPTkdTX0RFTEVURSxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfQlVMS19FRElULFxyXG4gICAgUGVybWlzc2lvbi5TT05HU19TVEFUUyxcclxuICBdLFxyXG4gIFtVc2VyUm9sZS5TT05HX0VESVRPUl06IFtcclxuICAgIFBlcm1pc3Npb24uU09OR1NfVklFVyxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfRURJVCxcclxuICAgIFBlcm1pc3Npb24uU09OR1NfU1RBVFMsXHJcbiAgXSxcclxuICBbVXNlclJvbGUuVVNFUl06IFtdXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBoYXNQZXJtaXNzaW9uKHVzZXJSb2xlOiBVc2VyUm9sZSwgcGVybWlzc2lvbjogUGVybWlzc2lvbik6IGJvb2xlYW4ge1xyXG4gIGNvbnN0IHBlcm1pc3Npb25zID0gUk9MRV9QRVJNSVNTSU9OU1t1c2VyUm9sZV0gfHwgW11cclxuICByZXR1cm4gcGVybWlzc2lvbnMuaW5jbHVkZXMocGVybWlzc2lvbilcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNhbkFjY2Vzc0FkbWluUGFuZWwocm9sZTogVXNlclJvbGUpOiBib29sZWFuIHtcclxuICByZXR1cm4gcm9sZSAhPT0gVXNlclJvbGUuVVNFUlxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaXNTdXBlckFkbWluKHJvbGU6IFVzZXJSb2xlKTogYm9vbGVhbiB7XHJcbiAgcmV0dXJuIHJvbGUgPT09IFVzZXJSb2xlLlNVUEVSX0FETUlOXHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYW5NYW5hZ2VTb25ncyhyb2xlOiBVc2VyUm9sZSk6IGJvb2xlYW4ge1xyXG4gIHJldHVybiBoYXNQZXJtaXNzaW9uKHJvbGUsIFBlcm1pc3Npb24uU09OR1NfVklFVylcclxufVxyXG5cclxuLy8g7ZWY7JyEIO2YuO2ZmOyEseydhCDsnITtlZwg7J6E7IucIO2VqOyImCAo64KY7KSR7JeQIOygnOqxsClcclxuZXhwb3J0IGZ1bmN0aW9uIHJvbGVUb0lzQWRtaW4ocm9sZTogVXNlclJvbGUpOiBib29sZWFuIHtcclxuICByZXR1cm4gcm9sZSAhPT0gVXNlclJvbGUuVVNFUlxyXG59Il0sIm5hbWVzIjpbIlVzZXJSb2xlIiwiUGVybWlzc2lvbiIsIlJPTEVfUEVSTUlTU0lPTlMiLCJoYXNQZXJtaXNzaW9uIiwidXNlclJvbGUiLCJwZXJtaXNzaW9uIiwicGVybWlzc2lvbnMiLCJpbmNsdWRlcyIsImNhbkFjY2Vzc0FkbWluUGFuZWwiLCJyb2xlIiwiaXNTdXBlckFkbWluIiwiY2FuTWFuYWdlU29uZ3MiLCJyb2xlVG9Jc0FkbWluIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/permissions.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/titleSystem.ts":
/*!********************************!*\
  !*** ./src/lib/titleSystem.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TITLE_DEFINITIONS: () => (/* binding */ TITLE_DEFINITIONS),\n/* harmony export */   checkForNewTitles: () => (/* binding */ checkForNewTitles),\n/* harmony export */   getSelectedTitleInfo: () => (/* binding */ getSelectedTitleInfo),\n/* harmony export */   getTitleDefinition: () => (/* binding */ getTitleDefinition),\n/* harmony export */   getTitleRarityColor: () => (/* binding */ getTitleRarityColor),\n/* harmony export */   grantTitle: () => (/* binding */ grantTitle)\n/* harmony export */ });\n// 칭호 정의들\nconst TITLE_DEFINITIONS = [\n    // 관리자 칭호 (기존 role 기반)\n    {\n        id: \"super_admin\",\n        name: \"최고 관리자\",\n        description: \"사이트의 모든 권한을 가진 최고 관리자입니다\",\n        condition: \"사이트 관리자 권한 보유\",\n        rarity: \"legendary\",\n        checkCondition: (user)=>user.role === \"super_admin\",\n        autoGrant: true\n    },\n    {\n        id: \"ayauke_admin\",\n        name: \"아야냥이\",\n        description: \"스트리머 아야에게 부여되는 특별한 칭호입니다\",\n        condition: \"사이트를 선물받은 스트리머\",\n        rarity: \"epic\",\n        checkCondition: (user)=>user.role === \"ayauke_admin\",\n        autoGrant: true\n    },\n    {\n        id: \"honeyz\",\n        name: \"HONEYZ\",\n        description: \"허니즈에게 부여되는 칭호입니다\",\n        condition: \"허니즈 소속 스트리머\",\n        rarity: \"epic\",\n        checkCondition: (user)=>{\n            const honeyzChannelIds = [\n                \"abe8aa82baf3d3ef54ad8468ee73e7fc\",\n                \"798e100206987b59805cfb75f927e965\",\n                \"b82e8bc2505e37156b2d1140ba1fc05c\",\n                \"c0d9723cbb75dc223c6aa8a9d4f56002\",\n                \"bd07973b6021d72512240c01a386d5c9\",\n                \"65a53076fe1a39636082dd6dba8b8a4b\",\n                \"d6017f757614569add71b0bc83a81382\"\n            ];\n            return honeyzChannelIds.includes(user.channelId);\n        },\n        autoGrant: true\n    },\n    {\n        id: \"song_admin\",\n        name: \"노래 관리자\",\n        description: \"노래 정보를 관리하는 관리자입니다\",\n        condition: \"노래 관리자 권한 보유\",\n        rarity: \"epic\",\n        checkCondition: (user)=>user.role === \"song_admin\",\n        autoGrant: true\n    },\n    {\n        id: \"song_editor\",\n        name: \"편집자\",\n        description: \"노래 정보를 편집할 수 있는 편집자입니다\",\n        condition: \"편집자 권한 보유\",\n        rarity: \"rare\",\n        checkCondition: (user)=>user.role === \"song_editor\",\n        autoGrant: true\n    },\n    // 활동 기반 칭호\n    {\n        id: \"chzzk_user\",\n        name: \"치지직 사용자\",\n        description: \"아야의 팬사이트에 오신 것을 환영합니다!\",\n        condition: \"회원가입 시 자동 부여\",\n        rarity: \"common\",\n        checkCondition: ()=>true,\n        autoGrant: true\n    },\n    {\n        id: \"regular_visitor\",\n        name: \"단골손님\",\n        description: \"자주 방문해주시는 소중한 단골손님입니다\",\n        condition: \"로그인 10회 이상\",\n        rarity: \"common\",\n        checkCondition: (user, stats)=>(stats?.loginCount || 0) >= 10,\n        autoGrant: true\n    },\n    {\n        id: \"music_lover\",\n        name: \"노래 매니아\",\n        description: \"음악을 사랑하는 진정한 매니아입니다\",\n        condition: \"좋아요 50개 이상\",\n        rarity: \"rare\",\n        checkCondition: (user, stats)=>(stats?.likeCount || 0) >= 50,\n        autoGrant: true\n    },\n    {\n        id: \"playlist_curator\",\n        name: \"플레이리스트 큐레이터\",\n        description: \"음악 취향이 뛰어난 플레이리스트 전문가입니다\",\n        condition: \"플레이리스트 5개 이상 생성\",\n        rarity: \"rare\",\n        checkCondition: (user, stats)=>(stats?.playlistCount || 0) >= 5,\n        autoGrant: true\n    },\n    {\n        id: \"loyal_fan\",\n        name: \"충성스러운 팬\",\n        description: \"아야를 꾸준히 응원해주시는 충성스러운 팬입니다\",\n        condition: \"30일 연속 접속\",\n        rarity: \"epic\",\n        checkCondition: (user, stats)=>(stats?.consecutiveDays || 0) >= 30,\n        autoGrant: true\n    },\n    // 특별 칭호 (수동 부여)\n    {\n        id: \"developer_friend\",\n        name: \"개발자의 친구\",\n        description: \"개발자와 특별한 인연이 있는 소중한 친구입니다\",\n        condition: \"개발자가 직접 부여\",\n        rarity: \"legendary\",\n        checkCondition: ()=>false,\n        autoGrant: false\n    },\n    {\n        id: \"beta_tester\",\n        name: \"베타 테스터\",\n        description: \"사이트 초기부터 함께해주신 베타 테스터입니다\",\n        condition: \"특정 기간 가입자\",\n        rarity: \"epic\",\n        checkCondition: ()=>false,\n        autoGrant: false\n    }\n];\n// 칭호 ID로 정의 찾기\nfunction getTitleDefinition(titleId) {\n    return TITLE_DEFINITIONS.find((title)=>title.id === titleId);\n}\n// 희귀도별 색상 반환\nfunction getTitleRarityColor(rarity) {\n    switch(rarity){\n        case \"common\":\n            return \"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-800 dark:border-gray-700\";\n        case \"rare\":\n            return \"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 border border-blue-800 dark:border-blue-700\";\n        case \"epic\":\n            return \"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 border border-purple-800 dark:border-purple-700\";\n        case \"legendary\":\n            return \"bg-yellow-100 dark:bg-yellow-900 text-yellow-800 dark:text-yellow-200 border border-yellow-800 dark:border-yellow-700\";\n        default:\n            return \"bg-gray-100 dark:bg-gray-800 text-gray-800 dark:text-gray-200 border border-gray-800 dark:border-gray-700\";\n    }\n}\n// 사용자가 획득할 수 있는 새로운 칭호 확인\nfunction checkForNewTitles(user, stats) {\n    const currentTitleIds = user.titles.map((title)=>title.id);\n    const newTitles = [];\n    for (const titleDef of TITLE_DEFINITIONS){\n        // 이미 보유한 칭호는 건너뛰기\n        if (currentTitleIds.includes(titleDef.id)) continue;\n        // 자동 부여 칭호만 체크\n        if (!titleDef.autoGrant) continue;\n        // 조건 확인\n        if (titleDef.checkCondition(user, stats)) {\n            newTitles.push(titleDef);\n        }\n    }\n    return newTitles;\n}\n// 사용자에게 칭호 부여\nfunction grantTitle(user, titleDef) {\n    console.log(\"🏆 칭호 부여 시도:\", {\n        titleId: titleDef.id,\n        titleName: titleDef.name\n    });\n    // 이미 보유한 칭호인지 확인\n    const alreadyHas = user.titles.some((title)=>title.id === titleDef.id);\n    if (alreadyHas) {\n        console.log(\"🏆 이미 보유한 칭호:\", titleDef.name);\n        return false;\n    }\n    // 칭호 추가\n    const newTitle = {\n        id: titleDef.id,\n        name: titleDef.name,\n        description: titleDef.description,\n        earnedAt: new Date(),\n        condition: titleDef.condition,\n        rarity: titleDef.rarity\n    };\n    console.log(\"🏆 칭호 추가 전 titles.length:\", user.titles.length);\n    user.titles.push(newTitle);\n    console.log(\"🏆 칭호 추가 후 titles.length:\", user.titles.length);\n    console.log(\"🏆 추가된 칭호:\", newTitle);\n    // 첫 번째 칭호라면 자동으로 선택\n    if (!user.selectedTitle) {\n        user.selectedTitle = titleDef.id;\n        console.log(\"🏆 첫 번째 칭호로 선택됨:\", titleDef.id);\n    }\n    return true;\n}\n// 선택된 칭호 정보 가져오기\nfunction getSelectedTitleInfo(user) {\n    if (!user.selectedTitle) return null;\n    const selectedTitle = user.titles.find((title)=>title.id === user.selectedTitle);\n    if (!selectedTitle) return null;\n    // Mongoose 객체를 순수한 JavaScript 객체로 변환\n    const titleObj = typeof selectedTitle.toObject === \"function\" ? selectedTitle.toObject() : JSON.parse(JSON.stringify(selectedTitle));\n    return {\n        id: titleObj.id,\n        name: titleObj.name,\n        description: titleObj.description,\n        rarity: titleObj.rarity,\n        colorClass: getTitleRarityColor(titleObj.rarity)\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL2xpYi90aXRsZVN5c3RlbS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJVXNlciB9IGZyb20gXCJAL21vZGVscy9Vc2VyXCI7XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFRpdGxlRGVmaW5pdGlvbiB7XHJcbiAgaWQ6IHN0cmluZztcclxuICBuYW1lOiBzdHJpbmc7XHJcbiAgZGVzY3JpcHRpb246IHN0cmluZztcclxuICBjb25kaXRpb246IHN0cmluZztcclxuICByYXJpdHk6IFwiY29tbW9uXCIgfCBcInJhcmVcIiB8IFwiZXBpY1wiIHwgXCJsZWdlbmRhcnlcIjtcclxuICBjaGVja0NvbmRpdGlvbjogKHVzZXI6IElVc2VyLCBzdGF0cz86IGFueSkgPT4gYm9vbGVhbjtcclxuICBhdXRvR3JhbnQ6IGJvb2xlYW47IC8vIOyekOuPmSDrtoDsl6wg7Jes67aAXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgVXNlclN0YXRzIHtcclxuICBsaWtlQ291bnQ6IG51bWJlcjtcclxuICBwbGF5bGlzdENvdW50OiBudW1iZXI7XHJcbiAgbG9naW5Db3VudDogbnVtYmVyO1xyXG4gIGNvbnNlY3V0aXZlRGF5czogbnVtYmVyO1xyXG59XHJcblxyXG4vLyDsua3tmLgg7KCV7J2Y65OkXHJcbmV4cG9ydCBjb25zdCBUSVRMRV9ERUZJTklUSU9OUzogVGl0bGVEZWZpbml0aW9uW10gPSBbXHJcbiAgLy8g6rSA66as7J6QIOy5re2YuCAo6riw7KG0IHJvbGUg6riw67CYKVxyXG4gIHtcclxuICAgIGlkOiBcInN1cGVyX2FkbWluXCIsXHJcbiAgICBuYW1lOiBcIuy1nOqzoCDqtIDrpqzsnpBcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIuyCrOydtO2KuOydmCDrqqjrk6Ag6raM7ZWc7J2EIOqwgOynhCDstZzqs6Ag6rSA66as7J6Q7J6F64uI64ukXCIsXHJcbiAgICBjb25kaXRpb246IFwi7IKs7J207Yq4IOq0gOumrOyekCDqtoztlZwg67O07JygXCIsXHJcbiAgICByYXJpdHk6IFwibGVnZW5kYXJ5XCIsXHJcbiAgICBjaGVja0NvbmRpdGlvbjogKHVzZXIpID0+IHVzZXIucm9sZSA9PT0gXCJzdXBlcl9hZG1pblwiLFxyXG4gICAgYXV0b0dyYW50OiB0cnVlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IFwiYXlhdWtlX2FkbWluXCIsXHJcbiAgICBuYW1lOiBcIuyVhOyVvOuDpeydtFwiLFxyXG4gICAgZGVzY3JpcHRpb246IFwi7Iqk7Yq466as66i4IOyVhOyVvOyXkOqyjCDrtoDsl6zrkJjripQg7Yq567OE7ZWcIOy5re2YuOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIuyCrOydtO2KuOulvCDshKDrrLzrsJvsnYAg7Iqk7Yq466as66i4XCIsXHJcbiAgICByYXJpdHk6IFwiZXBpY1wiLFxyXG4gICAgY2hlY2tDb25kaXRpb246ICh1c2VyKSA9PiB1c2VyLnJvbGUgPT09IFwiYXlhdWtlX2FkbWluXCIsXHJcbiAgICBhdXRvR3JhbnQ6IHRydWUsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogXCJob25leXpcIixcclxuICAgIG5hbWU6IFwiSE9ORVlaXCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCLtl4jri4jspojsl5Dqsowg67aA7Jes65CY64qUIOy5re2YuOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIu2XiOuLiOymiCDshozsho0g7Iqk7Yq466as66i4XCIsXHJcbiAgICByYXJpdHk6IFwiZXBpY1wiLFxyXG4gICAgY2hlY2tDb25kaXRpb246ICh1c2VyKSA9PiB7XHJcbiAgICAgIGNvbnN0IGhvbmV5ekNoYW5uZWxJZHMgPSBbXHJcbiAgICAgICAgXCJhYmU4YWE4MmJhZjNkM2VmNTRhZDg0NjhlZTczZTdmY1wiLCAvLyDslYTslbxcclxuICAgICAgICBcIjc5OGUxMDAyMDY5ODdiNTk4MDVjZmI3NWY5MjdlOTY1XCIsIC8vIOuUlOuUlOuUlOyaqVxyXG4gICAgICAgIFwiYjgyZThiYzI1MDVlMzcxNTZiMmQxMTQwYmExZmMwNWNcIiwgLy8g64u07Jyg7J20XHJcbiAgICAgICAgXCJjMGQ5NzIzY2JiNzVkYzIyM2M2YWE4YTlkNGY1NjAwMlwiLCAvLyDtl4jri4jsuITrn6zsiqRcclxuICAgICAgICBcImJkMDc5NzNiNjAyMWQ3MjUxMjI0MGMwMWEzODZkNWM5XCIsIC8vIOunneuCtFxyXG4gICAgICAgIFwiNjVhNTMwNzZmZTFhMzk2MzYwODJkZDZkYmE4YjhhNGJcIiwgLy8g7Jik7ZmU7JqUXHJcbiAgICAgICAgXCJkNjAxN2Y3NTc2MTQ1NjlhZGQ3MWIwYmM4M2E4MTM4MlwiLCAvLyDthYzsiqTtirhcclxuICAgICAgXTtcclxuICAgICAgcmV0dXJuIGhvbmV5ekNoYW5uZWxJZHMuaW5jbHVkZXModXNlci5jaGFubmVsSWQpO1xyXG4gICAgfSxcclxuICAgIGF1dG9HcmFudDogdHJ1ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiBcInNvbmdfYWRtaW5cIixcclxuICAgIG5hbWU6IFwi64W4656YIOq0gOumrOyekFwiLFxyXG4gICAgZGVzY3JpcHRpb246IFwi64W4656YIOygleuztOulvCDqtIDrpqztlZjripQg6rSA66as7J6Q7J6F64uI64ukXCIsXHJcbiAgICBjb25kaXRpb246IFwi64W4656YIOq0gOumrOyekCDqtoztlZwg67O07JygXCIsXHJcbiAgICByYXJpdHk6IFwiZXBpY1wiLFxyXG4gICAgY2hlY2tDb25kaXRpb246ICh1c2VyKSA9PiB1c2VyLnJvbGUgPT09IFwic29uZ19hZG1pblwiLFxyXG4gICAgYXV0b0dyYW50OiB0cnVlLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgaWQ6IFwic29uZ19lZGl0b3JcIixcclxuICAgIG5hbWU6IFwi7Y647KeR7J6QXCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCLrhbjrnpgg7KCV67O066W8IO2OuOynke2VoCDsiJgg7J6I64qUIO2OuOynkeyekOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIu2OuOynkeyekCDqtoztlZwg67O07JygXCIsXHJcbiAgICByYXJpdHk6IFwicmFyZVwiLFxyXG4gICAgY2hlY2tDb25kaXRpb246ICh1c2VyKSA9PiB1c2VyLnJvbGUgPT09IFwic29uZ19lZGl0b3JcIixcclxuICAgIGF1dG9HcmFudDogdHJ1ZSxcclxuICB9LFxyXG5cclxuICAvLyDtmZzrj5kg6riw67CYIOy5re2YuFxyXG4gIHtcclxuICAgIGlkOiBcImNoenprX3VzZXJcIixcclxuICAgIG5hbWU6IFwi7LmY7KeA7KeBIOyCrOyaqeyekFwiLFxyXG4gICAgZGVzY3JpcHRpb246IFwi7JWE7JW87J2YIO2MrOyCrOydtO2KuOyXkCDsmKTsi6Ag6rKD7J2EIO2ZmOyYge2VqeuLiOuLpCFcIixcclxuICAgIGNvbmRpdGlvbjogXCLtmozsm5DqsIDsnoUg7IucIOyekOuPmSDrtoDsl6xcIixcclxuICAgIHJhcml0eTogXCJjb21tb25cIixcclxuICAgIGNoZWNrQ29uZGl0aW9uOiAoKSA9PiB0cnVlLCAvLyDrqqjrk6Ag7Iug6recIOyCrOyaqeyekOyXkOqyjCDrtoDsl6xcclxuICAgIGF1dG9HcmFudDogdHJ1ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiBcInJlZ3VsYXJfdmlzaXRvclwiLFxyXG4gICAgbmFtZTogXCLri6jqs6jshpDri5hcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIuyekOyjvCDrsKnrrLjtlbTso7zsi5zripQg7IaM7KSR7ZWcIOuLqOqzqOyGkOuLmOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIuuhnOq3uOyduCAxMO2ajCDsnbTsg4FcIixcclxuICAgIHJhcml0eTogXCJjb21tb25cIixcclxuICAgIGNoZWNrQ29uZGl0aW9uOiAodXNlciwgc3RhdHMpID0+IChzdGF0cz8ubG9naW5Db3VudCB8fCAwKSA+PSAxMCxcclxuICAgIGF1dG9HcmFudDogdHJ1ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiBcIm11c2ljX2xvdmVyXCIsXHJcbiAgICBuYW1lOiBcIuuFuOuemCDrp6Tri4jslYRcIixcclxuICAgIGRlc2NyaXB0aW9uOiBcIuydjOyVheydhCDsgqzrnpHtlZjripQg7KeE7KCV7ZWcIOunpOuLiOyVhOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIuyii+yVhOyalCA1MOqwnCDsnbTsg4FcIixcclxuICAgIHJhcml0eTogXCJyYXJlXCIsXHJcbiAgICBjaGVja0NvbmRpdGlvbjogKHVzZXIsIHN0YXRzKSA9PiAoc3RhdHM/Lmxpa2VDb3VudCB8fCAwKSA+PSA1MCxcclxuICAgIGF1dG9HcmFudDogdHJ1ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiBcInBsYXlsaXN0X2N1cmF0b3JcIixcclxuICAgIG5hbWU6IFwi7ZSM66CI7J2066as7Iqk7Yq4IO2BkOugiOydtO2EsFwiLFxyXG4gICAgZGVzY3JpcHRpb246IFwi7J2M7JWFIOy3qO2WpeydtCDrm7DslrTrgpwg7ZSM66CI7J2066as7Iqk7Yq4IOyghOusuOqwgOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIu2UjOugiOydtOumrOyKpO2KuCA16rCcIOydtOyDgSDsg53shLFcIixcclxuICAgIHJhcml0eTogXCJyYXJlXCIsXHJcbiAgICBjaGVja0NvbmRpdGlvbjogKHVzZXIsIHN0YXRzKSA9PiAoc3RhdHM/LnBsYXlsaXN0Q291bnQgfHwgMCkgPj0gNSxcclxuICAgIGF1dG9HcmFudDogdHJ1ZSxcclxuICB9LFxyXG4gIHtcclxuICAgIGlkOiBcImxveWFsX2ZhblwiLFxyXG4gICAgbmFtZTogXCLstqnshLHsiqTrn6zsmrQg7YysXCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCLslYTslbzrpbwg6r647KSA7Z6IIOydkeybkO2VtOyjvOyLnOuKlCDstqnshLHsiqTrn6zsmrQg7Yys7J6F64uI64ukXCIsXHJcbiAgICBjb25kaXRpb246IFwiMzDsnbwg7Jew7IaNIOygkeyGjVwiLFxyXG4gICAgcmFyaXR5OiBcImVwaWNcIixcclxuICAgIGNoZWNrQ29uZGl0aW9uOiAodXNlciwgc3RhdHMpID0+IChzdGF0cz8uY29uc2VjdXRpdmVEYXlzIHx8IDApID49IDMwLFxyXG4gICAgYXV0b0dyYW50OiB0cnVlLFxyXG4gIH0sXHJcblxyXG4gIC8vIO2KueuzhCDsua3tmLggKOyImOuPmSDrtoDsl6wpXHJcbiAge1xyXG4gICAgaWQ6IFwiZGV2ZWxvcGVyX2ZyaWVuZFwiLFxyXG4gICAgbmFtZTogXCLqsJzrsJzsnpDsnZgg7Lmc6rWsXCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCLqsJzrsJzsnpDsmYAg7Yq567OE7ZWcIOyduOyXsOydtCDsnojripQg7IaM7KSR7ZWcIOy5nOq1rOyeheuLiOuLpFwiLFxyXG4gICAgY29uZGl0aW9uOiBcIuqwnOuwnOyekOqwgCDsp4HsoJEg67aA7JesXCIsXHJcbiAgICByYXJpdHk6IFwibGVnZW5kYXJ5XCIsXHJcbiAgICBjaGVja0NvbmRpdGlvbjogKCkgPT4gZmFsc2UsIC8vIOyImOuPmSDrtoDsl6zrp4xcclxuICAgIGF1dG9HcmFudDogZmFsc2UsXHJcbiAgfSxcclxuICB7XHJcbiAgICBpZDogXCJiZXRhX3Rlc3RlclwiLFxyXG4gICAgbmFtZTogXCLrsqDtg4Ag7YWM7Iqk7YSwXCIsXHJcbiAgICBkZXNjcmlwdGlvbjogXCLsgqzsnbTtirgg7LSI6riw67aA7YSwIO2VqOq7mO2VtOyjvOyLoCDrsqDtg4Ag7YWM7Iqk7YSw7J6F64uI64ukXCIsXHJcbiAgICBjb25kaXRpb246IFwi7Yq57KCVIOq4sOqwhCDqsIDsnoXsnpBcIixcclxuICAgIHJhcml0eTogXCJlcGljXCIsXHJcbiAgICBjaGVja0NvbmRpdGlvbjogKCkgPT4gZmFsc2UsIC8vIOyImOuPmSDrtoDsl6zrp4xcclxuICAgIGF1dG9HcmFudDogZmFsc2UsXHJcbiAgfSxcclxuXTtcclxuXHJcbi8vIOy5re2YuCBJROuhnCDsoJXsnZgg7LC+6riwXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZURlZmluaXRpb24oXHJcbiAgdGl0bGVJZDogc3RyaW5nXHJcbik6IFRpdGxlRGVmaW5pdGlvbiB8IHVuZGVmaW5lZCB7XHJcbiAgcmV0dXJuIFRJVExFX0RFRklOSVRJT05TLmZpbmQoKHRpdGxlKSA9PiB0aXRsZS5pZCA9PT0gdGl0bGVJZCk7XHJcbn1cclxuXHJcbi8vIO2drOq3gOuPhOuzhCDsg4nsg4Eg67CY7ZmYXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUaXRsZVJhcml0eUNvbG9yKHJhcml0eTogc3RyaW5nKTogc3RyaW5nIHtcclxuICBzd2l0Y2ggKHJhcml0eSkge1xyXG4gICAgY2FzZSBcImNvbW1vblwiOlxyXG4gICAgICByZXR1cm4gXCJiZy1ncmF5LTEwMCBkYXJrOmJnLWdyYXktODAwIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwIGJvcmRlciBib3JkZXItZ3JheS04MDAgZGFyazpib3JkZXItZ3JheS03MDBcIjtcclxuICAgIGNhc2UgXCJyYXJlXCI6XHJcbiAgICAgIHJldHVybiBcImJnLWJsdWUtMTAwIGRhcms6YmctYmx1ZS05MDAgdGV4dC1ibHVlLTgwMCBkYXJrOnRleHQtYmx1ZS0yMDAgYm9yZGVyIGJvcmRlci1ibHVlLTgwMCBkYXJrOmJvcmRlci1ibHVlLTcwMFwiO1xyXG4gICAgY2FzZSBcImVwaWNcIjpcclxuICAgICAgcmV0dXJuIFwiYmctcHVycGxlLTEwMCBkYXJrOmJnLXB1cnBsZS05MDAgdGV4dC1wdXJwbGUtODAwIGRhcms6dGV4dC1wdXJwbGUtMjAwIGJvcmRlciBib3JkZXItcHVycGxlLTgwMCBkYXJrOmJvcmRlci1wdXJwbGUtNzAwXCI7XHJcbiAgICBjYXNlIFwibGVnZW5kYXJ5XCI6XHJcbiAgICAgIHJldHVybiBcImJnLXllbGxvdy0xMDAgZGFyazpiZy15ZWxsb3ctOTAwIHRleHQteWVsbG93LTgwMCBkYXJrOnRleHQteWVsbG93LTIwMCBib3JkZXIgYm9yZGVyLXllbGxvdy04MDAgZGFyazpib3JkZXIteWVsbG93LTcwMFwiO1xyXG4gICAgZGVmYXVsdDpcclxuICAgICAgcmV0dXJuIFwiYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTgwMCB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMCBib3JkZXIgYm9yZGVyLWdyYXktODAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCI7XHJcbiAgfVxyXG59XHJcblxyXG4vLyDsgqzsmqnsnpDqsIAg7ZqN65Od7ZWgIOyImCDsnojripQg7IOI66Gc7Jq0IOy5re2YuCDtmZXsnbhcclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRm9yTmV3VGl0bGVzKFxyXG4gIHVzZXI6IElVc2VyLFxyXG4gIHN0YXRzPzogVXNlclN0YXRzXHJcbik6IFRpdGxlRGVmaW5pdGlvbltdIHtcclxuICBjb25zdCBjdXJyZW50VGl0bGVJZHMgPSB1c2VyLnRpdGxlcy5tYXAoKHRpdGxlKSA9PiB0aXRsZS5pZCk7XHJcbiAgY29uc3QgbmV3VGl0bGVzOiBUaXRsZURlZmluaXRpb25bXSA9IFtdO1xyXG5cclxuICBmb3IgKGNvbnN0IHRpdGxlRGVmIG9mIFRJVExFX0RFRklOSVRJT05TKSB7XHJcbiAgICAvLyDsnbTrr7gg67O07Jyg7ZWcIOy5re2YuOuKlCDqsbTrhIjrm7DquLBcclxuICAgIGlmIChjdXJyZW50VGl0bGVJZHMuaW5jbHVkZXModGl0bGVEZWYuaWQpKSBjb250aW51ZTtcclxuXHJcbiAgICAvLyDsnpDrj5kg67aA7JesIOy5re2YuOunjCDssrTtgaxcclxuICAgIGlmICghdGl0bGVEZWYuYXV0b0dyYW50KSBjb250aW51ZTtcclxuXHJcbiAgICAvLyDsobDqsbQg7ZmV7J24XHJcbiAgICBpZiAodGl0bGVEZWYuY2hlY2tDb25kaXRpb24odXNlciwgc3RhdHMpKSB7XHJcbiAgICAgIG5ld1RpdGxlcy5wdXNoKHRpdGxlRGVmKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiBuZXdUaXRsZXM7XHJcbn1cclxuXHJcbi8vIOyCrOyaqeyekOyXkOqyjCDsua3tmLgg67aA7JesXHJcbmV4cG9ydCBmdW5jdGlvbiBncmFudFRpdGxlKHVzZXI6IElVc2VyLCB0aXRsZURlZjogVGl0bGVEZWZpbml0aW9uKTogYm9vbGVhbiB7XHJcbiAgY29uc29sZS5sb2coXCLwn4+GIOy5re2YuCDrtoDsl6wg7Iuc64+EOlwiLCB7XHJcbiAgICB0aXRsZUlkOiB0aXRsZURlZi5pZCxcclxuICAgIHRpdGxlTmFtZTogdGl0bGVEZWYubmFtZSxcclxuICB9KTtcclxuXHJcbiAgLy8g7J2066+4IOuztOycoO2VnCDsua3tmLjsnbjsp4Ag7ZmV7J24XHJcbiAgY29uc3QgYWxyZWFkeUhhcyA9IHVzZXIudGl0bGVzLnNvbWUoKHRpdGxlKSA9PiB0aXRsZS5pZCA9PT0gdGl0bGVEZWYuaWQpO1xyXG4gIGlmIChhbHJlYWR5SGFzKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcIvCfj4Yg7J2066+4IOuztOycoO2VnCDsua3tmLg6XCIsIHRpdGxlRGVmLm5hbWUpO1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLy8g7Lmt7Zi4IOy2lOqwgFxyXG4gIGNvbnN0IG5ld1RpdGxlID0ge1xyXG4gICAgaWQ6IHRpdGxlRGVmLmlkLFxyXG4gICAgbmFtZTogdGl0bGVEZWYubmFtZSxcclxuICAgIGRlc2NyaXB0aW9uOiB0aXRsZURlZi5kZXNjcmlwdGlvbixcclxuICAgIGVhcm5lZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgY29uZGl0aW9uOiB0aXRsZURlZi5jb25kaXRpb24sXHJcbiAgICByYXJpdHk6IHRpdGxlRGVmLnJhcml0eSxcclxuICB9O1xyXG5cclxuICBjb25zb2xlLmxvZyhcIvCfj4Yg7Lmt7Zi4IOy2lOqwgCDsoIQgdGl0bGVzLmxlbmd0aDpcIiwgdXNlci50aXRsZXMubGVuZ3RoKTtcclxuICB1c2VyLnRpdGxlcy5wdXNoKG5ld1RpdGxlKTtcclxuICBjb25zb2xlLmxvZyhcIvCfj4Yg7Lmt7Zi4IOy2lOqwgCDtm4QgdGl0bGVzLmxlbmd0aDpcIiwgdXNlci50aXRsZXMubGVuZ3RoKTtcclxuICBjb25zb2xlLmxvZyhcIvCfj4Yg7LaU6rCA65CcIOy5re2YuDpcIiwgbmV3VGl0bGUpO1xyXG5cclxuICAvLyDssqsg67KI7Ke4IOy5re2YuOudvOuptCDsnpDrj5nsnLzroZwg7ISg7YOdXHJcbiAgaWYgKCF1c2VyLnNlbGVjdGVkVGl0bGUpIHtcclxuICAgIHVzZXIuc2VsZWN0ZWRUaXRsZSA9IHRpdGxlRGVmLmlkO1xyXG4gICAgY29uc29sZS5sb2coXCLwn4+GIOyyqyDrsojsp7gg7Lmt7Zi466GcIOyEoO2DneuQqDpcIiwgdGl0bGVEZWYuaWQpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8vIOyEoO2DneuQnCDsua3tmLgg7KCV67O0IOqwgOyguOyYpOq4sFxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRUaXRsZUluZm8odXNlcjogSVVzZXIpIHtcclxuICBpZiAoIXVzZXIuc2VsZWN0ZWRUaXRsZSkgcmV0dXJuIG51bGw7XHJcblxyXG4gIGNvbnN0IHNlbGVjdGVkVGl0bGUgPSB1c2VyLnRpdGxlcy5maW5kKFxyXG4gICAgKHRpdGxlKSA9PiB0aXRsZS5pZCA9PT0gdXNlci5zZWxlY3RlZFRpdGxlXHJcbiAgKTtcclxuICBpZiAoIXNlbGVjdGVkVGl0bGUpIHJldHVybiBudWxsO1xyXG5cclxuICAvLyBNb25nb29zZSDqsJ3ssrTrpbwg7Iic7IiY7ZWcIEphdmFTY3JpcHQg6rCd7LK066GcIOuzgO2ZmFxyXG4gIGNvbnN0IHRpdGxlT2JqID1cclxuICAgIHR5cGVvZiBzZWxlY3RlZFRpdGxlLnRvT2JqZWN0ID09PSBcImZ1bmN0aW9uXCJcclxuICAgICAgPyBzZWxlY3RlZFRpdGxlLnRvT2JqZWN0KClcclxuICAgICAgOiBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHNlbGVjdGVkVGl0bGUpKTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGlkOiB0aXRsZU9iai5pZCxcclxuICAgIG5hbWU6IHRpdGxlT2JqLm5hbWUsXHJcbiAgICBkZXNjcmlwdGlvbjogdGl0bGVPYmouZGVzY3JpcHRpb24sXHJcbiAgICByYXJpdHk6IHRpdGxlT2JqLnJhcml0eSxcclxuICAgIGNvbG9yQ2xhc3M6IGdldFRpdGxlUmFyaXR5Q29sb3IodGl0bGVPYmoucmFyaXR5KSxcclxuICB9O1xyXG59XHJcbiJdLCJuYW1lcyI6WyJUSVRMRV9ERUZJTklUSU9OUyIsImlkIiwibmFtZSIsImRlc2NyaXB0aW9uIiwiY29uZGl0aW9uIiwicmFyaXR5IiwiY2hlY2tDb25kaXRpb24iLCJ1c2VyIiwicm9sZSIsImF1dG9HcmFudCIsImhvbmV5ekNoYW5uZWxJZHMiLCJpbmNsdWRlcyIsImNoYW5uZWxJZCIsInN0YXRzIiwibG9naW5Db3VudCIsImxpa2VDb3VudCIsInBsYXlsaXN0Q291bnQiLCJjb25zZWN1dGl2ZURheXMiLCJnZXRUaXRsZURlZmluaXRpb24iLCJ0aXRsZUlkIiwiZmluZCIsInRpdGxlIiwiZ2V0VGl0bGVSYXJpdHlDb2xvciIsImNoZWNrRm9yTmV3VGl0bGVzIiwiY3VycmVudFRpdGxlSWRzIiwidGl0bGVzIiwibWFwIiwibmV3VGl0bGVzIiwidGl0bGVEZWYiLCJwdXNoIiwiZ3JhbnRUaXRsZSIsImNvbnNvbGUiLCJsb2ciLCJ0aXRsZU5hbWUiLCJhbHJlYWR5SGFzIiwic29tZSIsIm5ld1RpdGxlIiwiZWFybmVkQXQiLCJEYXRlIiwibGVuZ3RoIiwic2VsZWN0ZWRUaXRsZSIsImdldFNlbGVjdGVkVGl0bGVJbmZvIiwidGl0bGVPYmoiLCJ0b09iamVjdCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsImNvbG9yQ2xhc3MiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/titleSystem.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/userService.ts":
/*!********************************!*\
  !*** ./src/lib/userService.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createOrUpdateUser: () => (/* binding */ createOrUpdateUser),\n/* harmony export */   getAdminUsers: () => (/* binding */ getAdminUsers),\n/* harmony export */   getUserByChannelId: () => (/* binding */ getUserByChannelId),\n/* harmony export */   getUserStats: () => (/* binding */ getUserStats),\n/* harmony export */   updateUserPreferences: () => (/* binding */ updateUserPreferences)\n/* harmony export */ });\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/models/User */ \"(rsc)/./src/models/User.ts\");\n/* harmony import */ var _lib_adminChannels__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/adminChannels */ \"(rsc)/./src/lib/adminChannels.ts\");\n/* harmony import */ var _lib_titleSystem__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/titleSystem */ \"(rsc)/./src/lib/titleSystem.ts\");\n\n\n\n/**\r\n * 사용자 생성 또는 업데이트 (로그인 시 호출)\r\n */ async function createOrUpdateUser(userData) {\n    try {\n        const staticRole = (0,_lib_adminChannels__WEBPACK_IMPORTED_MODULE_1__.getStaticUserRole)(userData.channelId);\n        // 기존 사용자 찾기\n        let user = await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n            channelId: userData.channelId\n        });\n        if (user) {\n            // 기존 사용자 업데이트\n            const oldChannelName = user.channelName;\n            const newChannelName = userData.channelName;\n            // channelName 변경 감지 및 이력 추가\n            if (oldChannelName !== newChannelName) {\n                user.channelNameHistory.push({\n                    channelName: newChannelName,\n                    changedAt: new Date(),\n                    source: \"login\"\n                });\n                console.log(`치지직 채널명 변경 감지: ${oldChannelName} → ${newChannelName}`);\n            }\n            user.channelName = newChannelName;\n            // displayName이 없으면 channelName으로 설정하지 않음 (프로필 수정 시에만 생성)\n            user.profileImageUrl = userData.profileImageUrl || user.profileImageUrl;\n            // 정적 권한이 현재 권한보다 높으면 업데이트\n            // if (staticRole !== 'user' && (user.role === 'user' || staticRole === 'super_admin')) {\n            //   user.role = staticRole\n            //   console.log(`사용자 권한 업데이트: ${userData.channelName} → ${staticRole}`)\n            // }\n            user.lastLoginAt = new Date();\n            // 기존 사용자의 칭호 필드가 없으면 초기화\n            if (!user.titles) {\n                user.titles = [];\n            }\n            if (user.selectedTitle === undefined) {\n                user.selectedTitle = null;\n            }\n            // 칭호 체크 및 부여\n            await checkAndGrantTitles(user);\n            const savedUser = await user.save();\n            console.log(`기존 사용자 업데이트: ${userData.channelName} (${userData.channelId})`);\n            // 저장 후 실제 DB 상태 확인\n            console.log(\"🏆 저장 후 DB 상태:\", {\n                titlesCount: savedUser.titles?.length || 0,\n                selectedTitle: savedUser.selectedTitle,\n                titles: savedUser.titles?.map((t)=>t.name) || []\n            });\n            // DB에서 다시 조회해서 실제 저장 확인\n            const reloadedUser = await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n                channelId: userData.channelId\n            });\n            console.log(\"🏆 DB 재조회 결과:\", {\n                titlesCount: reloadedUser?.titles?.length || 0,\n                selectedTitle: reloadedUser?.selectedTitle,\n                titles: reloadedUser?.titles?.map((t)=>t.name) || []\n            });\n        } else {\n            // 새 사용자 생성\n            user = new _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"]({\n                channelId: userData.channelId,\n                channelName: userData.channelName,\n                displayName: userData.channelName,\n                profileImageUrl: userData.profileImageUrl,\n                role: staticRole,\n                lastLoginAt: new Date(),\n                channelNameHistory: [\n                    {\n                        channelName: userData.channelName,\n                        changedAt: new Date(),\n                        source: \"initial\"\n                    }\n                ],\n                titles: [],\n                selectedTitle: null,\n                preferences: {\n                    theme: \"system\",\n                    defaultPlaylistView: \"grid\"\n                }\n            });\n            // 신규 사용자 칭호 체크 및 부여\n            await checkAndGrantTitles(user);\n            await user.save();\n            console.log(`새 사용자 생성: ${userData.channelName} (${userData.channelId}) - 권한: ${staticRole}`);\n        }\n        return user;\n    } catch (error) {\n        console.error(\"사용자 생성/업데이트 오류:\", error);\n        throw error;\n    }\n}\n/**\r\n * 사용자 정보 조회\r\n */ async function getUserByChannelId(channelId) {\n    try {\n        return await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n            channelId\n        });\n    } catch (error) {\n        console.error(\"사용자 조회 오류:\", error);\n        return null;\n    }\n}\n/**\r\n * 사용자 환경설정 업데이트\r\n */ async function updateUserPreferences(channelId, preferences) {\n    try {\n        const user = await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].findOne({\n            channelId\n        });\n        if (!user) return null;\n        user.preferences = {\n            ...user.preferences,\n            ...preferences\n        };\n        await user.save();\n        return user;\n    } catch (error) {\n        console.error(\"사용자 환경설정 업데이트 오류:\", error);\n        return null;\n    }\n}\n/**\r\n * 관리자 목록 조회\r\n */ async function getAdminUsers() {\n    try {\n        return await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].find({\n            role: {\n                $ne: \"user\"\n            }\n        }).sort({\n            lastLoginAt: -1\n        });\n    } catch (error) {\n        console.error(\"관리자 목록 조회 오류:\", error);\n        return [];\n    }\n}\n/**\r\n * 활성 사용자 통계\r\n */ async function getUserStats() {\n    try {\n        const totalUsers = await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countDocuments();\n        const activeUsers = await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countDocuments({\n            lastLoginAt: {\n                $gte: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000)\n            }\n        });\n        const adminUsers = await _models_User__WEBPACK_IMPORTED_MODULE_0__[\"default\"].countDocuments({\n            role: {\n                $ne: \"user\"\n            }\n        });\n        return {\n            totalUsers,\n            activeUsers,\n            adminUsers\n        };\n    } catch (error) {\n        console.error(\"사용자 통계 조회 오류:\", error);\n        return {\n            totalUsers: 0,\n            activeUsers: 0,\n            adminUsers: 0\n        };\n    }\n}\n/**\r\n * 사용자 통계 수집\r\n */ async function getUserStatsForTitles(user) {\n    try {\n        // Like 모델에서 해당 사용자의 좋아요 수 조회\n        const Like = (await __webpack_require__.e(/*! import() */ \"_rsc_src_models_Like_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/models/Like */ \"(rsc)/./src/models/Like.ts\"))).default;\n        const likeCount = await Like.countDocuments({\n            userId: user._id\n        });\n        // Playlist 모델에서 해당 사용자의 플레이리스트 수 조회\n        const Playlist = (await __webpack_require__.e(/*! import() */ \"_rsc_src_models_Playlist_ts\").then(__webpack_require__.bind(__webpack_require__, /*! @/models/Playlist */ \"(rsc)/./src/models/Playlist.ts\"))).default;\n        const playlistCount = await Playlist.countDocuments({\n            userId: user._id\n        });\n        // 실제 활동 통계 사용 (activityStats가 없으면 기본값)\n        const activityStats = user.activityStats || {\n            totalLoginDays: 1,\n            currentStreak: 1,\n            longestStreak: 1,\n            lastVisitDate: null\n        };\n        return {\n            likeCount,\n            playlistCount,\n            loginCount: activityStats.totalLoginDays,\n            consecutiveDays: activityStats.currentStreak\n        };\n    } catch (error) {\n        console.error(\"사용자 통계 수집 오류:\", error);\n        return {\n            likeCount: 0,\n            playlistCount: 0,\n            loginCount: 1,\n            consecutiveDays: 1\n        };\n    }\n}\n/**\r\n * 사용자 칭호 체크 및 부여\r\n */ async function checkAndGrantTitles(user) {\n    try {\n        // 기존 칭호가 없으면 빈 배열로 초기화\n        if (!user.titles) {\n            user.titles = [];\n        }\n        if (user.selectedTitle === undefined) {\n            user.selectedTitle = null;\n        }\n        // 사용자 통계 수집\n        const stats = await getUserStatsForTitles(user);\n        // 새로 획득할 수 있는 칭호 확인\n        const newTitleDefs = (0,_lib_titleSystem__WEBPACK_IMPORTED_MODULE_2__.checkForNewTitles)(user, stats);\n        // 새 칭호 부여\n        let grantedCount = 0;\n        for (const titleDef of newTitleDefs){\n            if ((0,_lib_titleSystem__WEBPACK_IMPORTED_MODULE_2__.grantTitle)(user, titleDef)) {\n                grantedCount++;\n                console.log(`칭호 부여: ${user.channelName} → ${titleDef.name}`);\n                // Mongoose가 배열 변경을 감지하도록 명시적으로 표시\n                user.markModified(\"titles\");\n                user.markModified(\"selectedTitle\");\n            }\n        }\n        if (grantedCount > 0) {\n            console.log(`총 ${grantedCount}개의 새로운 칭호를 부여했습니다`);\n            console.log(\"🏆 현재 사용자 칭호 상태:\", {\n                titlesCount: user.titles.length,\n                selectedTitle: user.selectedTitle,\n                titles: user.titles.map((t)=>t.name)\n            });\n        }\n    } catch (error) {\n        console.error(\"칭호 체크 및 부여 오류:\", error);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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S0FBS2MsTUFBTSxDQUFDTyxNQUFNO2dCQUMvQk4sZUFBZWYsS0FBS2UsYUFBYTtnQkFDakNELFFBQVFkLEtBQUtjLE1BQU0sQ0FBQ1EsR0FBRyxDQUFDLENBQUNDLElBQU1BLEVBQUVDLElBQUk7WUFDdkM7UUFDRjtJQUNGLEVBQUUsT0FBT08sT0FBTztRQUNkckIsUUFBUXFCLEtBQUssQ0FBQyxrQkFBa0JBO0lBQ2xDO0FBQ0YiLCJzb3VyY2VzIjpbIi9tbnQvZi9EYXRhL0dpdC9jbGF1ZGUtY29kZS9heWF1a2UtcGFnZS9heWF1a2UtcGFnZS9zcmMvbGliL3VzZXJTZXJ2aWNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tIFwibW9uZ29vc2VcIjtcclxuaW1wb3J0IFVzZXIsIHsgSVVzZXIgfSBmcm9tIFwiQC9tb2RlbHMvVXNlclwiO1xyXG5pbXBvcnQgeyBnZXRTdGF0aWNVc2VyUm9sZSB9IGZyb20gXCJAL2xpYi9hZG1pbkNoYW5uZWxzXCI7XHJcbmltcG9ydCB7IGNoZWNrRm9yTmV3VGl0bGVzLCBncmFudFRpdGxlLCBVc2VyU3RhdHMgfSBmcm9tIFwiQC9saWIvdGl0bGVTeXN0ZW1cIjtcclxuXHJcbi8qKlxyXG4gKiDsgqzsmqnsnpAg7IOd7ISxIOuYkOuKlCDsl4XrjbDsnbTtirggKOuhnOq3uOyduCDsi5wg7Zi47LacKVxyXG4gKi9cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU9yVXBkYXRlVXNlcih1c2VyRGF0YToge1xyXG4gIGNoYW5uZWxJZDogc3RyaW5nO1xyXG4gIGNoYW5uZWxOYW1lOiBzdHJpbmc7XHJcbiAgcHJvZmlsZUltYWdlVXJsPzogc3RyaW5nO1xyXG59KTogUHJvbWlzZTxJVXNlcj4ge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBzdGF0aWNSb2xlID0gZ2V0U3RhdGljVXNlclJvbGUodXNlckRhdGEuY2hhbm5lbElkKTtcclxuXHJcbiAgICAvLyDquLDsobQg7IKs7Jqp7J6QIOywvuq4sFxyXG4gICAgbGV0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBjaGFubmVsSWQ6IHVzZXJEYXRhLmNoYW5uZWxJZCB9KTtcclxuXHJcbiAgICBpZiAodXNlcikge1xyXG4gICAgICAvLyDquLDsobQg7IKs7Jqp7J6QIOyXheuNsOydtO2KuFxyXG4gICAgICBjb25zdCBvbGRDaGFubmVsTmFtZSA9IHVzZXIuY2hhbm5lbE5hbWU7XHJcbiAgICAgIGNvbnN0IG5ld0NoYW5uZWxOYW1lID0gdXNlckRhdGEuY2hhbm5lbE5hbWU7XHJcblxyXG4gICAgICAvLyBjaGFubmVsTmFtZSDrs4Dqsr0g6rCQ7KeAIOuwjyDsnbTroKUg7LaU6rCAXHJcbiAgICAgIGlmIChvbGRDaGFubmVsTmFtZSAhPT0gbmV3Q2hhbm5lbE5hbWUpIHtcclxuICAgICAgICB1c2VyLmNoYW5uZWxOYW1lSGlzdG9yeS5wdXNoKHtcclxuICAgICAgICAgIGNoYW5uZWxOYW1lOiBuZXdDaGFubmVsTmFtZSxcclxuICAgICAgICAgIGNoYW5nZWRBdDogbmV3IERhdGUoKSxcclxuICAgICAgICAgIHNvdXJjZTogXCJsb2dpblwiLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgICAgYOy5mOyngOyngSDssYTrhJDrqoUg67OA6rK9IOqwkOyngDogJHtvbGRDaGFubmVsTmFtZX0g4oaSICR7bmV3Q2hhbm5lbE5hbWV9YFxyXG4gICAgICAgICk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHVzZXIuY2hhbm5lbE5hbWUgPSBuZXdDaGFubmVsTmFtZTtcclxuICAgICAgLy8gZGlzcGxheU5hbWXsnbQg7JeG7Jy866m0IGNoYW5uZWxOYW1l7Jy866GcIOyEpOygle2VmOyngCDslYrsnYwgKO2UhOuhnO2VhCDsiJjsoJUg7Iuc7JeQ66eMIOyDneyEsSlcclxuICAgICAgdXNlci5wcm9maWxlSW1hZ2VVcmwgPSB1c2VyRGF0YS5wcm9maWxlSW1hZ2VVcmwgfHwgdXNlci5wcm9maWxlSW1hZ2VVcmw7XHJcblxyXG4gICAgICAvLyDsoJXsoIEg6raM7ZWc7J20IO2YhOyerCDqtoztlZzrs7Tri6Qg64aS7Jy866m0IOyXheuNsOydtO2KuFxyXG4gICAgICAvLyBpZiAoc3RhdGljUm9sZSAhPT0gJ3VzZXInICYmICh1c2VyLnJvbGUgPT09ICd1c2VyJyB8fCBzdGF0aWNSb2xlID09PSAnc3VwZXJfYWRtaW4nKSkge1xyXG4gICAgICAvLyAgIHVzZXIucm9sZSA9IHN0YXRpY1JvbGVcclxuICAgICAgLy8gICBjb25zb2xlLmxvZyhg7IKs7Jqp7J6QIOq2jO2VnCDsl4XrjbDsnbTtirg6ICR7dXNlckRhdGEuY2hhbm5lbE5hbWV9IOKGkiAke3N0YXRpY1JvbGV9YClcclxuICAgICAgLy8gfVxyXG5cclxuICAgICAgdXNlci5sYXN0TG9naW5BdCA9IG5ldyBEYXRlKCk7XHJcblxyXG4gICAgICAvLyDquLDsobQg7IKs7Jqp7J6Q7J2YIOy5re2YuCDtlYTrk5zqsIAg7JeG7Jy866m0IOy0iOq4sO2ZlFxyXG4gICAgICBpZiAoIXVzZXIudGl0bGVzKSB7XHJcbiAgICAgICAgdXNlci50aXRsZXMgPSBbXTtcclxuICAgICAgfVxyXG4gICAgICBpZiAodXNlci5zZWxlY3RlZFRpdGxlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICB1c2VyLnNlbGVjdGVkVGl0bGUgPSBudWxsO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyDsua3tmLgg7LK07YGsIOuwjyDrtoDsl6xcclxuICAgICAgYXdhaXQgY2hlY2tBbmRHcmFudFRpdGxlcyh1c2VyKTtcclxuXHJcbiAgICAgIGNvbnN0IHNhdmVkVXNlciA9IGF3YWl0IHVzZXIuc2F2ZSgpO1xyXG4gICAgICBjb25zb2xlLmxvZyhcclxuICAgICAgICBg6riw7KG0IOyCrOyaqeyekCDsl4XrjbDsnbTtirg6ICR7dXNlckRhdGEuY2hhbm5lbE5hbWV9ICgke3VzZXJEYXRhLmNoYW5uZWxJZH0pYFxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8g7KCA7J6lIO2bhCDsi6TsoJwgREIg7IOB7YOcIO2ZleyduFxyXG4gICAgICBjb25zb2xlLmxvZyhcIvCfj4Yg7KCA7J6lIO2bhCBEQiDsg4Htg5w6XCIsIHtcclxuICAgICAgICB0aXRsZXNDb3VudDogc2F2ZWRVc2VyLnRpdGxlcz8ubGVuZ3RoIHx8IDAsXHJcbiAgICAgICAgc2VsZWN0ZWRUaXRsZTogc2F2ZWRVc2VyLnNlbGVjdGVkVGl0bGUsXHJcbiAgICAgICAgdGl0bGVzOiBzYXZlZFVzZXIudGl0bGVzPy5tYXAoKHQ6IGFueSkgPT4gdC5uYW1lKSB8fCBbXSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBEQuyXkOyEnCDri6Tsi5wg7KGw7ZqM7ZW07IScIOyLpOygnCDsoIDsnqUg7ZmV7J24XHJcbiAgICAgIGNvbnN0IHJlbG9hZGVkVXNlciA9IGF3YWl0IFVzZXIuZmluZE9uZSh7XHJcbiAgICAgICAgY2hhbm5lbElkOiB1c2VyRGF0YS5jaGFubmVsSWQsXHJcbiAgICAgIH0pO1xyXG4gICAgICBjb25zb2xlLmxvZyhcIvCfj4YgREIg7J6s7KGw7ZqMIOqysOqzvDpcIiwge1xyXG4gICAgICAgIHRpdGxlc0NvdW50OiByZWxvYWRlZFVzZXI/LnRpdGxlcz8ubGVuZ3RoIHx8IDAsXHJcbiAgICAgICAgc2VsZWN0ZWRUaXRsZTogcmVsb2FkZWRVc2VyPy5zZWxlY3RlZFRpdGxlLFxyXG4gICAgICAgIHRpdGxlczogcmVsb2FkZWRVc2VyPy50aXRsZXM/Lm1hcCgodDogYW55KSA9PiB0Lm5hbWUpIHx8IFtdLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIOyDiCDsgqzsmqnsnpAg7IOd7ISxXHJcbiAgICAgIHVzZXIgPSBuZXcgVXNlcih7XHJcbiAgICAgICAgY2hhbm5lbElkOiB1c2VyRGF0YS5jaGFubmVsSWQsXHJcbiAgICAgICAgY2hhbm5lbE5hbWU6IHVzZXJEYXRhLmNoYW5uZWxOYW1lLFxyXG4gICAgICAgIGRpc3BsYXlOYW1lOiB1c2VyRGF0YS5jaGFubmVsTmFtZSwgLy8g6rCA7J6F7IucIGNoYW5uZWxOYW1l7J2EIGRpc3BsYXlOYW1l7Jy866GcIOyEpOyglVxyXG4gICAgICAgIHByb2ZpbGVJbWFnZVVybDogdXNlckRhdGEucHJvZmlsZUltYWdlVXJsLFxyXG4gICAgICAgIHJvbGU6IHN0YXRpY1JvbGUsXHJcbiAgICAgICAgbGFzdExvZ2luQXQ6IG5ldyBEYXRlKCksXHJcbiAgICAgICAgY2hhbm5lbE5hbWVIaXN0b3J5OiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGNoYW5uZWxOYW1lOiB1c2VyRGF0YS5jaGFubmVsTmFtZSxcclxuICAgICAgICAgICAgY2hhbmdlZEF0OiBuZXcgRGF0ZSgpLFxyXG4gICAgICAgICAgICBzb3VyY2U6IFwiaW5pdGlhbFwiLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdLFxyXG4gICAgICAgIHRpdGxlczogW10sIC8vIOu5iCDsua3tmLgg67Cw7Je066GcIOy0iOq4sO2ZlFxyXG4gICAgICAgIHNlbGVjdGVkVGl0bGU6IG51bGwsXHJcbiAgICAgICAgcHJlZmVyZW5jZXM6IHtcclxuICAgICAgICAgIHRoZW1lOiBcInN5c3RlbVwiLFxyXG4gICAgICAgICAgZGVmYXVsdFBsYXlsaXN0VmlldzogXCJncmlkXCIsXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyDsi6Dqt5wg7IKs7Jqp7J6QIOy5re2YuCDssrTtgawg67CPIOu2gOyXrFxyXG4gICAgICBhd2FpdCBjaGVja0FuZEdyYW50VGl0bGVzKHVzZXIpO1xyXG5cclxuICAgICAgYXdhaXQgdXNlci5zYXZlKCk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgIGDsg4gg7IKs7Jqp7J6QIOyDneyEsTogJHt1c2VyRGF0YS5jaGFubmVsTmFtZX0gKCR7dXNlckRhdGEuY2hhbm5lbElkfSkgLSDqtoztlZw6ICR7c3RhdGljUm9sZX1gXHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHVzZXI7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCLsgqzsmqnsnpAg7IOd7ISxL+yXheuNsOydtO2KuCDsmKTrpZg6XCIsIGVycm9yKTtcclxuICAgIHRocm93IGVycm9yO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOyCrOyaqeyekCDsoJXrs7Qg7KGw7ZqMXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlckJ5Q2hhbm5lbElkKFxyXG4gIGNoYW5uZWxJZDogc3RyaW5nXHJcbik6IFByb21pc2U8SVVzZXIgfCBudWxsPiB7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBhd2FpdCBVc2VyLmZpbmRPbmUoeyBjaGFubmVsSWQgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCLsgqzsmqnsnpAg7KGw7ZqMIOyYpOulmDpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICog7IKs7Jqp7J6QIO2ZmOqyveyEpOyglSDsl4XrjbDsnbTtirhcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVVc2VyUHJlZmVyZW5jZXMoXHJcbiAgY2hhbm5lbElkOiBzdHJpbmcsXHJcbiAgcHJlZmVyZW5jZXM6IFBhcnRpYWw8SVVzZXJbXCJwcmVmZXJlbmNlc1wiXT5cclxuKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBjaGFubmVsSWQgfSk7XHJcbiAgICBpZiAoIXVzZXIpIHJldHVybiBudWxsO1xyXG5cclxuICAgIHVzZXIucHJlZmVyZW5jZXMgPSB7IC4uLnVzZXIucHJlZmVyZW5jZXMsIC4uLnByZWZlcmVuY2VzIH07XHJcbiAgICBhd2FpdCB1c2VyLnNhdmUoKTtcclxuXHJcbiAgICByZXR1cm4gdXNlcjtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIuyCrOyaqeyekCDtmZjqsr3shKTsoJUg7JeF642w7J207Yq4IOyYpOulmDpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICog6rSA66as7J6QIOuqqeuhnSDsobDtmoxcclxuICovXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBZG1pblVzZXJzKCk6IFByb21pc2U8SVVzZXJbXT4ge1xyXG4gIHRyeSB7XHJcbiAgICByZXR1cm4gYXdhaXQgVXNlci5maW5kKHsgcm9sZTogeyAkbmU6IFwidXNlclwiIH0gfSkuc29ydCh7IGxhc3RMb2dpbkF0OiAtMSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIuq0gOumrOyekCDrqqnroZ0g7KGw7ZqMIOyYpOulmDpcIiwgZXJyb3IpO1xyXG4gICAgcmV0dXJuIFtdO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIO2ZnOyEsSDsgqzsmqnsnpAg7Ya16rOEXHJcbiAqL1xyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0VXNlclN0YXRzKCkge1xyXG4gIHRyeSB7XHJcbiAgICBjb25zdCB0b3RhbFVzZXJzID0gYXdhaXQgVXNlci5jb3VudERvY3VtZW50cygpO1xyXG4gICAgY29uc3QgYWN0aXZlVXNlcnMgPSBhd2FpdCBVc2VyLmNvdW50RG9jdW1lbnRzKHtcclxuICAgICAgbGFzdExvZ2luQXQ6IHsgJGd0ZTogbmV3IERhdGUoRGF0ZS5ub3coKSAtIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCkgfSwgLy8gMzDsnbwg64K0XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGFkbWluVXNlcnMgPSBhd2FpdCBVc2VyLmNvdW50RG9jdW1lbnRzKHsgcm9sZTogeyAkbmU6IFwidXNlclwiIH0gfSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgdG90YWxVc2VycyxcclxuICAgICAgYWN0aXZlVXNlcnMsXHJcbiAgICAgIGFkbWluVXNlcnMsXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi7IKs7Jqp7J6QIO2GteqzhCDsobDtmowg7Jik66WYOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB0b3RhbFVzZXJzOiAwLFxyXG4gICAgICBhY3RpdmVVc2VyczogMCxcclxuICAgICAgYWRtaW5Vc2VyczogMCxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICog7IKs7Jqp7J6QIO2GteqzhCDsiJjsp5FcclxuICovXHJcbmFzeW5jIGZ1bmN0aW9uIGdldFVzZXJTdGF0c0ZvclRpdGxlcyh1c2VyOiBJVXNlcik6IFByb21pc2U8VXNlclN0YXRzPiB7XHJcbiAgdHJ5IHtcclxuICAgIC8vIExpa2Ug66qo64247JeQ7IScIO2VtOuLuSDsgqzsmqnsnpDsnZgg7KKL7JWE7JqUIOyImCDsobDtmoxcclxuICAgIGNvbnN0IExpa2UgPSAoYXdhaXQgaW1wb3J0KFwiQC9tb2RlbHMvTGlrZVwiKSkuZGVmYXVsdDtcclxuICAgIGNvbnN0IGxpa2VDb3VudCA9IGF3YWl0IExpa2UuY291bnREb2N1bWVudHMoeyB1c2VySWQ6IHVzZXIuX2lkIH0pO1xyXG5cclxuICAgIC8vIFBsYXlsaXN0IOuqqOuNuOyXkOyEnCDtlbTri7kg7IKs7Jqp7J6Q7J2YIO2UjOugiOydtOumrOyKpO2KuCDsiJgg7KGw7ZqMXHJcbiAgICBjb25zdCBQbGF5bGlzdCA9IChhd2FpdCBpbXBvcnQoXCJAL21vZGVscy9QbGF5bGlzdFwiKSkuZGVmYXVsdDtcclxuICAgIGNvbnN0IHBsYXlsaXN0Q291bnQgPSBhd2FpdCBQbGF5bGlzdC5jb3VudERvY3VtZW50cyh7IHVzZXJJZDogdXNlci5faWQgfSk7XHJcblxyXG4gICAgLy8g7Iuk7KCcIO2ZnOuPmSDthrXqs4Qg7IKs7JqpIChhY3Rpdml0eVN0YXRz6rCAIOyXhuycvOuptCDquLDrs7jqsJIpXHJcbiAgICBjb25zdCBhY3Rpdml0eVN0YXRzID0gdXNlci5hY3Rpdml0eVN0YXRzIHx8IHtcclxuICAgICAgdG90YWxMb2dpbkRheXM6IDEsXHJcbiAgICAgIGN1cnJlbnRTdHJlYWs6IDEsXHJcbiAgICAgIGxvbmdlc3RTdHJlYWs6IDEsXHJcbiAgICAgIGxhc3RWaXNpdERhdGU6IG51bGwsXHJcbiAgICB9O1xyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgIGxpa2VDb3VudCxcclxuICAgICAgcGxheWxpc3RDb3VudCxcclxuICAgICAgbG9naW5Db3VudDogYWN0aXZpdHlTdGF0cy50b3RhbExvZ2luRGF5cyxcclxuICAgICAgY29uc2VjdXRpdmVEYXlzOiBhY3Rpdml0eVN0YXRzLmN1cnJlbnRTdHJlYWssXHJcbiAgICB9O1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi7IKs7Jqp7J6QIO2GteqzhCDsiJjsp5Eg7Jik66WYOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBsaWtlQ291bnQ6IDAsXHJcbiAgICAgIHBsYXlsaXN0Q291bnQ6IDAsXHJcbiAgICAgIGxvZ2luQ291bnQ6IDEsXHJcbiAgICAgIGNvbnNlY3V0aXZlRGF5czogMSxcclxuICAgIH07XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICog7IKs7Jqp7J6QIOy5re2YuCDssrTtgawg67CPIOu2gOyXrFxyXG4gKi9cclxuYXN5bmMgZnVuY3Rpb24gY2hlY2tBbmRHcmFudFRpdGxlcyh1c2VyOiBJVXNlcik6IFByb21pc2U8dm9pZD4ge1xyXG4gIHRyeSB7XHJcbiAgICAvLyDquLDsobQg7Lmt7Zi46rCAIOyXhuycvOuptCDruYgg67Cw7Je066GcIOy0iOq4sO2ZlFxyXG4gICAgaWYgKCF1c2VyLnRpdGxlcykge1xyXG4gICAgICB1c2VyLnRpdGxlcyA9IFtdO1xyXG4gICAgfVxyXG4gICAgaWYgKHVzZXIuc2VsZWN0ZWRUaXRsZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgIHVzZXIuc2VsZWN0ZWRUaXRsZSA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g7IKs7Jqp7J6QIO2GteqzhCDsiJjsp5FcclxuICAgIGNvbnN0IHN0YXRzID0gYXdhaXQgZ2V0VXNlclN0YXRzRm9yVGl0bGVzKHVzZXIpO1xyXG5cclxuICAgIC8vIOyDiOuhnCDtmo3rk53tlaAg7IiYIOyeiOuKlCDsua3tmLgg7ZmV7J24XHJcbiAgICBjb25zdCBuZXdUaXRsZURlZnMgPSBjaGVja0Zvck5ld1RpdGxlcyh1c2VyLCBzdGF0cyk7XHJcblxyXG4gICAgLy8g7IOIIOy5re2YuCDrtoDsl6xcclxuICAgIGxldCBncmFudGVkQ291bnQgPSAwO1xyXG4gICAgZm9yIChjb25zdCB0aXRsZURlZiBvZiBuZXdUaXRsZURlZnMpIHtcclxuICAgICAgaWYgKGdyYW50VGl0bGUodXNlciwgdGl0bGVEZWYpKSB7XHJcbiAgICAgICAgZ3JhbnRlZENvdW50Kys7XHJcbiAgICAgICAgY29uc29sZS5sb2coYOy5re2YuCDrtoDsl6w6ICR7dXNlci5jaGFubmVsTmFtZX0g4oaSICR7dGl0bGVEZWYubmFtZX1gKTtcclxuICAgICAgICAvLyBNb25nb29zZeqwgCDrsLDsl7Qg67OA6rK97J2EIOqwkOyngO2VmOuPhOuhnSDrqoXsi5zsoIHsnLzroZwg7ZGc7IucXHJcbiAgICAgICAgdXNlci5tYXJrTW9kaWZpZWQoXCJ0aXRsZXNcIik7XHJcbiAgICAgICAgdXNlci5tYXJrTW9kaWZpZWQoXCJzZWxlY3RlZFRpdGxlXCIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGdyYW50ZWRDb3VudCA+IDApIHtcclxuICAgICAgY29uc29sZS5sb2coYOy0nSAke2dyYW50ZWRDb3VudH3qsJzsnZgg7IOI66Gc7Jq0IOy5re2YuOulvCDrtoDsl6ztlojsirXri4jri6RgKTtcclxuICAgICAgY29uc29sZS5sb2coXCLwn4+GIO2YhOyerCDsgqzsmqnsnpAg7Lmt7Zi4IOyDge2DnDpcIiwge1xyXG4gICAgICAgIHRpdGxlc0NvdW50OiB1c2VyLnRpdGxlcy5sZW5ndGgsXHJcbiAgICAgICAgc2VsZWN0ZWRUaXRsZTogdXNlci5zZWxlY3RlZFRpdGxlLFxyXG4gICAgICAgIHRpdGxlczogdXNlci50aXRsZXMubWFwKCh0KSA9PiB0Lm5hbWUpLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIuy5re2YuCDssrTtgawg67CPIOu2gOyXrCDsmKTrpZg6XCIsIGVycm9yKTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbIlVzZXIiLCJnZXRTdGF0aWNVc2VyUm9sZSIsImNoZWNrRm9yTmV3VGl0bGVzIiwiZ3JhbnRUaXRsZSIsImNyZWF0ZU9yVXBkYXRlVXNlciIsInVzZXJEYXRhIiwic3RhdGljUm9sZSIsImNoYW5uZWxJZCIsInVzZXIiLCJmaW5kT25lIiwib2xkQ2hhbm5lbE5hbWUiLCJjaGFubmVsTmFtZSIsIm5ld0NoYW5uZWxOYW1lIiwiY2hhbm5lbE5hbWVIaXN0b3J5IiwicHVzaCIsImNoYW5nZWRBdCIsIkRhdGUiLCJzb3VyY2UiLCJjb25zb2xlIiwibG9nIiwicHJvZmlsZUltYWdlVXJsIiwibGFzdExvZ2luQXQiLCJ0aXRsZXMiLCJzZWxlY3RlZFRpdGxlIiwidW5kZWZpbmVkIiwiY2hlY2tBbmRHcmFudFRpdGxlcyIsInNhdmVkVXNlciIsInNhdmUiLCJ0aXRsZXNDb3VudCIsImxlbmd0aCIsIm1hcCIsInQiLCJuYW1lIiwicmVsb2FkZWRVc2VyIiwiZGlzcGxheU5hbWUiLCJyb2xlIiwicHJlZmVyZW5jZXMiLCJ0aGVtZSIsImRlZmF1bHRQbGF5bGlzdFZpZXciLCJlcnJvciIsImdldFVzZXJCeUNoYW5uZWxJZCIsInVwZGF0ZVVzZXJQcmVmZXJlbmNlcyIsImdldEFkbWluVXNlcnMiLCJmaW5kIiwiJG5lIiwic29ydCIsImdldFVzZXJTdGF0cyIsInRvdGFsVXNlcnMiLCJjb3VudERvY3VtZW50cyIsImFjdGl2ZVVzZXJzIiwiJGd0ZSIsIm5vdyIsImFkbWluVXNlcnMiLCJnZXRVc2VyU3RhdHNGb3JUaXRsZXMiLCJMaWtlIiwiZGVmYXVsdCIsImxpa2VDb3VudCIsInVzZXJJZCIsIl9pZCIsIlBsYXlsaXN0IiwicGxheWxpc3RDb3VudCIsImFjdGl2aXR5U3RhdHMiLCJ0b3RhbExvZ2luRGF5cyIsImN1cnJlbnRTdHJlYWsiLCJsb25nZXN0U3RyZWFrIiwibGFzdFZpc2l0RGF0ZSIsImxvZ2luQ291bnQiLCJjb25zZWN1dGl2ZURheXMiLCJzdGF0cyIsIm5ld1RpdGxlRGVmcyIsImdyYW50ZWRDb3VudCIsInRpdGxlRGVmIiwibWFya01vZGlmaWVkIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/userService.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/SongDetail.ts":
/*!**********************************!*\
  !*** ./src/models/SongDetail.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MRLinkSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    url: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    skipSeconds: {\n        type: Number,\n        default: 0,\n        min: 0\n    },\n    label: {\n        type: String,\n        trim: true\n    },\n    duration: {\n        type: String,\n        trim: true\n    }\n}, {\n    _id: false\n});\nconst SongDetailSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    title: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    artist: {\n        type: String,\n        required: true,\n        trim: true\n    },\n    titleAlias: {\n        type: String,\n        trim: true\n    },\n    artistAlias: {\n        type: String,\n        trim: true\n    },\n    language: {\n        type: String,\n        trim: true,\n        enum: [\n            'Korean',\n            'English',\n            'Japanese',\n            'Chinese',\n            'Other'\n        ]\n    },\n    lyrics: {\n        type: String,\n        trim: true\n    },\n    searchTags: [\n        {\n            type: String,\n            trim: true\n        }\n    ],\n    sungCount: {\n        type: Number,\n        default: 0,\n        min: 0\n    },\n    likeCount: {\n        type: Number,\n        default: 0,\n        min: 0\n    },\n    lastSungDate: {\n        type: String,\n        trim: true\n    },\n    keyAdjustment: {\n        type: Number,\n        default: null,\n        validate: {\n            validator: function(v) {\n                if (v === undefined || v === null) return true;\n                return v >= -12 && v <= 12;\n            },\n            message: '키 조절은 -12부터 +12 사이의 숫자로 입력해주세요.'\n        }\n    },\n    mrLinks: [\n        MRLinkSchema\n    ],\n    selectedMRIndex: {\n        type: Number,\n        default: 0,\n        min: 0,\n        validate: {\n            validator: function(v) {\n                if (v === undefined || v === null) return true;\n                const mrLinks = this.mrLinks;\n                if (!mrLinks || mrLinks.length === 0) return true;\n                return v < mrLinks.length;\n            },\n            message: 'selectedMRIndex must be within the range of available MR links'\n        }\n    },\n    personalNotes: {\n        type: String,\n        trim: true\n    },\n    imageUrl: {\n        type: String,\n        trim: true,\n        validate: {\n            validator: function(v) {\n                if (!v) return true; // 빈 값은 허용\n                // URL 형식 검증\n                try {\n                    new URL(v);\n                    return true;\n                } catch  {\n                    return false;\n                }\n            },\n            message: '올바른 URL 형식을 입력해주세요.'\n        }\n    },\n    // 곡 상태 관리\n    status: {\n        type: String,\n        enum: [\n            'active',\n            'deleted',\n            'pending',\n            'rejected'\n        ],\n        default: 'active'\n    },\n    // 곡 소스 타입 (기존 source 필드 확장)\n    sourceType: {\n        type: String,\n        enum: [\n            'sheet',\n            'admin',\n            'user_suggestion'\n        ],\n        default: 'sheet'\n    },\n    // 추천자 정보 (사용자 추천곡인 경우)\n    suggestedBy: {\n        type: String,\n        trim: true\n    },\n    // 삭제 관련 정보\n    deletedAt: {\n        type: Date\n    },\n    deletedBy: {\n        type: String,\n        trim: true\n    },\n    deleteReason: {\n        type: String,\n        trim: true\n    },\n    // 승인 관련 정보 (추천곡용)\n    approvedAt: {\n        type: Date\n    },\n    approvedBy: {\n        type: String,\n        trim: true\n    }\n}, {\n    timestamps: true\n});\n// 제목+아티스트 복합 unique 인덱스 (같은 제목이라도 다른 아티스트면 허용)\nSongDetailSchema.index({\n    title: 1,\n    artist: 1\n}, {\n    unique: true\n});\nSongDetailSchema.index({\n    title: 1\n}); // 제목 검색용\nSongDetailSchema.index({\n    sungCount: -1\n});\nSongDetailSchema.index({\n    lastSungDate: -1\n});\nSongDetailSchema.index({\n    searchTags: 1\n});\nSongDetailSchema.index({\n    language: 1\n});\nSongDetailSchema.index({\n    status: 1\n});\nSongDetailSchema.index({\n    sourceType: 1\n});\nSongDetailSchema.index({\n    suggestedBy: 1\n});\nSongDetailSchema.index({\n    deletedAt: -1\n});\n// 새로운 통일된 모델명 (SongDetail)\nconst SongDetail = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).SongDetail || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('SongDetail', SongDetailSchema);\n// 기존 호환성을 위한 별칭 제거 (마이그레이션 완료)\n// SongDetail 모델만 사용\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SongDetail);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L2F5YXVrZS1wYWdlL2F5YXVrZS1wYWdlL3NyYy9tb2RlbHMvU29uZ0RldGFpbC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCB9IGZyb20gJ21vbmdvb3NlJztcclxuaW1wb3J0IHsgU29uZ0RldGFpbCB9IGZyb20gJ0AvdHlwZXMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJU29uZ0RldGFpbCBleHRlbmRzIFNvbmdEZXRhaWwsIERvY3VtZW50IHt9XHJcblxyXG5jb25zdCBNUkxpbmtTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICB1cmw6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICB9LFxyXG4gIHNraXBTZWNvbmRzOiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwLFxyXG4gICAgbWluOiAwLFxyXG4gIH0sXHJcbiAgbGFiZWw6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHRyaW06IHRydWUsXHJcbiAgfSxcclxuICBkdXJhdGlvbjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICB9LFxyXG59LCB7IF9pZDogZmFsc2UgfSk7XHJcblxyXG5jb25zdCBTb25nRGV0YWlsU2NoZW1hOiBTY2hlbWEgPSBuZXcgU2NoZW1hKHtcclxuICB0aXRsZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB0cmltOiB0cnVlLFxyXG4gIH0sXHJcbiAgYXJ0aXN0OiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIHRyaW06IHRydWUsXHJcbiAgfSxcclxuICB0aXRsZUFsaWFzOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB0cmltOiB0cnVlLFxyXG4gIH0sXHJcbiAgYXJ0aXN0QWxpYXM6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHRyaW06IHRydWUsXHJcbiAgfSxcclxuICBsYW5ndWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICAgIGVudW06IFsnS29yZWFuJywgJ0VuZ2xpc2gnLCAnSmFwYW5lc2UnLCAnQ2hpbmVzZScsICdPdGhlciddLFxyXG4gIH0sXHJcbiAgbHlyaWNzOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB0cmltOiB0cnVlLFxyXG4gIH0sXHJcbiAgc2VhcmNoVGFnczogW3tcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHRyaW06IHRydWUsXHJcbiAgfV0sXHJcbiAgc3VuZ0NvdW50OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwLFxyXG4gICAgbWluOiAwLFxyXG4gIH0sXHJcbiAgbGlrZUNvdW50OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwLFxyXG4gICAgbWluOiAwLFxyXG4gIH0sXHJcbiAgbGFzdFN1bmdEYXRlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB0cmltOiB0cnVlLFxyXG4gIH0sXHJcbiAga2V5QWRqdXN0bWVudDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogbnVsbCxcclxuICAgIHZhbGlkYXRlOiB7XHJcbiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24odjogbnVtYmVyIHwgbnVsbCkge1xyXG4gICAgICAgIGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcmV0dXJuIHYgPj0gLTEyICYmIHYgPD0gMTI7XHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2U6ICftgqQg7KGw7KCI7J2AIC0xMuu2gO2EsCArMTIg7IKs7J207J2YIOyIq+yekOuhnCDsnoXroKXtlbTso7zshLjsmpQuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgbXJMaW5rczogW01STGlua1NjaGVtYV0sXHJcbiAgc2VsZWN0ZWRNUkluZGV4OiB7XHJcbiAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICBkZWZhdWx0OiAwLFxyXG4gICAgbWluOiAwLFxyXG4gICAgdmFsaWRhdGU6IHtcclxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih0aGlzOiBJU29uZ0RldGFpbCwgdjogbnVtYmVyKSB7XHJcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSBudWxsKSByZXR1cm4gdHJ1ZTtcclxuICAgICAgICBjb25zdCBtckxpbmtzID0gdGhpcy5tckxpbmtzO1xyXG4gICAgICAgIGlmICghbXJMaW5rcyB8fCBtckxpbmtzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgcmV0dXJuIHYgPCBtckxpbmtzLmxlbmd0aDtcclxuICAgICAgfSxcclxuICAgICAgbWVzc2FnZTogJ3NlbGVjdGVkTVJJbmRleCBtdXN0IGJlIHdpdGhpbiB0aGUgcmFuZ2Ugb2YgYXZhaWxhYmxlIE1SIGxpbmtzJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgcGVyc29uYWxOb3Rlczoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICB9LFxyXG4gIGltYWdlVXJsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICB0cmltOiB0cnVlLFxyXG4gICAgdmFsaWRhdGU6IHtcclxuICAgICAgdmFsaWRhdG9yOiBmdW5jdGlvbih2OiBzdHJpbmcpIHtcclxuICAgICAgICBpZiAoIXYpIHJldHVybiB0cnVlOyAvLyDruYgg6rCS7J2AIO2XiOyaqVxyXG4gICAgICAgIC8vIFVSTCDtmJXsi50g6rKA7KadXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIG5ldyBVUkwodik7XHJcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9IGNhdGNoIHtcclxuICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIG1lc3NhZ2U6ICfsmKzrsJTrpbggVVJMIO2YleyLneydhCDsnoXroKXtlbTso7zshLjsmpQuJ1xyXG4gICAgfVxyXG4gIH0sXHJcbiAgLy8g6rOhIOyDge2DnCDqtIDrpqxcclxuICBzdGF0dXM6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIGVudW06IFsnYWN0aXZlJywgJ2RlbGV0ZWQnLCAncGVuZGluZycsICdyZWplY3RlZCddLFxyXG4gICAgZGVmYXVsdDogJ2FjdGl2ZSdcclxuICB9LFxyXG4gIC8vIOqzoSDshozsiqQg7YOA7J6FICjquLDsobQgc291cmNlIO2VhOuTnCDtmZXsnqUpXHJcbiAgc291cmNlVHlwZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZW51bTogWydzaGVldCcsICdhZG1pbicsICd1c2VyX3N1Z2dlc3Rpb24nXSxcclxuICAgIGRlZmF1bHQ6ICdzaGVldCdcclxuICB9LFxyXG4gIC8vIOy2lOyynOyekCDsoJXrs7QgKOyCrOyaqeyekCDstpTsspzqs6Hsnbgg6rK97JqwKVxyXG4gIHN1Z2dlc3RlZEJ5OiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsIC8vIOyCrOyaqeyekCDssYTrhJAgSURcclxuICAgIHRyaW06IHRydWUsXHJcbiAgfSxcclxuICAvLyDsgq3soJwg6rSA66CoIOygleuztFxyXG4gIGRlbGV0ZWRBdDoge1xyXG4gICAgdHlwZTogRGF0ZSxcclxuICB9LFxyXG4gIGRlbGV0ZWRCeToge1xyXG4gICAgdHlwZTogU3RyaW5nLCAvLyDsgq3soJztlZwg6rSA66as7J6QIOyxhOuEkCBJRFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICB9LFxyXG4gIGRlbGV0ZVJlYXNvbjoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgdHJpbTogdHJ1ZSxcclxuICB9LFxyXG4gIC8vIOyKueyduCDqtIDroKgg7KCV67O0ICjstpTsspzqs6HsmqkpXHJcbiAgYXBwcm92ZWRBdDoge1xyXG4gICAgdHlwZTogRGF0ZSxcclxuICB9LFxyXG4gIGFwcHJvdmVkQnk6IHtcclxuICAgIHR5cGU6IFN0cmluZywgLy8g7Iq57J247ZWcIOq0gOumrOyekCDssYTrhJAgSURcclxuICAgIHRyaW06IHRydWUsXHJcbiAgfSxcclxufSwge1xyXG4gIHRpbWVzdGFtcHM6IHRydWUsXHJcbn0pO1xyXG5cclxuLy8g7KCc66qpK+yVhO2LsOyKpO2KuCDrs7XtlakgdW5pcXVlIOyduOuNseyKpCAo6rCZ7J2AIOygnOuqqeydtOudvOuPhCDri6Trpbgg7JWE7Yuw7Iqk7Yq466m0IO2XiOyaqSlcclxuU29uZ0RldGFpbFNjaGVtYS5pbmRleCh7IHRpdGxlOiAxLCBhcnRpc3Q6IDEgfSwgeyB1bmlxdWU6IHRydWUgfSk7XHJcblNvbmdEZXRhaWxTY2hlbWEuaW5kZXgoeyB0aXRsZTogMSB9KTsgLy8g7KCc66qpIOqygOyDieyaqVxyXG5Tb25nRGV0YWlsU2NoZW1hLmluZGV4KHsgc3VuZ0NvdW50OiAtMSB9KTtcclxuU29uZ0RldGFpbFNjaGVtYS5pbmRleCh7IGxhc3RTdW5nRGF0ZTogLTEgfSk7XHJcblNvbmdEZXRhaWxTY2hlbWEuaW5kZXgoeyBzZWFyY2hUYWdzOiAxIH0pO1xyXG5Tb25nRGV0YWlsU2NoZW1hLmluZGV4KHsgbGFuZ3VhZ2U6IDEgfSk7XHJcblNvbmdEZXRhaWxTY2hlbWEuaW5kZXgoeyBzdGF0dXM6IDEgfSk7XHJcblNvbmdEZXRhaWxTY2hlbWEuaW5kZXgoeyBzb3VyY2VUeXBlOiAxIH0pO1xyXG5Tb25nRGV0YWlsU2NoZW1hLmluZGV4KHsgc3VnZ2VzdGVkQnk6IDEgfSk7XHJcblNvbmdEZXRhaWxTY2hlbWEuaW5kZXgoeyBkZWxldGVkQXQ6IC0xIH0pO1xyXG5cclxuLy8g7IOI66Gc7Jq0IO2GteydvOuQnCDrqqjrjbjrqoUgKFNvbmdEZXRhaWwpXHJcbmNvbnN0IFNvbmdEZXRhaWwgPSBtb25nb29zZS5tb2RlbHMuU29uZ0RldGFpbCB8fCBtb25nb29zZS5tb2RlbDxJU29uZ0RldGFpbD4oJ1NvbmdEZXRhaWwnLCBTb25nRGV0YWlsU2NoZW1hKTtcclxuXHJcbi8vIOq4sOyhtCDtmLjtmZjshLHsnYQg7JyE7ZWcIOuzhOy5rSDsoJzqsbAgKOuniOydtOq3uOugiOydtOyFmCDsmYTro4wpXHJcbi8vIFNvbmdEZXRhaWwg66qo642466eMIOyCrOyaqVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU29uZ0RldGFpbDsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJNUkxpbmtTY2hlbWEiLCJ1cmwiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ0cmltIiwic2tpcFNlY29uZHMiLCJOdW1iZXIiLCJkZWZhdWx0IiwibWluIiwibGFiZWwiLCJkdXJhdGlvbiIsIl9pZCIsIlNvbmdEZXRhaWxTY2hlbWEiLCJ0aXRsZSIsImFydGlzdCIsInRpdGxlQWxpYXMiLCJhcnRpc3RBbGlhcyIsImxhbmd1YWdlIiwiZW51bSIsImx5cmljcyIsInNlYXJjaFRhZ3MiLCJzdW5nQ291bnQiLCJsaWtlQ291bnQiLCJsYXN0U3VuZ0RhdGUiLCJrZXlBZGp1c3RtZW50IiwidmFsaWRhdGUiLCJ2YWxpZGF0b3IiLCJ2IiwidW5kZWZpbmVkIiwibWVzc2FnZSIsIm1yTGlua3MiLCJzZWxlY3RlZE1SSW5kZXgiLCJsZW5ndGgiLCJwZXJzb25hbE5vdGVzIiwiaW1hZ2VVcmwiLCJVUkwiLCJzdGF0dXMiLCJzb3VyY2VUeXBlIiwic3VnZ2VzdGVkQnkiLCJkZWxldGVkQXQiLCJEYXRlIiwiZGVsZXRlZEJ5IiwiZGVsZXRlUmVhc29uIiwiYXBwcm92ZWRBdCIsImFwcHJvdmVkQnkiLCJ0aW1lc3RhbXBzIiwiaW5kZXgiLCJ1bmlxdWUiLCJTb25nRGV0YWlsIiwibW9kZWxzIiwibW9kZWwiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/models/SongDetail.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/User.ts":
/*!****************************!*\
  !*** ./src/models/User.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst userSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    channelId: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    channelName: {\n        type: String,\n        required: true\n    },\n    displayName: {\n        type: String,\n        required: false\n    },\n    profileImageUrl: {\n        type: String,\n        default: null\n    },\n    role: {\n        type: String,\n        enum: [\n            \"super_admin\",\n            \"song_admin\",\n            \"song_editor\",\n            \"user\"\n        ],\n        default: \"user\"\n    },\n    grantedBy: {\n        type: String,\n        default: null\n    },\n    grantedAt: {\n        type: Date,\n        default: null\n    },\n    lastLoginAt: {\n        type: Date,\n        default: Date.now\n    },\n    channelNameHistory: [\n        {\n            channelName: {\n                type: String,\n                required: true\n            },\n            changedAt: {\n                type: Date,\n                default: Date.now\n            },\n            source: {\n                type: String,\n                enum: [\n                    \"login\",\n                    \"initial\"\n                ],\n                required: true\n            }\n        }\n    ],\n    titles: [\n        {\n            id: {\n                type: String,\n                required: true\n            },\n            name: {\n                type: String,\n                required: true\n            },\n            description: {\n                type: String,\n                required: true\n            },\n            earnedAt: {\n                type: Date,\n                default: Date.now\n            },\n            condition: {\n                type: String,\n                required: true\n            },\n            rarity: {\n                type: String,\n                enum: [\n                    \"common\",\n                    \"rare\",\n                    \"epic\",\n                    \"legendary\"\n                ],\n                required: true\n            }\n        }\n    ],\n    selectedTitle: {\n        type: String,\n        default: null\n    },\n    preferences: {\n        theme: {\n            type: String,\n            enum: [\n                \"light\",\n                \"dark\",\n                \"system\"\n            ],\n            default: \"system\"\n        },\n        defaultPlaylistView: {\n            type: String,\n            enum: [\n                \"grid\",\n                \"list\"\n            ],\n            default: \"grid\"\n        }\n    },\n    activityStats: {\n        totalLoginDays: {\n            type: Number,\n            default: 0\n        },\n        currentStreak: {\n            type: Number,\n            default: 0\n        },\n        longestStreak: {\n            type: Number,\n            default: 0\n        },\n        lastVisitDate: {\n            type: String,\n            default: null\n        }\n    }\n}, {\n    timestamps: true\n});\n// 인덱스 추가 (channelId는 unique: true로 자동 인덱스 생성됨)\nuserSchema.index({\n    role: 1\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", userSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1VzZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdDO0FBdUNoQyxNQUFNQyxhQUFhLElBQUlELHdEQUFlLENBQ3BDO0lBQ0VHLFdBQVc7UUFDVEMsTUFBTUM7UUFDTkMsVUFBVTtRQUNWQyxRQUFRO0lBQ1Y7SUFDQUMsYUFBYTtRQUNYSixNQUFNQztRQUNOQyxVQUFVO0lBQ1o7SUFDQUcsYUFBYTtRQUNYTCxNQUFNQztRQUNOQyxVQUFVO0lBQ1o7SUFDQUksaUJBQWlCO1FBQ2ZOLE1BQU1DO1FBQ05NLFNBQVM7SUFDWDtJQUNBQyxNQUFNO1FBQ0pSLE1BQU1DO1FBQ05RLE1BQU07WUFBQztZQUFlO1lBQWM7WUFBZTtTQUFPO1FBQzFERixTQUFTO0lBQ1g7SUFDQUcsV0FBVztRQUNUVixNQUFNQztRQUNOTSxTQUFTO0lBQ1g7SUFDQUksV0FBVztRQUNUWCxNQUFNWTtRQUNOTCxTQUFTO0lBQ1g7SUFDQU0sYUFBYTtRQUNYYixNQUFNWTtRQUNOTCxTQUFTSyxLQUFLRSxHQUFHO0lBQ25CO0lBQ0FDLG9CQUFvQjtRQUNsQjtZQUNFWCxhQUFhO2dCQUNYSixNQUFNQztnQkFDTkMsVUFBVTtZQUNaO1lBQ0FjLFdBQVc7Z0JBQ1RoQixNQUFNWTtnQkFDTkwsU0FBU0ssS0FBS0UsR0FBRztZQUNuQjtZQUNBRyxRQUFRO2dCQUNOakIsTUFBTUM7Z0JBQ05RLE1BQU07b0JBQUM7b0JBQVM7aUJBQVU7Z0JBQzFCUCxVQUFVO1lBQ1o7UUFDRjtLQUNEO0lBQ0RnQixRQUFRO1FBQ047WUFDRUMsSUFBSTtnQkFDRm5CLE1BQU1DO2dCQUNOQyxVQUFVO1lBQ1o7WUFDQWtCLE1BQU07Z0JBQ0pwQixNQUFNQztnQkFDTkMsVUFBVTtZQUNaO1lBQ0FtQixhQUFhO2dCQUNYckIsTUFBTUM7Z0JBQ05DLFVBQVU7WUFDWjtZQUNBb0IsVUFBVTtnQkFDUnRCLE1BQU1ZO2dCQUNOTCxTQUFTSyxLQUFLRSxHQUFHO1lBQ25CO1lBQ0FTLFdBQVc7Z0JBQ1R2QixNQUFNQztnQkFDTkMsVUFBVTtZQUNaO1lBQ0FzQixRQUFRO2dCQUNOeEIsTUFBTUM7Z0JBQ05RLE1BQU07b0JBQUM7b0JBQVU7b0JBQVE7b0JBQVE7aUJBQVk7Z0JBQzdDUCxVQUFVO1lBQ1o7UUFDRjtLQUNEO0lBQ0R1QixlQUFlO1FBQ2J6QixNQUFNQztRQUNOTSxTQUFTO0lBQ1g7SUFDQW1CLGFBQWE7UUFDWEMsT0FBTztZQUNMM0IsTUFBTUM7WUFDTlEsTUFBTTtnQkFBQztnQkFBUztnQkFBUTthQUFTO1lBQ2pDRixTQUFTO1FBQ1g7UUFDQXFCLHFCQUFxQjtZQUNuQjVCLE1BQU1DO1lBQ05RLE1BQU07Z0JBQUM7Z0JBQVE7YUFBTztZQUN0QkYsU0FBUztRQUNYO0lBQ0Y7SUFDQXNCLGVBQWU7UUFDYkMsZ0JBQWdCO1lBQ2Q5QixNQUFNK0I7WUFDTnhCLFNBQVM7UUFDWDtRQUNBeUIsZUFBZTtZQUNiaEMsTUFBTStCO1lBQ054QixTQUFTO1FBQ1g7UUFDQTBCLGVBQWU7WUFDYmpDLE1BQU0rQjtZQUNOeEIsU0FBUztRQUNYO1FBQ0EyQixlQUFlO1lBQ2JsQyxNQUFNQztZQUNOTSxTQUFTO1FBQ1g7SUFDRjtBQUNGLEdBQ0E7SUFDRTRCLFlBQVk7QUFDZDtBQUdGLCtDQUErQztBQUMvQ3RDLFdBQVd1QyxLQUFLLENBQUM7SUFBRTVCLE1BQU07QUFBRTtBQUUzQixpRUFBZVosd0RBQWUsQ0FBQzBDLElBQUksSUFDakMxQyxxREFBYyxDQUFRLFFBQVFDLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIi9tbnQvZi9EYXRhL0dpdC9jbGF1ZGUtY29kZS9heWF1a2UtcGFnZS9heWF1a2UtcGFnZS9zcmMvbW9kZWxzL1VzZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJVXNlciBleHRlbmRzIG1vbmdvb3NlLkRvY3VtZW50IHtcclxuICBjaGFubmVsSWQ6IHN0cmluZztcclxuICBjaGFubmVsTmFtZTogc3RyaW5nO1xyXG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XHJcbiAgcHJvZmlsZUltYWdlVXJsPzogc3RyaW5nO1xyXG4gIHJvbGU6IFwic3VwZXJfYWRtaW5cIiB8IFwiYXlhdWtlX2FkbWluXCIgfCBcInNvbmdfYWRtaW5cIiB8IFwic29uZ19lZGl0b3JcIiB8IFwidXNlclwiO1xyXG4gIGdyYW50ZWRCeT86IHN0cmluZztcclxuICBncmFudGVkQXQ/OiBEYXRlO1xyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxuICBsYXN0TG9naW5BdDogRGF0ZTtcclxuICBjaGFubmVsTmFtZUhpc3Rvcnk6IEFycmF5PHtcclxuICAgIGNoYW5uZWxOYW1lOiBzdHJpbmc7XHJcbiAgICBjaGFuZ2VkQXQ6IERhdGU7XHJcbiAgICBzb3VyY2U6IFwibG9naW5cIiB8IFwiaW5pdGlhbFwiO1xyXG4gIH0+O1xyXG4gIHRpdGxlczogQXJyYXk8e1xyXG4gICAgaWQ6IHN0cmluZztcclxuICAgIG5hbWU6IHN0cmluZztcclxuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XHJcbiAgICBlYXJuZWRBdDogRGF0ZTtcclxuICAgIGNvbmRpdGlvbjogc3RyaW5nO1xyXG4gICAgcmFyaXR5OiBcImNvbW1vblwiIHwgXCJyYXJlXCIgfCBcImVwaWNcIiB8IFwibGVnZW5kYXJ5XCI7XHJcbiAgfT47XHJcbiAgc2VsZWN0ZWRUaXRsZTogc3RyaW5nIHwgbnVsbDtcclxuICBwcmVmZXJlbmNlczoge1xyXG4gICAgdGhlbWU6IFwibGlnaHRcIiB8IFwiZGFya1wiIHwgXCJzeXN0ZW1cIjtcclxuICAgIGRlZmF1bHRQbGF5bGlzdFZpZXc6IFwiZ3JpZFwiIHwgXCJsaXN0XCI7XHJcbiAgfTtcclxuICAvLyDtmZzrj5kg7Ya16rOEICjsmpTslb0g642w7J207YSw66eMIOyggOyepSlcclxuICBhY3Rpdml0eVN0YXRzOiB7XHJcbiAgICB0b3RhbExvZ2luRGF5czogbnVtYmVyOyAvLyDstJ0g66Gc6re47J247ZWcIOuCoCDsiJhcclxuICAgIGN1cnJlbnRTdHJlYWs6IG51bWJlcjsgLy8g7ZiE7J6sIOyXsOyGjSDsoJHsho3snbxcclxuICAgIGxvbmdlc3RTdHJlYWs6IG51bWJlcjsgLy8g7LWc7J6lIOyXsOyGjSDsoJHsho3snbwg6riw66GdXHJcbiAgICBsYXN0VmlzaXREYXRlOiBzdHJpbmc7IC8vIOuniOyngOuniSDrsKnrrLgg64Kg7KecIChZWVlZLU1NLUREKVxyXG4gIH07XHJcbn1cclxuXHJcbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgbW9uZ29vc2UuU2NoZW1hPElVc2VyPihcclxuICB7XHJcbiAgICBjaGFubmVsSWQ6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgdW5pcXVlOiB0cnVlLFxyXG4gICAgfSxcclxuICAgIGNoYW5uZWxOYW1lOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICB9LFxyXG4gICAgZGlzcGxheU5hbWU6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICByZXF1aXJlZDogZmFsc2UsXHJcbiAgICB9LFxyXG4gICAgcHJvZmlsZUltYWdlVXJsOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgZGVmYXVsdDogbnVsbCxcclxuICAgIH0sXHJcbiAgICByb2xlOiB7XHJcbiAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgZW51bTogW1wic3VwZXJfYWRtaW5cIiwgXCJzb25nX2FkbWluXCIsIFwic29uZ19lZGl0b3JcIiwgXCJ1c2VyXCJdLFxyXG4gICAgICBkZWZhdWx0OiBcInVzZXJcIixcclxuICAgIH0sXHJcbiAgICBncmFudGVkQnk6IHtcclxuICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgfSxcclxuICAgIGdyYW50ZWRBdDoge1xyXG4gICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgfSxcclxuICAgIGxhc3RMb2dpbkF0OiB7XHJcbiAgICAgIHR5cGU6IERhdGUsXHJcbiAgICAgIGRlZmF1bHQ6IERhdGUubm93LFxyXG4gICAgfSxcclxuICAgIGNoYW5uZWxOYW1lSGlzdG9yeTogW1xyXG4gICAgICB7XHJcbiAgICAgICAgY2hhbm5lbE5hbWU6IHtcclxuICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hhbmdlZEF0OiB7XHJcbiAgICAgICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgICAgICAgfSxcclxuICAgICAgICBzb3VyY2U6IHtcclxuICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgIGVudW06IFtcImxvZ2luXCIsIFwiaW5pdGlhbFwiXSxcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgdGl0bGVzOiBbXHJcbiAgICAgIHtcclxuICAgICAgICBpZDoge1xyXG4gICAgICAgICAgdHlwZTogU3RyaW5nLFxyXG4gICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBuYW1lOiB7XHJcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGRlc2NyaXB0aW9uOiB7XHJcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVhcm5lZEF0OiB7XHJcbiAgICAgICAgICB0eXBlOiBEYXRlLFxyXG4gICAgICAgICAgZGVmYXVsdDogRGF0ZS5ub3csXHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb25kaXRpb246IHtcclxuICAgICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgcmFyaXR5OiB7XHJcbiAgICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgICBlbnVtOiBbXCJjb21tb25cIiwgXCJyYXJlXCIsIFwiZXBpY1wiLCBcImxlZ2VuZGFyeVwiXSxcclxuICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICBdLFxyXG4gICAgc2VsZWN0ZWRUaXRsZToge1xyXG4gICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgIGRlZmF1bHQ6IG51bGwsXHJcbiAgICB9LFxyXG4gICAgcHJlZmVyZW5jZXM6IHtcclxuICAgICAgdGhlbWU6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZW51bTogW1wibGlnaHRcIiwgXCJkYXJrXCIsIFwic3lzdGVtXCJdLFxyXG4gICAgICAgIGRlZmF1bHQ6IFwic3lzdGVtXCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIGRlZmF1bHRQbGF5bGlzdFZpZXc6IHtcclxuICAgICAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICAgICAgZW51bTogW1wiZ3JpZFwiLCBcImxpc3RcIl0sXHJcbiAgICAgICAgZGVmYXVsdDogXCJncmlkXCIsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgYWN0aXZpdHlTdGF0czoge1xyXG4gICAgICB0b3RhbExvZ2luRGF5czoge1xyXG4gICAgICAgIHR5cGU6IE51bWJlcixcclxuICAgICAgICBkZWZhdWx0OiAwLFxyXG4gICAgICB9LFxyXG4gICAgICBjdXJyZW50U3RyZWFrOiB7XHJcbiAgICAgICAgdHlwZTogTnVtYmVyLFxyXG4gICAgICAgIGRlZmF1bHQ6IDAsXHJcbiAgICAgIH0sXHJcbiAgICAgIGxvbmdlc3RTdHJlYWs6IHtcclxuICAgICAgICB0eXBlOiBOdW1iZXIsXHJcbiAgICAgICAgZGVmYXVsdDogMCxcclxuICAgICAgfSxcclxuICAgICAgbGFzdFZpc2l0RGF0ZToge1xyXG4gICAgICAgIHR5cGU6IFN0cmluZyxcclxuICAgICAgICBkZWZhdWx0OiBudWxsLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9LFxyXG4gIHtcclxuICAgIHRpbWVzdGFtcHM6IHRydWUsXHJcbiAgfVxyXG4pO1xyXG5cclxuLy8g7J24642x7IqkIOy2lOqwgCAoY2hhbm5lbElk64qUIHVuaXF1ZTogdHJ1ZeuhnCDsnpDrj5kg7J24642x7IqkIOyDneyEseuQqClcclxudXNlclNjaGVtYS5pbmRleCh7IHJvbGU6IDEgfSk7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBtb25nb29zZS5tb2RlbHMuVXNlciB8fFxyXG4gIG1vbmdvb3NlLm1vZGVsPElVc2VyPihcIlVzZXJcIiwgdXNlclNjaGVtYSk7XHJcbiJdLCJuYW1lcyI6WyJtb25nb29zZSIsInVzZXJTY2hlbWEiLCJTY2hlbWEiLCJjaGFubmVsSWQiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJ1bmlxdWUiLCJjaGFubmVsTmFtZSIsImRpc3BsYXlOYW1lIiwicHJvZmlsZUltYWdlVXJsIiwiZGVmYXVsdCIsInJvbGUiLCJlbnVtIiwiZ3JhbnRlZEJ5IiwiZ3JhbnRlZEF0IiwiRGF0ZSIsImxhc3RMb2dpbkF0Iiwibm93IiwiY2hhbm5lbE5hbWVIaXN0b3J5IiwiY2hhbmdlZEF0Iiwic291cmNlIiwidGl0bGVzIiwiaWQiLCJuYW1lIiwiZGVzY3JpcHRpb24iLCJlYXJuZWRBdCIsImNvbmRpdGlvbiIsInJhcml0eSIsInNlbGVjdGVkVGl0bGUiLCJwcmVmZXJlbmNlcyIsInRoZW1lIiwiZGVmYXVsdFBsYXlsaXN0VmlldyIsImFjdGl2aXR5U3RhdHMiLCJ0b3RhbExvZ2luRGF5cyIsIk51bWJlciIsImN1cnJlbnRTdHJlYWsiLCJsb25nZXN0U3RyZWFrIiwibGFzdFZpc2l0RGF0ZSIsInRpbWVzdGFtcHMiLCJpbmRleCIsIm1vZGVscyIsIlVzZXIiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/User.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/UserActivity.ts":
/*!************************************!*\
  !*** ./src/models/UserActivity.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UserActivity: () => (/* binding */ UserActivity),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst UserActivitySchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    userId: {\n        type: mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema.Types.ObjectId,\n        ref: 'User',\n        required: true,\n        index: true\n    },\n    date: {\n        type: String,\n        required: true\n    },\n    visitCount: {\n        type: Number,\n        default: 1\n    },\n    firstVisitAt: {\n        type: Date,\n        required: true\n    },\n    lastVisitAt: {\n        type: Date,\n        required: true\n    }\n}, {\n    timestamps: true\n});\n// 복합 인덱스: 사용자별 날짜 조회 최적화\nUserActivitySchema.index({\n    userId: 1,\n    date: 1\n}, {\n    unique: true\n});\n// 날짜별 인덱스: 오래된 데이터 정리 시 사용\nUserActivitySchema.index({\n    date: 1\n});\nconst UserActivity = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).UserActivity || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('UserActivity', UserActivitySchema);\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (UserActivity);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1VzZXJBY3Rpdml0eS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQXFEO0FBWXJELE1BQU1FLHFCQUFxQixJQUFJRCw0Q0FBTUEsQ0FBZ0I7SUFDbkRFLFFBQVE7UUFDTkMsTUFBTUgsNENBQU1BLENBQUNJLEtBQUssQ0FBQ0MsUUFBUTtRQUMzQkMsS0FBSztRQUNMQyxVQUFVO1FBQ1ZDLE9BQU87SUFDVDtJQUNBQyxNQUFNO1FBQ0pOLE1BQU1PO1FBQ05ILFVBQVU7SUFDWjtJQUNBSSxZQUFZO1FBQ1ZSLE1BQU1TO1FBQ05DLFNBQVM7SUFDWDtJQUNBQyxjQUFjO1FBQ1pYLE1BQU1ZO1FBQ05SLFVBQVU7SUFDWjtJQUNBUyxhQUFhO1FBQ1hiLE1BQU1ZO1FBQ05SLFVBQVU7SUFDWjtBQUNGLEdBQUc7SUFDRFUsWUFBWTtBQUNkO0FBRUEseUJBQXlCO0FBQ3pCaEIsbUJBQW1CTyxLQUFLLENBQUM7SUFBRU4sUUFBUTtJQUFHTyxNQUFNO0FBQUUsR0FBRztJQUFFUyxRQUFRO0FBQUs7QUFFaEUsMkJBQTJCO0FBQzNCakIsbUJBQW1CTyxLQUFLLENBQUM7SUFBRUMsTUFBTTtBQUFFO0FBRW5DLE1BQU1VLGVBQWVwQix3REFBZSxDQUFDb0IsWUFBWSxJQUFJcEIscURBQWMsQ0FBZ0IsZ0JBQWdCRTtBQUU1RTtBQUN2QixpRUFBZWtCLFlBQVlBLEVBQUEiLCJzb3VyY2VzIjpbIi9tbnQvZi9EYXRhL0dpdC9jbGF1ZGUtY29kZS9heWF1a2UtcGFnZS9heWF1a2UtcGFnZS9zcmMvbW9kZWxzL1VzZXJBY3Rpdml0eS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCB9IGZyb20gJ21vbmdvb3NlJ1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJVXNlckFjdGl2aXR5IGV4dGVuZHMgRG9jdW1lbnQge1xyXG4gIHVzZXJJZDogbW9uZ29vc2UuVHlwZXMuT2JqZWN0SWRcclxuICBkYXRlOiBzdHJpbmcgLy8gJ1lZWVktTU0tREQnIO2YleyLnVxyXG4gIHZpc2l0Q291bnQ6IG51bWJlclxyXG4gIGZpcnN0VmlzaXRBdDogRGF0ZVxyXG4gIGxhc3RWaXNpdEF0OiBEYXRlXHJcbiAgY3JlYXRlZEF0OiBEYXRlXHJcbiAgdXBkYXRlZEF0OiBEYXRlXHJcbn1cclxuXHJcbmNvbnN0IFVzZXJBY3Rpdml0eVNjaGVtYSA9IG5ldyBTY2hlbWE8SVVzZXJBY3Rpdml0eT4oe1xyXG4gIHVzZXJJZDoge1xyXG4gICAgdHlwZTogU2NoZW1hLlR5cGVzLk9iamVjdElkLFxyXG4gICAgcmVmOiAnVXNlcicsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIGluZGV4OiB0cnVlXHJcbiAgfSxcclxuICBkYXRlOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZVxyXG4gIH0sXHJcbiAgdmlzaXRDb3VudDoge1xyXG4gICAgdHlwZTogTnVtYmVyLFxyXG4gICAgZGVmYXVsdDogMVxyXG4gIH0sXHJcbiAgZmlyc3RWaXNpdEF0OiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG4gIGxhc3RWaXNpdEF0OiB7XHJcbiAgICB0eXBlOiBEYXRlLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9XHJcbn0sIHtcclxuICB0aW1lc3RhbXBzOiB0cnVlXHJcbn0pXHJcblxyXG4vLyDrs7Xtlakg7J24642x7IqkOiDsgqzsmqnsnpDrs4Qg64Kg7KecIOyhsO2ajCDstZzsoIHtmZRcclxuVXNlckFjdGl2aXR5U2NoZW1hLmluZGV4KHsgdXNlcklkOiAxLCBkYXRlOiAxIH0sIHsgdW5pcXVlOiB0cnVlIH0pXHJcblxyXG4vLyDrgqDsp5zrs4Qg7J24642x7IqkOiDsmKTrnpjrkJwg642w7J207YSwIOygleumrCDsi5wg7IKs7JqpXHJcblVzZXJBY3Rpdml0eVNjaGVtYS5pbmRleCh7IGRhdGU6IDEgfSlcclxuXHJcbmNvbnN0IFVzZXJBY3Rpdml0eSA9IG1vbmdvb3NlLm1vZGVscy5Vc2VyQWN0aXZpdHkgfHwgbW9uZ29vc2UubW9kZWw8SVVzZXJBY3Rpdml0eT4oJ1VzZXJBY3Rpdml0eScsIFVzZXJBY3Rpdml0eVNjaGVtYSlcclxuXHJcbmV4cG9ydCB7IFVzZXJBY3Rpdml0eSB9XHJcbmV4cG9ydCBkZWZhdWx0IFVzZXJBY3Rpdml0eSJdLCJuYW1lcyI6WyJtb25nb29zZSIsIlNjaGVtYSIsIlVzZXJBY3Rpdml0eVNjaGVtYSIsInVzZXJJZCIsInR5cGUiLCJUeXBlcyIsIk9iamVjdElkIiwicmVmIiwicmVxdWlyZWQiLCJpbmRleCIsImRhdGUiLCJTdHJpbmciLCJ2aXNpdENvdW50IiwiTnVtYmVyIiwiZGVmYXVsdCIsImZpcnN0VmlzaXRBdCIsIkRhdGUiLCJsYXN0VmlzaXRBdCIsInRpbWVzdGFtcHMiLCJ1bmlxdWUiLCJVc2VyQWN0aXZpdHkiLCJtb2RlbHMiLCJtb2RlbCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/UserActivity.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/YouTubeComment.ts":
/*!**************************************!*\
  !*** ./src/models/YouTubeComment.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   YouTubeChannel: () => (/* binding */ YouTubeChannel),\n/* harmony export */   YouTubeComment: () => (/* binding */ YouTubeComment),\n/* harmony export */   YouTubeVideo: () => (/* binding */ YouTubeVideo)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst ChannelSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    channelId: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    channelName: {\n        type: String,\n        required: true\n    },\n    channelUrl: {\n        type: String,\n        required: true\n    },\n    lastSyncDate: {\n        type: Date,\n        default: Date.now\n    },\n    totalVideos: {\n        type: Number,\n        default: 0\n    },\n    totalComments: {\n        type: Number,\n        default: 0\n    },\n    timelineComments: {\n        type: Number,\n        default: 0\n    }\n}, {\n    timestamps: true\n});\nconst VideoSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    videoId: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    channelId: {\n        type: String,\n        required: true\n    },\n    title: {\n        type: String,\n        required: true\n    },\n    publishedAt: {\n        type: Date,\n        required: true\n    },\n    duration: {\n        type: String,\n        default: ''\n    },\n    viewCount: {\n        type: Number,\n        default: 0\n    },\n    totalComments: {\n        type: Number,\n        default: 0\n    },\n    timelineComments: {\n        type: Number,\n        default: 0\n    },\n    lastCommentSync: {\n        type: Date,\n        default: Date.now\n    },\n    lastNewCommentAt: {\n        type: Date\n    },\n    thumbnailUrl: {\n        type: String,\n        default: ''\n    }\n}, {\n    timestamps: true\n});\nconst CommentSchema = new mongoose__WEBPACK_IMPORTED_MODULE_0__.Schema({\n    commentId: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    videoId: {\n        type: String,\n        required: true\n    },\n    authorName: {\n        type: String,\n        required: true\n    },\n    textContent: {\n        type: String,\n        required: true\n    },\n    publishedAt: {\n        type: Date,\n        required: true\n    },\n    likeCount: {\n        type: Number,\n        default: 0\n    },\n    isTimeline: {\n        type: Boolean,\n        default: false\n    },\n    extractedTimestamps: [\n        {\n            type: String\n        }\n    ],\n    isProcessed: {\n        type: Boolean,\n        default: false\n    },\n    processedBy: {\n        type: String\n    },\n    processedAt: {\n        type: Date\n    },\n    manuallyMarked: {\n        type: Boolean,\n        default: false\n    }\n}, {\n    timestamps: true\n});\n// 인덱스 설정\nVideoSchema.index({\n    channelId: 1,\n    publishedAt: -1\n});\nCommentSchema.index({\n    videoId: 1,\n    isTimeline: 1\n});\nCommentSchema.index({\n    isProcessed: 1,\n    isTimeline: 1\n});\nconst YouTubeChannel = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).YouTubeChannel || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('YouTubeChannel', ChannelSchema);\nconst YouTubeVideo = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).YouTubeVideo || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('YouTubeVideo', VideoSchema);\nconst YouTubeComment = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).YouTubeComment || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model('YouTubeComment', CommentSchema);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TTBDLGVBQWU1Qyx3REFBZSxDQUFDNEMsWUFBWSxJQUFJNUMscURBQWMsQ0FBWSxnQkFBZ0JtQixhQUFhO0FBQzVHLE1BQU0wQixpQkFBaUI3Qyx3REFBZSxDQUFDNkMsY0FBYyxJQUFJN0MscURBQWMsQ0FBYyxrQkFBa0I0QixlQUFlIiwic291cmNlcyI6WyIvbW50L2YvRGF0YS9HaXQvY2xhdWRlLWNvZGUvYXlhdWtlLXBhZ2UvYXlhdWtlLXBhZ2Uvc3JjL21vZGVscy9Zb3VUdWJlQ29tbWVudC50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UsIHsgU2NoZW1hLCBEb2N1bWVudCB9IGZyb20gJ21vbmdvb3NlJztcclxuXHJcbi8vIFlvdVR1YmUg7LGE64SQIOuNsOydtO2EsFxyXG5leHBvcnQgaW50ZXJmYWNlIENoYW5uZWxEYXRhIGV4dGVuZHMgRG9jdW1lbnQge1xyXG4gIGNoYW5uZWxJZDogc3RyaW5nO1xyXG4gIGNoYW5uZWxOYW1lOiBzdHJpbmc7XHJcbiAgY2hhbm5lbFVybDogc3RyaW5nO1xyXG4gIGxhc3RTeW5jRGF0ZTogRGF0ZTtcclxuICB0b3RhbFZpZGVvczogbnVtYmVyO1xyXG4gIHRvdGFsQ29tbWVudHM6IG51bWJlcjtcclxuICB0aW1lbGluZUNvbW1lbnRzOiBudW1iZXI7XHJcbiAgY3JlYXRlZEF0OiBEYXRlO1xyXG4gIHVwZGF0ZWRBdDogRGF0ZTtcclxufVxyXG5cclxuY29uc3QgQ2hhbm5lbFNjaGVtYSA9IG5ldyBTY2hlbWE8Q2hhbm5lbERhdGE+KHtcclxuICBjaGFubmVsSWQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXHJcbiAgY2hhbm5lbE5hbWU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGNoYW5uZWxVcmw6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIGxhc3RTeW5jRGF0ZTogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxyXG4gIHRvdGFsVmlkZW9zOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxyXG4gIHRvdGFsQ29tbWVudHM6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgdGltZWxpbmVDb21tZW50czogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfVxyXG59LCB7XHJcbiAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbi8vIFlvdVR1YmUg67mE65SU7JikIOuNsOydtO2EsFxyXG5leHBvcnQgaW50ZXJmYWNlIFZpZGVvRGF0YSBleHRlbmRzIERvY3VtZW50IHtcclxuICB2aWRlb0lkOiBzdHJpbmc7XHJcbiAgY2hhbm5lbElkOiBzdHJpbmc7XHJcbiAgdGl0bGU6IHN0cmluZztcclxuICBwdWJsaXNoZWRBdDogRGF0ZTtcclxuICBkdXJhdGlvbjogc3RyaW5nO1xyXG4gIHZpZXdDb3VudDogbnVtYmVyO1xyXG4gIHRvdGFsQ29tbWVudHM6IG51bWJlcjtcclxuICB0aW1lbGluZUNvbW1lbnRzOiBudW1iZXI7XHJcbiAgbGFzdENvbW1lbnRTeW5jOiBEYXRlO1xyXG4gIGxhc3ROZXdDb21tZW50QXQ/OiBEYXRlO1xyXG4gIHRodW1ibmFpbFVybDogc3RyaW5nO1xyXG4gIGNyZWF0ZWRBdDogRGF0ZTtcclxuICB1cGRhdGVkQXQ6IERhdGU7XHJcbn1cclxuXHJcbmNvbnN0IFZpZGVvU2NoZW1hID0gbmV3IFNjaGVtYTxWaWRlb0RhdGE+KHtcclxuICB2aWRlb0lkOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxyXG4gIGNoYW5uZWxJZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgdGl0bGU6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHB1Ymxpc2hlZEF0OiB7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgZHVyYXRpb246IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxyXG4gIHZpZXdDb3VudDogeyB0eXBlOiBOdW1iZXIsIGRlZmF1bHQ6IDAgfSxcclxuICB0b3RhbENvbW1lbnRzOiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxyXG4gIHRpbWVsaW5lQ29tbWVudHM6IHsgdHlwZTogTnVtYmVyLCBkZWZhdWx0OiAwIH0sXHJcbiAgbGFzdENvbW1lbnRTeW5jOiB7IHR5cGU6IERhdGUsIGRlZmF1bHQ6IERhdGUubm93IH0sXHJcbiAgbGFzdE5ld0NvbW1lbnRBdDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgdGh1bWJuYWlsVXJsOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfVxyXG59LCB7XHJcbiAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbi8vIFlvdVR1YmUg64yT6riAIOuNsOydtO2EsFxyXG5leHBvcnQgaW50ZXJmYWNlIENvbW1lbnREYXRhIGV4dGVuZHMgRG9jdW1lbnQge1xyXG4gIGNvbW1lbnRJZDogc3RyaW5nO1xyXG4gIHZpZGVvSWQ6IHN0cmluZztcclxuICBhdXRob3JOYW1lOiBzdHJpbmc7XHJcbiAgdGV4dENvbnRlbnQ6IHN0cmluZztcclxuICBwdWJsaXNoZWRBdDogRGF0ZTtcclxuICBsaWtlQ291bnQ6IG51bWJlcjtcclxuICBpc1RpbWVsaW5lOiBib29sZWFuO1xyXG4gIGV4dHJhY3RlZFRpbWVzdGFtcHM6IHN0cmluZ1tdO1xyXG4gIGlzUHJvY2Vzc2VkOiBib29sZWFuO1xyXG4gIHByb2Nlc3NlZEJ5Pzogc3RyaW5nO1xyXG4gIHByb2Nlc3NlZEF0PzogRGF0ZTtcclxuICBtYW51YWxseU1hcmtlZD86IGJvb2xlYW47XHJcbiAgY3JlYXRlZEF0OiBEYXRlO1xyXG4gIHVwZGF0ZWRBdDogRGF0ZTtcclxufVxyXG5cclxuY29uc3QgQ29tbWVudFNjaGVtYSA9IG5ldyBTY2hlbWE8Q29tbWVudERhdGE+KHtcclxuICBjb21tZW50SWQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSwgdW5pcXVlOiB0cnVlIH0sXHJcbiAgdmlkZW9JZDogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgYXV0aG9yTmFtZTogeyB0eXBlOiBTdHJpbmcsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgdGV4dENvbnRlbnQ6IHsgdHlwZTogU3RyaW5nLCByZXF1aXJlZDogdHJ1ZSB9LFxyXG4gIHB1Ymxpc2hlZEF0OiB7IHR5cGU6IERhdGUsIHJlcXVpcmVkOiB0cnVlIH0sXHJcbiAgbGlrZUNvdW50OiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMCB9LFxyXG4gIGlzVGltZWxpbmU6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcclxuICBleHRyYWN0ZWRUaW1lc3RhbXBzOiBbeyB0eXBlOiBTdHJpbmcgfV0sXHJcbiAgaXNQcm9jZXNzZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSxcclxuICBwcm9jZXNzZWRCeTogeyB0eXBlOiBTdHJpbmcgfSxcclxuICBwcm9jZXNzZWRBdDogeyB0eXBlOiBEYXRlIH0sXHJcbiAgbWFudWFsbHlNYXJrZWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfVxyXG59LCB7XHJcbiAgdGltZXN0YW1wczogdHJ1ZVxyXG59KTtcclxuXHJcbi8vIOyduOuNseyKpCDshKTsoJVcclxuVmlkZW9TY2hlbWEuaW5kZXgoeyBjaGFubmVsSWQ6IDEsIHB1Ymxpc2hlZEF0OiAtMSB9KTtcclxuQ29tbWVudFNjaGVtYS5pbmRleCh7IHZpZGVvSWQ6IDEsIGlzVGltZWxpbmU6IDEgfSk7XHJcbkNvbW1lbnRTY2hlbWEuaW5kZXgoeyBpc1Byb2Nlc3NlZDogMSwgaXNUaW1lbGluZTogMSB9KTtcclxuXHJcbmV4cG9ydCBjb25zdCBZb3VUdWJlQ2hhbm5lbCA9IG1vbmdvb3NlLm1vZGVscy5Zb3VUdWJlQ2hhbm5lbCB8fCBtb25nb29zZS5tb2RlbDxDaGFubmVsRGF0YT4oJ1lvdVR1YmVDaGFubmVsJywgQ2hhbm5lbFNjaGVtYSk7XHJcbmV4cG9ydCBjb25zdCBZb3VUdWJlVmlkZW8gPSBtb25nb29zZS5tb2RlbHMuWW91VHViZVZpZGVvIHx8IG1vbmdvb3NlLm1vZGVsPFZpZGVvRGF0YT4oJ1lvdVR1YmVWaWRlbycsIFZpZGVvU2NoZW1hKTtcclxuZXhwb3J0IGNvbnN0IFlvdVR1YmVDb21tZW50ID0gbW9uZ29vc2UubW9kZWxzLllvdVR1YmVDb21tZW50IHx8IG1vbmdvb3NlLm1vZGVsPENvbW1lbnREYXRhPignWW91VHViZUNvbW1lbnQnLCBDb21tZW50U2NoZW1hKTsiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJTY2hlbWEiLCJDaGFubmVsU2NoZW1hIiwiY2hhbm5lbElkIiwidHlwZSIsIlN0cmluZyIsInJlcXVpcmVkIiwidW5pcXVlIiwiY2hhbm5lbE5hbWUiLCJjaGFubmVsVXJsIiwibGFzdFN5bmNEYXRlIiwiRGF0ZSIsImRlZmF1bHQiLCJub3ciLCJ0b3RhbFZpZGVvcyIsIk51bWJlciIsInRvdGFsQ29tbWVudHMiLCJ0aW1lbGluZUNvbW1lbnRzIiwidGltZXN0YW1wcyIsIlZpZGVvU2NoZW1hIiwidmlkZW9JZCIsInRpdGxlIiwicHVibGlzaGVkQXQiLCJkdXJhdGlvbiIsInZpZXdDb3VudCIsImxhc3RDb21tZW50U3luYyIsImxhc3ROZXdDb21tZW50QXQiLCJ0aHVtYm5haWxVcmwiLCJDb21tZW50U2NoZW1hIiwiY29tbWVudElkIiwiYXV0aG9yTmFtZSIsInRleHRDb250ZW50IiwibGlrZUNvdW50IiwiaXNUaW1lbGluZSIsIkJvb2xlYW4iLCJleHRyYWN0ZWRUaW1lc3RhbXBzIiwiaXNQcm9jZXNzZWQiLCJwcm9jZXNzZWRCeSIsInByb2Nlc3NlZEF0IiwibWFudWFsbHlNYXJrZWQiLCJpbmRleCIsIllvdVR1YmVDaGFubmVsIiwibW9kZWxzIiwibW9kZWwiLCJZb3VUdWJlVmlkZW8iLCJZb3VUdWJlQ29tbWVudCJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/models/YouTubeComment.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "?32c4":
/*!****************************!*\
  !*** bufferutil (ignored) ***!
  \****************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "assert":
/*!*************************!*\
  !*** external "assert" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("assert");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongoose");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/next-auth","vendor-chunks/@babel","vendor-chunks/jose","vendor-chunks/openid-client","vendor-chunks/ws","vendor-chunks/chzzk","vendor-chunks/oauth","vendor-chunks/preact","vendor-chunks/yallist","vendor-chunks/preact-render-to-string","vendor-chunks/cookie","vendor-chunks/oidc-token-hash","vendor-chunks/@panva","vendor-chunks/isomorphic-ws"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Ftimeline-parser%2Froute&page=%2Fapi%2Ftimeline-parser%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Ftimeline-parser%2Froute.ts&appDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page%2Fsrc%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fmnt%2Ff%2FData%2FGit%2Fclaude-code%2Fayauke-page%2Fayauke-page&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();