# 구글 시트 API 설정 가이드

실제 구글 시트에서 노래 데이터를 가져오려면 Google Sheets API를 설정해야 합니다.

## 1. Google Cloud Console 설정

### 1.1 프로젝트 생성
1. [Google Cloud Console](https://console.cloud.google.com/)에 접속
2. 새 프로젝트를 생성하거나 기존 프로젝트 선택
3. "API 및 서비스" > "라이브러리"로 이동

### 1.2 Sheets API 활성화
1. "Google Sheets API"를 검색
2. "사용" 버튼 클릭하여 API 활성화

### 1.3 API 키 생성
1. "API 및 서비스" > "사용자 인증 정보"로 이동
2. "+ 사용자 인증 정보 만들기" > "API 키" 선택
3. 생성된 API 키를 복사

### 1.4 API 키 제한 설정 (권장)
1. 생성된 API 키의 "편집" 버튼 클릭
2. "API 제한사항"에서 "키 제한" 선택
3. "Google Sheets API" 선택
4. "웹사이트 제한사항"에서 도메인 추가 (선택사항)

## 2. 구글 시트 설정

### 2.1 시트 공개 설정
1. 구글 시트를 열기
2. 우측 상단 "공유" 버튼 클릭
3. "일반 액세스"를 "링크가 있는 모든 사용자"로 설정
4. 권한을 "뷰어"로 설정

### 2.2 시트 ID 확인
구글 시트 URL에서 시트 ID를 확인하세요:
```
https://docs.google.com/spreadsheets/d/[SHEET_ID]/edit
```
현재 설정된 시트 ID: `1g-hVYnHn20XkS2HLAzOI9UcOnNHNtz1H-1g1MgVXTAc`

## 3. 환경 변수 설정

`.env.local` 파일을 수정하여 실제 API 키를 입력하세요:

```env
# 실제 Google Sheets API 키로 교체하세요
NEXT_PUBLIC_GOOGLE_SHEETS_API_KEY=your_actual_api_key_here
```

## 4. 시트 구조

시스템이 자동으로 감지하는 컬럼들:

### 제목 컬럼 (필수)
- 가능한 헤더: `제목`, `title`, `곡명`, `노래`

### 아티스트 컬럼 (필수)
- 가능한 헤더: `아티스트`, `artist`, `가수`, `원곡자`

### 언어 컬럼 (선택)
- 가능한 헤더: `언어`, `language`, `lang`
- 자동 감지: 한글/영어/일본어 문자 패턴으로 자동 판별

### 장르 컬럼 (선택)
- 가능한 헤더: `장르`, `genre`, `분류`

### MR 링크 컬럼 (선택)
- 가능한 헤더: `mr`, `link`, `링크`, `반주`
- 여러 링크는 쉼표(,)나 줄바꿈으로 구분

### 기타 컬럼 (선택)
- 가사: `가사`, `lyrics`
- 난이도: `난이도`, `difficulty`, `레벨`
- 태그: `태그`, `tags`, `분류`
- 날짜: `날짜`, `date`, `추가일`

## 5. 테스트

API 키를 설정한 후:
1. 웹사이트 새로고침
2. 브라우저 개발자 도구(F12) > Console 탭에서 로그 확인
3. "Successfully fetched data from range" 메시지 확인

## 6. 문제 해결

### API 키 오류
- API 키가 올바른지 확인
- Sheets API가 활성화되었는지 확인
- API 키 제한사항 확인

### 데이터 없음
- 시트가 공개되어 있는지 확인
- 시트 ID가 올바른지 확인
- 첫 번째 행에 헤더가 있는지 확인

### 권한 오류
- 시트 공유 설정이 "링크가 있는 모든 사용자"로 되어있는지 확인

## 참고 사항

- 현재는 Mock 데이터로 동작하므로 API 키 없이도 사용 가능
- 실제 데이터를 사용하려면 위 설정을 완료해야 함
- 시트 구조는 유연하게 설계되어 다양한 형태의 시트에서 작동